{"version":3,"sources":["util.js"],"names":["BX","namespace","Call","Util","userData","usersInProcess","updateUserData","users","usersToUpdate","self","this","i","length","hasOwnProperty","push","result","Promise","resolve","reject","rest","callMethod","ID","AVATAR_HR","then","response","answer","type","isPlainObject","userId","catch","error","getDateForLog","d","Date","getFullYear","lpad","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getTimeForLog","str","chr","toString","getUser","getUserName","name","getUserAvatar","avatar_hr","getCustomMessage","message","messageText","gender","convertKeysToUpper","replace","match","placeHolder","substr","obj","util","objectClone","k","u","toUpperCase","appendChildren","parent","children","forEach","child","appendChild","containsVideoTrack","stream","MediaStream","getVideoTracks","findRowCount","width","height","userCount","bestFilledArea","candidateArea","getFilledArea","rowCount","columnCount","Math","ceil","maxElementWidth","maxElementHeight","ratio","neededRatio","expectedElementHeight","expectedElementWidth","expectedArea","alterSDP","sdp","options","sdpLines","split","codecRtpMaps","videoLineIndex","line","exec","rtpmap","codec","sortVideoLine","join","videoLine","rtpMaps","parsedVideoLine","codecsSlice","slice","rtpMapToCodec","rtpMap","sort","a","b","trim","codecA","codecB","concat"],"mappings":"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","file":"util.map.js"}