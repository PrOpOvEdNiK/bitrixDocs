{"version":3,"sources":["controller.js"],"names":["BX","namespace","Call","Controller","config","this","messenger","container","folded","currentCall","childCall","callView","callNotification","invitePopup","isHttps","window","location","protocol","callWithMobile","autoCloseCallView","localStreams","main","screen","cameraList","microphoneList","Object","defineProperty","get","localStorage","getItem","_onCallUserInvitedHandler","_onCallUserInvited","bind","_onCallDestroyHandler","_onCallDestroy","_onCallUserStateChangedHandler","_onCallUserStateChanged","_onCallLocalMediaReceivedHandler","_onCallLocalMediaReceived","_onCallLocalMediaStoppedHandler","_onCallLocalMediaStopped","_onCallUserStreamReceivedHandler","_onCallUserStreamReceived","_onCallUserStreamRemovedHandler","_onCallUserStreamRemoved","_onCallUserVoiceStartedHandler","_onCallUserVoiceStarted","_onCallUserVoiceStoppedHandler","_onCallUserVoiceStopped","_onCallDeviceListUpdatedHandler","_onCallDeviceListUpdated","_onCallFailureHandler","_onCallFailure","_onBeforeUnloadHandler","_onBeforeUnload","_onImTabChangeHandler","_onImTabChange","_onChildCallFirstStreamHandler","_onChildCallFirstStream","_onWindowFocusHandler","_onWindowFocus","_onWindowBlurHandler","_onWindowBlur","desktop","floatingWindow","FloatingVideo","onMainAreaClick","_onFloatingVideoMainAreaClick","onButtonClick","_onFloatingVideoButtonClick","floatingWindowUser","showFloatingWindowTimeout","hideIncomingCallTimeout","init","prototype","self","addCustomEvent","e","newCall","call","isMobile","bindCallEvents","checkDeskop","then","enumerateDevices","showIncomingCall","video","id","parentId","users","forEach","userId","addUser","UserState","Calling","answerChildCall","decline","addEventListener","focus","garbage","destroy","Event","onUserInvited","onDestroy","onUserStateChanged","onLocalMediaReceived","onLocalMediaStopped","onStreamReceived","onStreamRemoved","onUserVoiceStarted","onUserVoiceStopped","onDeviceListUpdated","onCallFailure","removeCallEvents","removeEventListener","bindCallViewEvents","setCallback","_onCallViewClose","_onCallViewDestroy","_onCallViewButtonClick","_onCallViewBodyClick","_onCallViewReplaceCamera","_onCallViewReplaceMicrophone","_onCallViewSetCentralUser","Promise","resolve","reject","navigator","mediaDevices","devices","deviceInfo","kind","deviceId","label","isMessengerOpen","popupMessenger","isWebRTCSupported","webkitRTCPeerConnection","mozRTCPeerConnection","RTCPeerConnection","isCallServerAllowed","message","getUserLimit","createContainer","create","props","className","MessengerWindow","content","insertBefore","firstChild","popupMessengerContent","classList","add","resize","answer","useVideo","isVideoEnabled","setStream","stream","oldCall","associatedEntity","openMessenger","muted","setMuted","desktopUtils","runningCheck","params","type","isPlainObject","allowVideo","Notification","callerName","name","callerAvatar","avatar","hasCamera","keys","length","onClose","_onCallNotificationClose","_onCallNotificationDestroy","_onCallNotificationButtonClick","show","clearTimeout","setTimeout","close","BXIM","repeatSound","showNotification","notificationText","UI","Center","notify","util","htmlspecialchars","position","autoHideDelay","closeButton","startCall","chatId","provider","Provider","Plain","toString","substr","Voximplant","View","showChatButtons","userLimit","language","debug1","Date","cameraParams","cameraId","defaultCamera","preferHdQuality","videoQuality","VoxImplant","Hardware","VideoQuality","VIDEO_SIZE_HD","CameraManager","setDefaultVideoSettings","Engine","getInstance","createCall","entityType","entityId","videoEnabled","enableMicAutoParameters","debug2","log","useHdVideo","defaultMicrophone","setMicrophoneId","setCameraId","currentTab","appendUsers","getUsers","inviteUsers","catch","error","console","code","hasActiveCall","isAnyoneParticipating","fold","setTitle","setSize","Size","Folded","unfold","remove","Full","stopRepeatSound","button","windowCommand","VoximplantCall","dialogId","userStates","disableAddUser","hangup","buttonName","handlers","_onCallViewHangupButtonClick","_onCallViewCloseButtonClick","inviteUser","_onCallViewInviteUserButtonClick","toggleMute","_onCallViewToggleMuteButtonClick","toggleScreenSharing","_onCallViewToggleScreenSharingButtonClick","toggleVideo","_onCallViewToggleVideoButtonClick","showChat","_onCallViewShowChatButtonClick","showHistory","_onCallViewShowHistoryButtonClick","fullscreen","_onCallViewFullScreenButtonClick","isFunction","detached","hide","style","width","_getDisconnectedUsers","result","Connected","Util","userData","push","idleUsers","InvitePopup","bindElement","node","zIndex","MessengerCommon","getDefaultZIndex","allowNewUsers","_onInvitePopupDestroy","onSelect","_onInvitePopupSelect","setAudioMuted","isScreenSharingStarted","stopScreenSharing","startScreenSharing","setVideoEnabled","openHistory","toggleFullScreen","dialogStatusRedraw","setUserState","state","disableSwitchCamera","disableScreenSharing","disableMediaSelection","updateButtons","Connecting","getUser","getCustomMessage","gender","Idle","previousState","Failed","Declined","tag","setLocalStream","getVideoTracks","setUserTalking","setDeviceList","deviceList","showFatalError","text","user","PlainCall","createChildCall","currentUsers","hasOwnProperty","preventDefault","returnValue","changeTab","removeProperty","arr","CallEngine","apply","concat","Array","slice","arguments"],"mappings":"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","file":"controller.map.js"}