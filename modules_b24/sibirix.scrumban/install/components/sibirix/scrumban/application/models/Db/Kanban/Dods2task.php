<? $GLOBALS['_2068101614_']=Array(base64_decode('bXRfcmFuZA' .'=='),base64_decode('c3Ryd' .'G91cHBlc' .'g=='),base64_decode('cG9z'),base64_decode('b' .'X' .'R' .'fcmFuZA=='),base64_decode('Y3' .'Vyb' .'F9' .'tdWx' .'0a' .'V9z' .'ZW' .'xl' .'Y' .'3Q='),base64_decode('' .'Y2' .'91bnQ='),base64_decode('' .'aW1hZ' .'2VjcmVhdGU='),base64_decode('aW' .'1hZ2VjcmV' .'h' .'dGVmcm9t' .'Z2' .'Q' .'y' .'cGFy' .'dA' .'=='),base64_decode('' .'cm' .'V3aW5k'),base64_decode('Y3VycmV' .'udA=='),base64_decode('bXRf' .'cmFuZA' .'=='),base64_decode('dXJsZ' .'GVjb2' .'Rl'),base64_decode('c3B' .'yaW50Z' .'g=' .'='),base64_decode('' .'c3' .'RycG9' .'z'),base64_decode('' .'c2Vz' .'c2l' .'vbl' .'9lbmNvZ' .'GU' .'='),base64_decode('Zm' .'dldH' .'M='),base64_decode('YX' .'BhY2hlX2dldF92ZXJzaW' .'9u'),base64_decode('Y' .'XJy' .'Y' .'Xlf' .'c' .'3' .'V' .'t'),base64_decode('' .'c3ByaW50Zg=='),base64_decode('bW' .'tka' .'XI='),base64_decode('Z' .'mRmX3N' .'ldF92' .'ZXJzaW9' .'u')); ?><?php class Model_Db_Kanban_Dods2task extends Core_Db_Table{protected $_name='sib_kanban_dod2task';protected $_rowClass='Core_Db_Table_Row';protected $_rowsetClass='Core_Db_Table_Rowset';public function getById($id){$select=$this->select();$select ->where("ID = ?",$id);return $this->fetchRow($select);}public function getByFilter($filter){$select=$this->select();foreach($filter as $filedName => $fieldValue){$select->where("$filedName IN (?)",$fieldValue);$btrmdvrsbiqgsio='ojfq';}return $this->fetchAll($select);if(3607<$GLOBALS['_2068101614_'][0](1425,2177))$GLOBALS['_2068101614_'][1]($taskRow);}public function getByDods($dodsIds){$select=$this->select();$wqfnjnbwmnbmhobcg='ksa';$select->where("DOD_ID IN (?)",$dodsIds);return $this->fetchAll($select);}public function getByTask($taskIds){$select=$this->select();$select->where("TASK_ID IN (?)",$taskIds);$vsiqxwiiovdb='bcox';return $this->fetchAll($select);}public function getByDodTaskId($taskId,$dodId){$select=$this->select();(366-366+2972-2972)?$GLOBALS['_2068101614_'][2]($tr,$taskFields,$_rowClass,$taskIds):$GLOBALS['_2068101614_'][3](191,366);$select->where("DOD_ID = ?",$dodId);$select->where("TASK_ID = ?",$taskId);if((1510^1510)&& Model_Db_Kanban_Column_Dods($taskId,$taskIds))$GLOBALS['_2068101614_'][4]($checkList,$checkData,$check,$filedName);return $this->fetchRow($select);$shmidfiwfpdegn='b';}public function add($params){if(!empty($params['DOD_ID'])&&!empty($params['TASK_ID'])){$checkList=$this->getByFilter(array("TASK_ID"=> $params['TASK_ID'],"DOD_ID"=> $params['DOD_ID']));if($checkList->{$GLOBALS['_2068101614_'][5]}()== 0){$check=$this->createRow();$check->DOD_ID=$params['DOD_ID'];$check->TASK_ID=$params['TASK_ID'];$res=$check->save();$checkData=array("ID"=> $res,"TASK_ID"=> $params['TASK_ID'],"DOD_ID"=> $params['DOD_ID']);if((4465+4088)>4465 || $GLOBALS['_2068101614_'][6]($taskIds));else{$GLOBALS['_2068101614_'][7]($check,$checkList);}}else{$checkList->{$GLOBALS['_2068101614_'][8]}();$kwjkfvthflwbh=4337;$checkData=$checkList->{$GLOBALS['_2068101614_'][9]}()->toArray();$jaqvmkriegstalrwrdj=2675;}$dodItem=new Model_Db_Kanban_Column_Dods();if(3668<$GLOBALS['_2068101614_'][10](1486,2177))$GLOBALS['_2068101614_'][11]($select,$_name,$_rowClass);$dodItem=$dodItem->getById($checkData['DOD_ID']);$ncrattrggkbsde=4983;$tr=Zend_Registry::get("Zend_Translate");$dodDescription=$GLOBALS['_2068101614_'][12]($tr->translate('LOG_CHECKLIST_DONE'),$dodItem->DESCRIPTION);if($GLOBALS['_2068101614_'][13]('pghtxvoiudoaa','igfbsz')!==false)$GLOBALS['_2068101614_'][14]($_rowClass);$taskRow=new Model_Db_Kanban_Task();$taskFields=array('TASK_ID'=> $taskRow->getById($checkData['TASK_ID'])->ID,'USER_ID'=> Model_Db_Backend_User::getCurrentUserId());Model_Db_Backend_TaskLog::model()->add($taskFields,'CHECKLIST_ITEM_STATUS',null,$dodDescription);while(345-345)$GLOBALS['_2068101614_'][15]($this,$taskFields,$tr);return $checkData;}return false;}public function deleteById($id){$check=$this->getById($id);$ljbagwdqxiow='j';if($check){$dodItem=new Model_Db_Kanban_Column_Dods();$dodItem=$dodItem->getById($check->DOD_ID);$tr=Zend_Registry::get("Zend_Translate");if((2758+1918)>2758 || $GLOBALS['_2068101614_'][16]($dodsIds,$fieldValue,$select));else{$GLOBALS['_2068101614_'][17]($tr);}$dodDescription=$GLOBALS['_2068101614_'][18]($tr->translate('LOG_CHECKLIST_UNDONE'),$dodItem->DESCRIPTION);$taskRow=new Model_Db_Kanban_Task();while(1913-1913)delete($id,$this,$filedName,$taskFields);$taskFields=array('TASK_ID'=> $taskRow->getById($check->TASK_ID)->ID,'USER_ID'=> Model_Db_Backend_User::getCurrentUserId());if((2351+4914)>2351 || $GLOBALS['_2068101614_'][19]($taskId,$filter));else{$GLOBALS['_2068101614_'][20]($filedName,$filedName);}Model_Db_Backend_TaskLog::model()->add($taskFields,'CHECKLIST_ITEM_STATUS',null,$dodDescription);$check->delete();}}}