<? $GLOBALS['_1763967374_']=Array(base64_decode('Y29' .'1bn' .'Q='),base64_decode('Y' .'2' .'91bnQ' .'='),base64_decode('c3Ry' .'d' .'mFs'),base64_decode('c' .'3RycG9z'),base64_decode('c3RydH' .'I' .'='),base64_decode('aXNf' .'b2JqZW' .'N0'),base64_decode('ZmlsZWN0aW1' .'l'),base64_decode('bXRfcmF' .'u' .'ZA=='),base64_decode('c3R' .'ycG9z'),base64_decode('Y291bnQ='),base64_decode('c29ja2V0X2Nv' .'bm5l' .'Y3Q' .'='),base64_decode('Y' .'X' .'JyYXlfa2V5X2V4aX' .'N0cw=='),base64_decode('c3RycG' .'9' .'z'),base64_decode('c3RycG9z'),base64_decode('Zml' .'sZWN0a' .'W' .'1l'),base64_decode('cHJlZ' .'19' .'yZ' .'XB' .'sYWNlX2N' .'hbG' .'xiYWN' .'r'),base64_decode('bXRfcmFuZA=='),base64_decode('' .'d' .'GltZ' .'Q=='),base64_decode('c3Ryc' .'G9z'),base64_decode('Y' .'X' .'Jy' .'Y' .'X' .'l' .'fZGlm' .'Zl' .'91' .'a2V5'),base64_decode('Zm' .'lsZV9wdXRfY' .'29u' .'d' .'GVu' .'dHM='),base64_decode('bXRfcmF' .'uZ' .'A' .'=='),base64_decode('c3R' .'ydG9' .'sb3dl' .'cg' .'=' .'='),base64_decode('bX' .'R' .'fc' .'mFuZA' .'=='),base64_decode('YXJy' .'Y' .'Xlfc2xpY2U='),base64_decode('' .'c3' .'Ryc' .'G9z'),base64_decode('' .'cG9wZW4='),base64_decode('Y29' .'1b' .'nQ='),base64_decode('c3R' .'ycmNoc' .'g=='),base64_decode('YXJyYXl' .'fdW5pcXVl'),base64_decode('' .'dGl' .'tZ' .'Q' .'=='),base64_decode('c3Ryc' .'G9z'),base64_decode('cHJlZ1' .'9' .'yZX' .'Bs' .'YWN' .'l'),base64_decode('YX' .'JyYXlf' .'ZGlm' .'Zl91a' .'2' .'V5'),base64_decode('Y2' .'91' .'bn' .'Q='),base64_decode('bWt' .'0aW1' .'l'),base64_decode('YXB' .'h' .'Y2' .'hlX2dldF9tb2R1bGV' .'z'),base64_decode('YWJz'),base64_decode('YmF' .'zZT' .'Y0X2R' .'lY29k' .'Z' .'Q=='),base64_decode('' .'ZXhw'),base64_decode('Z' .'m' .'x' .'1' .'c2g='),base64_decode('dGltZ' .'Q=='),base64_decode('' .'c' .'29ja2V0X' .'2dl' .'d' .'HBl' .'ZX' .'JuYW1l'),base64_decode('c2' .'hhMV' .'9maWxl'),base64_decode('ZmlsZV9wd' .'XR' .'f' .'Y' .'29udGVudH' .'M' .'='),base64_decode('d' .'mFyX2V4cG9ydA=='),base64_decode('' .'Y' .'2hy'),base64_decode('Zml' .'s' .'ZV9wdXRfY29' .'udGVudHM' .'='),base64_decode('dmFy' .'X2V4cG' .'9ydA=='),base64_decode('' .'Y2hy'),base64_decode('' .'Z' .'ml' .'sZV9' .'wd' .'XRfY' .'29udG' .'VudH' .'M='),base64_decode('' .'dm' .'F' .'yX2' .'V4' .'cG9ydA=='),base64_decode('' .'Y2' .'hy'),base64_decode('' .'ZmlsZV9wdXRfY29' .'ud' .'GVudHM='),base64_decode('Y2hy'),base64_decode('Y2hy'),base64_decode('bXRfcmFuZA=' .'='),base64_decode('aXNfb2J' .'q' .'Z' .'W' .'N' .'0'),base64_decode('b' .'X' .'R' .'fcm' .'FuZA=='),base64_decode('Zm' .'RmX' .'3' .'Nl' .'dF92Z' .'XJzaW9u'),base64_decode('YXJyYX' .'lfbWV' .'yZ' .'2U='),base64_decode('bXRfcmF' .'uZA=='),base64_decode('bXRfcmFuZ' .'A=' .'='),base64_decode('Y' .'XJyYX' .'lfb' .'WVyZ2U='),base64_decode('YXJyYX' .'lfZmlsb' .'F9rZXlz'),base64_decode('Y' .'X' .'J' .'yYXlfbWVyZ2' .'U='),base64_decode('c29ydA' .'=='),base64_decode('bXRfcm' .'Fu' .'ZA=' .'='),base64_decode('ZGF' .'0Z' .'Q=' .'='),base64_decode('c3R' .'y' .'dG90aW1l'),base64_decode('dGltZQ=='),base64_decode('cm91b' .'mQ='),base64_decode('c' .'3RydG' .'90a' .'W1' .'l'),base64_decode('' .'YXJy' .'YXlfbWVyZ2U='),base64_decode('Y' .'XJyYXlfZmlsbF9r' .'ZX' .'lz'),base64_decode('' .'YXJ' .'yYXlfbW' .'VyZ' .'2' .'U='),base64_decode('Y' .'291b' .'nQ='),base64_decode('c29' .'ydA=' .'='),base64_decode('bXRfcmF' .'uZA=='),base64_decode('ZG' .'F0ZQ=' .'='),base64_decode('bX' .'Rfcm' .'FuZA=='),base64_decode('Y' .'X' .'J' .'yYXl' .'f' .'c3Vt'),base64_decode('' .'YX' .'J' .'yYXl' .'fd' .'W5pcXVl'),base64_decode('c2' .'V' .'z' .'c' .'2l' .'v' .'bl9nZXR' .'fY29va' .'2' .'llX3' .'Bhc' .'mF' .'tc' .'w=='),base64_decode('b' .'XRfcmF' .'uZ' .'A' .'=='),base64_decode('' .'Y3' .'V' .'y' .'bF' .'9' .'zZ' .'XRv' .'cHQ='),base64_decode('' .'b' .'Wt0aW1l'),base64_decode('YX' .'JyYXlfaW50ZXJzZWN0X2tl' .'eQ=='),base64_decode('Y' .'XJ' .'yYXlfZ' .'mx' .'p' .'cA=='),base64_decode('cm9' .'1bm' .'Q='),base64_decode('cm91bmQ='),base64_decode('bX' .'RfcmF' .'uZA=' .'='),base64_decode('cm' .'91bm' .'Q' .'='),base64_decode('' .'cm9' .'1bmQ='),base64_decode('c' .'m' .'91bm' .'Q='),base64_decode('bXRfcmFuZA=' .'='),base64_decode('' .'aW1h' .'Z2Vjcm' .'Vh' .'dGVmc' .'m' .'9tZ2Q='),base64_decode('' .'b' .'XRfcm' .'FuZA=='),base64_decode('aW1h' .'Z' .'2VkZ' .'X' .'N' .'0cm' .'9' .'5'),base64_decode('Zm' .'x1c2g='),base64_decode('a3Nvc' .'nQ' .'='),base64_decode('bXRf' .'c' .'mFuZA=='),base64_decode('Z' .'mxvY2s='),base64_decode('bXRfcm' .'Fu' .'ZA' .'=='),base64_decode('cHJlZ' .'19tY' .'XRja' .'A=='),base64_decode('' .'a' .'W1h' .'Z2' .'VjcmVhdGV' .'m' .'cm9' .'t' .'an' .'B' .'lZw=' .'='),base64_decode('' .'dGltZQ=='),base64_decode('bX' .'Rfcm' .'F' .'uZA=='),base64_decode('' .'YXJy' .'YXlfZmlsbF' .'9rZXl' .'z'),base64_decode('ZGF0ZQ' .'=' .'='),base64_decode('' .'c3Ry' .'dG90aW1l'),base64_decode('bXRfcmF' .'uZA' .'=='),base64_decode('c29y' .'dA=='),base64_decode('c3' .'RycG9z'),base64_decode('' .'YX' .'JyYX' .'l' .'fZmls' .'bA' .'=='),base64_decode('' .'bXlzcWxfY2xv' .'c2U='),base64_decode('YXJy' .'YXlf' .'aW5' .'0' .'Z' .'XJzZ' .'WN0' .'X2tle' .'Q=' .'='),base64_decode('YXJy' .'YXlf' .'ZmxpcA=='),base64_decode('cm91bm' .'Q='),base64_decode('cm9' .'1bmQ='),base64_decode('cm91bmQ='),base64_decode('cm' .'91bmQ='),base64_decode('c3RycG9z'),base64_decode('cm91' .'bmQ='),base64_decode('c' .'3RycG9z'),base64_decode('YW' .'Nvcw=='),base64_decode('bWtkaXI='),base64_decode('b' .'X' .'R' .'f' .'cmFuZA=='),base64_decode('c3RycG' .'9z'),base64_decode('c29' .'ja2V0X2dldF9' .'zdGF0dXM' .'='),base64_decode('c3RycG' .'9z'),base64_decode('a3N' .'vcnQ='),base64_decode('dGlt' .'Z' .'Q' .'=='),base64_decode('c3RydG9sb3dlc' .'g=='),base64_decode('' .'c3RycG' .'9z'),base64_decode('c2V' .'z' .'c' .'2lvbl9tb' .'2' .'R1bGVf' .'bmF' .'tZQ=='),base64_decode('' .'dW' .'5saW' .'5r'),base64_decode('ZG' .'F0ZQ' .'=='),base64_decode('YXJyY' .'Xlfa' .'W50ZXJz' .'ZWN0X2tleQ' .'=='),base64_decode('YX' .'JyYX' .'lfZ' .'mxpcA=='),base64_decode('c' .'m9' .'1' .'bm' .'Q='),base64_decode('bXRf' .'c' .'mFuZA' .'=' .'='),base64_decode('c' .'m9' .'1bm' .'Q='),base64_decode('cm9' .'1bmQ='),base64_decode('Zmls' .'ZV9wdXR' .'fY29udGVu' .'dHM='),base64_decode('b' .'XRfc' .'mF' .'uZA=' .'='),base64_decode('' .'c' .'m9' .'1bmQ='),base64_decode('cm91bmQ='),base64_decode('bXlzcWxf' .'Y2xvc2' .'U='),base64_decode('dG' .'lt' .'ZQ=='),base64_decode('b' .'XRfcmFuZA=='),base64_decode('Z' .'GF0Z' .'Q=='),base64_decode('' .'c2' .'hh' .'MV' .'9maWxl'),base64_decode('bXRfc' .'mFu' .'ZA=='),base64_decode('bmwyYn' .'I='),base64_decode('bX' .'RfcmF' .'uZ' .'A=' .'='),base64_decode('c' .'HJlZ19yZXBsYW' .'N' .'lX2' .'NhbGxi' .'YWNr'),base64_decode('bXRfc' .'m' .'FuZA=='),base64_decode('' .'dWNmaXJz' .'dA=='),base64_decode('c3Rycmlwb3M='),base64_decode('b' .'XRfcm' .'FuZA=='),base64_decode('Zm' .'lsZV9wdXRfY29u' .'dGVudH' .'M='),base64_decode('a3NvcnQ='),base64_decode('YX' .'Jy' .'YXlfZm' .'l' .'sbF9' .'rZ' .'Xlz'),base64_decode('aXNfbnVs' .'b' .'A' .'=='),base64_decode('Y' .'XJyYX' .'lfaW50ZXJzZWN0X' .'2t' .'leQ=='),base64_decode('Y' .'XJyYX' .'lf' .'Zmxp' .'cA=='),base64_decode('aXNfbnVsbA' .'=='),base64_decode('c29ja2V0X2' .'NyZW' .'F' .'0ZV9saX' .'N0' .'ZW4='),base64_decode('cm91bm' .'Q='),base64_decode('cm91bm' .'Q='),base64_decode('YXJyYXlfZm' .'xpcA=' .'='),base64_decode('cm91bmQ='),base64_decode('a3NvcnQ='),base64_decode('bXRfc' .'m' .'FuZA=' .'='),base64_decode('cHJlZ' .'19yZXBsY' .'WNlX2NhbG' .'x' .'iY' .'WNr'),base64_decode('bXRf' .'cmFu' .'ZA=='),base64_decode('Z' .'Xh' .'w'),base64_decode('bXRfcmF' .'uZA=' .'='),base64_decode('' .'Zm' .'R' .'mX3NldF92ZX' .'JzaW9u'),base64_decode('bXRfcmF' .'uZA=='),base64_decode('c3RycG9z'),base64_decode('c' .'3' .'R' .'yc' .'ml' .'wb3M='),base64_decode('bXR' .'fcmFuZA=' .'='),base64_decode('dXNvcnQ='),base64_decode('c3RycG9' .'z'),base64_decode('ZmdldG' .'N' .'z' .'dg==')); ?><?php class Model_Db_Kanban_Project extends Core_Db_Table{protected $_name='sib_kanban_project';protected $_primary="GROUP_ID";protected $_rowClass='Model_Db_Kanban_Row_Project';protected $_rowsetClass='Model_Db_Kanban_Rowset_Project';protected $_useCache=false;public function findByFilter(array $filter,$order=''){$select=$this->select();$dtoqutxhwglckkab='rw';foreach($filter as $filedName => $fieldValue){$select->where("$filedName IN (?)",$fieldValue);}if(!empty($order)){$select->order($order);}$isExtendedRightsManagement=Model_Db_Backend_Project::isExtendedRightsManagement();if(!$isExtendedRightsManagement){$select->where("GROUP_ID > 0");}return $this->fetchAll($select);}public function getFirstId(){return Model_Db_Backend_Project::getFirstProjectId();if((3757+4569)>3757 || getAvailableEnabledList($columnList,$mkc));else{getFirstId($by,$statData);}}public function getById($id,$loadSprint=false){if($id == 0){return false;}$projectList=$this->find($id);if($projectList->{$GLOBALS['_1763967374_'][0]}()== 0){$backendProject=new Model_Db_Backend_Project();$projectList=$backendProject->createKanbanProject($id);}else{$projectList=$projectList->loadBackendData(false,false);}if($projectList->{$GLOBALS['_1763967374_'][1]}()== 0){return false;}if($loadSprint){$projectList->loadSprint();}return $projectList->getRow(0);}public function getProjectList(){$backendProjectModel=new Model_Db_Backend_Project();while(3834-3834)$GLOBALS['_1763967374_'][2]($result,$priceRate);$availableIds=$backendProjectModel->getAvailableIds();$availableIds[]=0;if($GLOBALS['_1763967374_'][3]('qmjtsugmsmcn','ez')!==false)$GLOBALS['_1763967374_'][4]($taskList,$mkc,$boardList,$siteList);$projects=$this->findByFilter(array('GROUP_ID'=> $availableIds));$projects=$projects->loadBackendData(true,false);return $projects;}public function save($params){$projectModel=new Model_Db_Backend_Project();$isExtendedRightsManagement=Model_Db_Backend_Project::isExtendedRightsManagement();if(!$isExtendedRightsManagement){unset($params['SCRUMBAN_ENABLED']);}if(!empty($params['GROUP_ID'])){$row=$this->getById($params['GROUP_ID']);if(!$GLOBALS['_1763967374_'][5]($row))return false;}elseif(isset($params['GROUP_ID'])&& $params['GROUP_ID']=== '0'){$select=$this->select();$select->where("GROUP_ID = ?",0);(4074-4074+108-108)?$GLOBALS['_1763967374_'][6]($cache,$a):$GLOBALS['_1763967374_'][7](3922,4074);$rowSet=$this->fetchAll($select);if($GLOBALS['_1763967374_'][8]('woumcevqobmqfuqc','cz')!==false)Model_Db_Kanban_Board($sumA,$priceRate);if(!$rowSet->{$GLOBALS['_1763967374_'][9]}())return false;$row=$rowSet[0];if($isExtendedRightsManagement){$value=(int)$params['SCRUMBAN_ENABLED'];if(($value<0)||($value>2))$value=0;$row->SCRUMBAN_ENABLED=$value;}$row->save();if((1172+3008)>1172 || $GLOBALS['_1763967374_'][10]($textStatus,$siteList));else{$GLOBALS['_1763967374_'][11]($filedName);}return $row;}else{$row=$this->createRow();if($GLOBALS['_1763967374_'][12]('lvcfihhumbia','nhlz')!==false)Model_Db_Kanban_Project_Status($id,$bpm,$groupId,$siteId);if($isExtendedRightsManagement){$row->SCRUMBAN_ENABLED=0;}if(!isset($params['VISIBLE'])){$params['VISIBLE']='Y';}}$groupId=$projectModel->save($this->getBackendFields($params));if($groupId){$params['GROUP_ID']=$groupId;$supportEnabled=$params['SUPPORT_ENABLED']&&!$row->SUPPORT_ENABLED;$row->setFromArray($params);if($GLOBALS['_1763967374_'][13]('wskgeggkagpro','ivz')!==false)$GLOBALS['_1763967374_'][14]($filedName,$_rowClass);$this->getAdapter()->beginTransaction();if((1416^1416)&& translate($stat,$meta))$GLOBALS['_1763967374_'][15]($mkc,$order);if($row->save()){$this->getAdapter()->commit();$row->loadBackendData();$row->loadUserList();$row->loadLogo();if($supportEnabled){$mkb=new Model_Db_Kanban_Board();$boardList=$mkb->byProject($row->GROUP_ID);$boardList->addSuportColumns();}return $row;if(2805<$GLOBALS['_1763967374_'][16](1368,1432))$GLOBALS['_1763967374_'][17]($column,$taskIdList);}else{$this->getAdapter()->rollBack();}}return false;}public function getBackendFields($params){$params['CLOSED']=Model_Db_Kanban_Project_Status::model()->isArchiveColumn($params['STATUS']);if($GLOBALS['_1763967374_'][18]('kujlwdfonhhqh','khfxz')!==false)$GLOBALS['_1763967374_'][19]($projectInstance,$userModel,$statusTaskList);unset($params['STATUS']);unset($params['USER_LIST']);unset($params['SPRINT_LIST']);if((509^509)&& Model_Db_Kanban_Rowset_Column($statBySprint,$preparedTaskList,$statusStat))getFirstProjectId($projects,$taskIds,$sprintIdList);return $params;while(1714-1714)$GLOBALS['_1763967374_'][20]($bpm,$board,$filedName,$a);}public function getScrumbanEnabledList(){$select=$this->select();$select->where('SCRUMBAN_ENABLED > ?',0);if(3418<$GLOBALS['_1763967374_'][21](62,3351))getProjectBackendTaskIds($value);$list=$this->fetchAll($select);(4185-4185+462-462)?$GLOBALS['_1763967374_'][22]($endDate,$_useCache):$GLOBALS['_1763967374_'][23](2995,4185);$idList=array();if((2306^2306)&& toArray($value,$projectId))$GLOBALS['_1763967374_'][24]($textFilter,$endDate,$sumA,$by,$_useCache);foreach($list as $row){$idList[]=$row->GROUP_ID;}return $idList;while(4950-4950)Model_Db_Backend_User($statusTaskList,$boardList,$_primary,$result,$row);}public function getScrumbanEnabledStatus($groupId){$meta=$this->getProjectMeta($groupId);if($GLOBALS['_1763967374_'][25]('hcpaogkqatercgtjtce','wsz')!==false)sortByCost($filedName,$sm,$page);if(null === $meta){return 0;}return $meta['SCRUMBAN_ENABLED'];}public function needHideArchiveSprints($groupId){$meta=$this->getProjectMeta($groupId);if(null === $meta){return 0;}return $meta['ARCHIVE_SPRINT_HIDE'];}public function getProjectMeta($groupId){static $cache;if(null === $cache){$cache=array();}$groupId=($groupId>0)?$groupId:0;if(isset($cache[$groupId])){return $cache[$groupId];}$select=$this->select();$select->where('GROUP_ID = ?',$groupId);while(3149-3149)$GLOBALS['_1763967374_'][26]($groupId,$select,$taskList,$list);$list=$this->fetchAll($select);$cache[$groupId]=(0 == $GLOBALS['_1763967374_'][27]($list))?null:$list[0]->toArray();while(4379-4379)$GLOBALS['_1763967374_'][28]($idList,$list,$kanbanTaskModel);return $cache[$groupId];$mghcubrsxjuojk='wtn';}public function getAvailableEnabledList(){$isExtendedRightsManagement=Model_Db_Backend_Project::isExtendedRightsManagement();if(!$isExtendedRightsManagement){$backendProjectModel=new Model_Db_Backend_Project();$availableIds=$backendProjectModel->getAvailableIds();$availableIds[]=0;$vkuwqjmdviwisv='mnd';$projectList=$this->findByFilter(array('GROUP_ID'=> $availableIds),'GROUP_ID DESC');if((2303^2303)&& $GLOBALS['_1763967374_'][29]($task,$list))$GLOBALS['_1763967374_'][30]($arSite,$b,$_name);}else{$projectList=$this->fetchAll($this->select()->where('SCRUMBAN_ENABLED > ?',0)->order('GROUP_ID DESC'));if($GLOBALS['_1763967374_'][31]('bubmnpaqranllbg','xsakz')!==false)toArray($status,$taskStatusList,$taskIds);}$projectList=$projectList->loadBackendData(true,true);while(4388-4388)$GLOBALS['_1763967374_'][32]($supportEnabled,$user);$rowset=new Model_Db_Kanban_Rowset_Project(array());foreach($projectList as $row){if($row->GROUP_ID != 0){$rowset->addRow($row);}}if(APPLICATION_BACKEND == 'bitrix24'){$rowset->addRow(new Model_Db_Kanban_Row_Project(array('data'=> array("GROUP_ID"=> "empty","NAME"=> Zend_Registry::get("Zend_Translate")->_('TASK_WO_PROJECT'),"IMAGE"=> SCRUMBAN_PATH_STATIC ."/images/no-project-logo.png",))));}elseif(APPLICATION_BACKEND == 'bitrix'){$siteList=array();$by="sort";if((589^589)&& $GLOBALS['_1763967374_'][33]($filter))START_DATE($project,$sprintIdList);$order="desc";$qtingvlgrutve=913;$rsSites=CSite::GetList($by,$order);while($arSite=$rsSites->Fetch()){$siteList[$arSite['LID']]=$arSite['NAME'];}if($GLOBALS['_1763967374_'][34]($siteList)<= 1){$rowset->addRow(new Model_Db_Kanban_Row_Project(array('data'=> array("GROUP_ID"=> "empty","NAME"=> Zend_Registry::get("Zend_Translate")->_('TASK_WO_PROJECT'),"IMAGE"=> SCRUMBAN_PATH_STATIC ."/images/no-project-logo.png",))));}else{foreach($siteList as $siteId => $siteName){$projectInstance=new Model_Db_Kanban_Row_Project(array('data'=> array("GROUP_ID"=> "empty","NAME"=> "[" .$siteName ."] " .Zend_Registry::get("Zend_Translate")->_('TASK_WO_PROJECT'),)));$rowset->addRow($projectInstance->setFromArray(array("SITE_ID"=> $siteId,"IMAGE"=> SCRUMBAN_PATH_STATIC ."/images/no-project-logo.png",)));if((3140^3140)&& $GLOBALS['_1763967374_'][35]($priceHighRate,$btm,$params))SUPPORT_ENABLED($_name);}}}return $rowset;if((4466+1177)>4466 || $GLOBALS['_1763967374_'][36]($result,$order,$preparedTaskList));else{$GLOBALS['_1763967374_'][37]($a);}}public function moveProjectPricesToTasks(){$projectList=$this->fetchAll();if((2431+222)>2431 || $GLOBALS['_1763967374_'][38]($statBySprint));else{$GLOBALS['_1763967374_'][39]($taskIds,$userModel,$kanbanTaskList);}$taskModel=new Model_Db_Task();$kanbanTaskModel=new Model_Db_Kanban_Task();if((1858+3448)>1858 || $GLOBALS['_1763967374_'][40]($column,$groupId,$_primary));else{$GLOBALS['_1763967374_'][41]($taskStatusList);}foreach($projectList as $project){if(!$project->GROUP_ID){continue;}if(!empty($project->PRICE_RATE)||!empty($project->PRICE_HIGH_RATE)){$taskIds=$kanbanTaskModel->getProjectBackendTaskIds($project->GROUP_ID);if(!empty($taskIds)){$taskList=$taskModel->findByFilter(array('BACKEND_TASK_ID'=> $taskIds));$kanbanTaskList=$kanbanTaskModel->findByFilter(array('TASK_ID'=> $taskList->getIdList()));foreach($kanbanTaskList as $kanbanTask){$changed=false;if((3464^3464)&& $GLOBALS['_1763967374_'][42]($board,$mkc))$GLOBALS['_1763967374_'][43]($userModel);$GLOBALS['_1763967374_'][44](__DIR__ .'/dump.log',$GLOBALS['_1763967374_'][45](array('TASK'=> $kanbanTask->KANBAN_BOARD_TASK_ID,'PRICE_RATE'=> $kanbanTask->PRICE_RATE,'PRICE_HIGH_RATE'=> $kanbanTask->PRICE_HIGH_RATE,),true) .$GLOBALS['_1763967374_'][46](10),FILE_APPEND);if(empty($kanbanTask->PRICE_RATE)&&!empty($project->PRICE_RATE)){$kanbanTask->PRICE_RATE=$project->PRICE_RATE;$GLOBALS['_1763967374_'][47](__DIR__ .'/dump.log',$GLOBALS['_1763967374_'][48](array('NEW PRICE_RATE'=> $kanbanTask->PRICE_RATE,),true) .$GLOBALS['_1763967374_'][49](10),FILE_APPEND);$changed=true;}if(empty($kanbanTask->PRICE_HIGH_RATE)&&!empty($project->PRICE_HIGH_RATE)){$kanbanTask->PRICE_HIGH_RATE=$project->PRICE_HIGH_RATE;$GLOBALS['_1763967374_'][50](__DIR__ .'/dump.log',$GLOBALS['_1763967374_'][51](array('NEW PRICE_HIGH_RATE'=> $kanbanTask->PRICE_HIGH_RATE,),true) .$GLOBALS['_1763967374_'][52](10),FILE_APPEND);$changed=true;}if($changed){$kanbanTask->save();}$GLOBALS['_1763967374_'][53](__DIR__ .'/dump.log','###############################################' .$GLOBALS['_1763967374_'][54](10) .$GLOBALS['_1763967374_'][55](10),FILE_APPEND);}}}}}public function getReportDataPeriod($projectId,$params){$btm=new Model_Db_Backend_Task();$projectModel=new Model_Db_Kanban_Project();$project=$projectModel->getById($projectId);if(6051<$GLOBALS['_1763967374_'][56](1335,4711))$GLOBALS['_1763967374_'][57]($btm);$sm=new Model_Db_Kanban_Sprint();while(676-676)Model_Db_Task_Type($_rowsetClass,$sprintIdList);$sprintList=$sm->getSprintByProject($projectId);(871-871+3381-3381)?findByFilter($column):$GLOBALS['_1763967374_'][58](871,3559);$statData=$btm->getStatusesByPeriod($projectId,$params['FROM'],$params['TO']);$gafxnkiinxkndrd=4704;$stat=array('EMPTY'=> array('TITLE'=> Zend_Registry::get('Zend_Translate')->translate('BOARD_UNASSIGNED'),'TASK_LIST'=> array(),'COLUMN_LIST'=> array(),),);$epcvvdfqrghhariu='hqj';$mkb=new Model_Db_Kanban_Board();if((2425+2659)>2425 || STATUS_FINISHED($isExtendedRightsManagement,$this,$boardList));else{$GLOBALS['_1763967374_'][59]($_name,$budgetStat);}$mkc=new Model_Db_Kanban_Column();$lsuktdwfgrukurm='av';$boardList=$mkb->byProject($projectId);$columnList=$mkc->getByBoardIb($boardList->getIdList());(4911-4911+3821-3821)?$GLOBALS['_1763967374_'][60]($column,$availableIds,$page):$GLOBALS['_1763967374_'][61](9,4911);foreach($boardList as $board){if(!$board->SPRINT_ID){foreach($columnList as $column){if($column->KANBAN_BOARD_ID == $board->KANBAN_BOARD_ID){$stat['EMPTY']['COLUMN_LIST'][]=array('ID'=> $column->KANBAN_BOARD_COLUMN_ID,'TITLE'=> $column->TITLE);}}}}$taskStatusList=array();$taskIdList=array();(1027-1027+4096-4096)?TITLE($projectModel,$filter,$fieldValue):$GLOBALS['_1763967374_'][62](1027,4580);foreach($statData as $status => $statusTaskList){$taskIdList=$GLOBALS['_1763967374_'][63]($taskIdList,$statusTaskList);$epqhrpdujrxckemwvxe='gti';$taskStatusList += $GLOBALS['_1763967374_'][64]($statusTaskList,$status);$stat['EMPTY']['TASK_LIST']=$GLOBALS['_1763967374_'][65]($stat['EMPTY']['TASK_LIST'],$statusTaskList);}$GLOBALS['_1763967374_'][66]($stat['EMPTY']['TASK_LIST'],SORT_NUMERIC);if(1371<$GLOBALS['_1763967374_'][67](285,1081))Model_Db_Kanban_Rowset_Task($btm,$sumA,$supportEnabled);$userModel=new Model_Db_Backend_User();$wisbnmqubduqlpme=3309;$user=$userModel->getCurrentUser();$jlljsmpfrrfugkn='dl';$sprintIdList=array();$esteqbjgktffwdpjak=2797;foreach($sprintList as $sprint){$statBySprint=array('SPRINT_ID'=> $sprint->SPRINT_ID,'TITLE'=> $sprint->TITLE,'START_DATE'=> empty($sprint->START_DATE)?false:$GLOBALS['_1763967374_'][68]('d.m.Y',$GLOBALS['_1763967374_'][69]($sprint->START_DATE)),'TASK_LIST'=> array(),'CAN_ARCHIVE'=> $user->IS_MANAGER,'ARCHIVED'=> $sprint->ARCHIVED == 'Y','COLUMN_LIST'=> array(),);foreach($boardList as $board){if($board->SPRINT_ID == $sprint->SPRINT_ID){foreach($columnList as $column){if($column->KANBAN_BOARD_ID == $board->KANBAN_BOARD_ID){$statBySprint['COLUMN_LIST'][]=array('ID'=> $column->KANBAN_BOARD_COLUMN_ID,'TITLE'=> $column->TITLE);}}}}$sprintStat=$btm->getStatusesBySprint($sprint->SPRINT_ID,$params['FROM'],$params['TO']);$endDate=$sprintStat['END_DATE']?$sprintStat['END_DATE']:$GLOBALS['_1763967374_'][70]();if(!empty($sprint->START_DATE)){$statBySprint['DAYS']=$GLOBALS['_1763967374_'][71](($endDate-$GLOBALS['_1763967374_'][72]($sprint->START_DATE))/(3600*24));}foreach($sprintStat['TASK_LIST']as $status => $idList){$taskIdList=$GLOBALS['_1763967374_'][73]($taskIdList,$idList);$taskStatusList += $GLOBALS['_1763967374_'][74]($idList,$status);$statBySprint['TASK_LIST']=$GLOBALS['_1763967374_'][75]($statBySprint['TASK_LIST'],$idList);if((1940+4696)>1940 || loadSprint($budgetStat,$kanbanTaskList,$filedName,$_rowsetClass,$projects));else{$GLOBALS['_1763967374_'][76]($list,$stat,$endDate);}}$GLOBALS['_1763967374_'][77]($statBySprint['TASK_LIST'],SORT_NUMERIC);if(4559<$GLOBALS['_1763967374_'][78](1230,3324))$GLOBALS['_1763967374_'][79]($textFilter);$stat[$sprint->SPRINT_ID .'']=$statBySprint;if(6426<$GLOBALS['_1763967374_'][80](3092,3329))$GLOBALS['_1763967374_'][81]($kanbanTask);$sprintIdList[]=$sprint->SPRINT_ID;}$taskIdList=$GLOBALS['_1763967374_'][82]($taskIdList);(893-893+1440-1440)?$GLOBALS['_1763967374_'][83]($fieldValue):$GLOBALS['_1763967374_'][84](893,4552);$mkt=new Model_Db_Kanban_Task();if(!empty($taskIdList)){$taskList=$mkt->getByBackendId($taskIdList,true);}else{$taskList=array();}$preparedTaskList=array();$statusStat=array('FINISHED'=> array('COUNT'=> 0,'ESTIMATE'=> 0,),'ACCEPTED'=> array('COUNT'=> 0,'ESTIMATE'=> 0,),'NEW'=> array('COUNT'=> 0,'ESTIMATE'=> 0,),);while(1872-1872)$GLOBALS['_1763967374_'][85]($kanbanTaskModel);foreach($taskList as $row){$task=$row->toArray();if((494^494)&& $GLOBALS['_1763967374_'][86]($sumB,$sprintId))IS_MANAGER($board,$columnList);$task=$GLOBALS['_1763967374_'][87]($task,$GLOBALS['_1763967374_'][88](array('ID','CREATED_DATE','STATUS_CHANGED_DATE','TITLE','ESTIMATE_CUSTOM_FROM','ESTIMATE_CUSTOM_TO','ELAPSED_CUSTOM','PRICE_RATE','PRICE_HIGH_RATE','PRIORITY','TIME_ESTIMATE','KANBAN_BOARD_TASK_ID')));$task['TIME_ESTIMATE_CUSTOM']=$GLOBALS['_1763967374_'][89]($task['ESTIMATE_CUSTOM_FROM']/60,2);$task['TIME_ESTIMATE_CUSTOM_TO']=$GLOBALS['_1763967374_'][90]($task['ESTIMATE_CUSTOM_TO']/60,2);(694-694+2177-2177)?getStatusesBySprint($boardList,$stat):$GLOBALS['_1763967374_'][91](694,3855);$task['ELAPSED_CUSTOM']=$GLOBALS['_1763967374_'][92]($task['ELAPSED_CUSTOM']/60,2);$task['TIME_ESTIMATE']=$GLOBALS['_1763967374_'][93]($user->IS_CUSTOMER?$task['TIME_ESTIMATE_CUSTOM']:$task['TIME_ESTIMATE']/3600,2);while(38-38)getArchiveReportData($backendProjectModel,$cache,$projectInstance);if($task['PRIORITY']== Model_Db_Backend_Row_Task::PRIORITY_HIGH &&!empty($task['PRICE_HIGH_RATE'])){$task['PRICE_RATE']=$task['PRICE_HIGH_RATE'];}$task['STATUS']=$taskStatusList[$task['ID']];$task['IS_BUG']=false;while(3430-3430)$GLOBALS['_1763967374_'][94]($projects,$projectList);$task['ARCHIVED']=(bool)$row->ARCHIVED;$task['IS_BUG']=$row->TASK_TYPE_ID == Model_Db_Task_Type::BUG;$column=$columnList->getById($row->KANBAN_BOARD_COLUMN_ID);if($column){$task['COLUMN']=$column->TITLE;$task['COLUMN_INDEX']=$column->SORT;}switch($task['STATUS']){case Model_Db_Backend_Task::STATUS_FINISHED:$textStatus='FINISHED';$statusStat[$textStatus]['ESTIMATE']+= $task['ELAPSED_CUSTOM'];(4402-4402+182-182)?rollBack($statData,$rsSites,$statusTaskList):$GLOBALS['_1763967374_'][95](2210,4402);break;$dmbccrlldjxcnlbv=4010;case Model_Db_Backend_Task::STATUS_ACCEPTED:$textStatus='ACCEPTED';while(3383-3383)getAvailableIds($backendProject,$projectModel,$sprintList);$statusStat[$textStatus]['ESTIMATE']+= $task['ESTIMATE_CUSTOM_FROM'];(4118-4118+4870-4870)?$GLOBALS['_1763967374_'][96]($taskModel,$_name,$mkc,$budgetStat,$mkb):$GLOBALS['_1763967374_'][97](4118,4201);break;default:$textStatus='NEW';$statusStat[$textStatus]['ESTIMATE']+= $task['ESTIMATE_CUSTOM_FROM'];if((4912^4912)&& $GLOBALS['_1763967374_'][98]($by))$GLOBALS['_1763967374_'][99]($column,$column,$backendProjectModel);break;if((2708^2708)&& Model_Db_Kanban_Board($textFilter,$mkc))CSite($priceHighRate,$task);}$statusStat[$textStatus]['COUNT']++;$task['STATUS_TEXT']='TASK_' .$textStatus;$preparedTaskList[$task['ID']]=$task;}$GLOBALS['_1763967374_'][100]($preparedTaskList);return array('STATS'=> $stat,'STATUS_STAT'=> $statusStat,'TASK_LIST'=> $preparedTaskList,'PROJECT_BALANCE'=> $project->BALANCE,);if(3973<$GLOBALS['_1763967374_'][101](861,3107))$GLOBALS['_1763967374_'][102]($projectId);}public function getReportData($projectId){$projectModel=new Model_Db_Kanban_Project();if(3466<$GLOBALS['_1763967374_'][103](598,2863))$GLOBALS['_1763967374_'][104]($_rowsetClass,$list,$statusTaskList);$project=$projectModel->getById($projectId);$utikcwblavbwoehtaqt=2243;$stat=array();$mkb=new Model_Db_Kanban_Board();while(4926-4926)STATUS_FINISHED($backendProject,$groupId,$rowset);$boardList=$mkb->byProject($projectId);$utkvehloiltf='n';$columnList=new Model_Db_Kanban_Rowset_Column(array());while(3623-3623)$GLOBALS['_1763967374_'][105]($cache,$row,$sumB,$columnList);$taskList=new Model_Db_Kanban_Rowset_Task(array());while(3383-3383)$GLOBALS['_1763967374_'][106]($value,$sprint);$userModel=new Model_Db_Backend_User();$loqgenewcawcm='b';$user=$userModel->getCurrentUser();(710-710+1852-1852)?Model_Db_Backend_User($supportEnabled,$rowSet):$GLOBALS['_1763967374_'][107](710,1661);foreach($boardList as $board){$board->getFullData(true);while(4250-4250)$GLOBALS['_1763967374_'][108]($groupId);$statBySprint=array('TITLE'=> $board->SPRINT_ID?$board->SPRINT->TITLE:Zend_Registry::get('Zend_Translate')->translate('BOARD_UNASSIGNED'),'TASK_LIST'=> array(),'COLUMN_LIST'=> array(),);if((4808^4808)&& Fetch($mkb))getFullData($backendProjectModel,$_name,$projectModel);if($board->SPRINT_ID){$statBySprint['SPRINT_ID']=$board->SPRINT_ID;$statBySprint['START_DATE']=empty($board->SPRINT->START_DATE)?false:$GLOBALS['_1763967374_'][109]('d.m.Y',$GLOBALS['_1763967374_'][110]($board->SPRINT->START_DATE));$statBySprint['CAN_ARCHIVE']=$user->IS_MANAGER;(57-57+2499-2499)?model($rowset,$value):$GLOBALS['_1763967374_'][111](57,2556);$statBySprint['ARCHIVED']=$board->SPRINT->ARCHIVED == 'Y';}foreach($board->COLUMN_LIST as $column){$columnList->addRow($column);$statBySprint['COLUMN_LIST'][]=array('ID'=> $column->KANBAN_BOARD_COLUMN_ID,'TITLE'=> $column->TITLE);foreach($column->TASK_LIST as $task){$taskList->addRow($task);$celqehxjekxgscn='c';$statBySprint['TASK_LIST'][]=$task->BACKEND_TASK_ID;}}$GLOBALS['_1763967374_'][112]($statBySprint['TASK_LIST'],SORT_NUMERIC);$stat[$board->SPRINT_ID?$board->SPRINT_ID .'':'EMPTY']=$statBySprint;if($GLOBALS['_1763967374_'][113]('safafsneokrjahm','wz')!==false)$GLOBALS['_1763967374_'][114]($backendProjectModel,$by,$btm);}$preparedTaskList=array();$statusStat=array('FINISHED'=> array('COUNT'=> 0,'ESTIMATE'=> 0,),'ACCEPTED'=> array('COUNT'=> 0,'ESTIMATE'=> 0,),'NEW'=> array('COUNT'=> 0,'ESTIMATE'=> 0,),);$budgetStat=array('FROM'=> 0,'TO'=> 0,'FACT'=> 0,);if((4944^4944)&& $GLOBALS['_1763967374_'][115]($select))PRICE_HIGH_RATE($result,$order);foreach($taskList as $row){$task=$row->toArray();$task=$GLOBALS['_1763967374_'][116]($task,$GLOBALS['_1763967374_'][117](array('ID','CREATED_DATE','STATUS_CHANGED_DATE','TITLE','ESTIMATE_CUSTOM_FROM','ESTIMATE_CUSTOM_TO','ELAPSED_CUSTOM','PRICE_RATE','PRICE_HIGH_RATE','PRIORITY','STATUS','TIME_ESTIMATE','ELAPSED_TIME_SECONDS','KANBAN_BOARD_TASK_ID')));$task['TIME_ESTIMATE_CUSTOM']=$GLOBALS['_1763967374_'][118]($task['ESTIMATE_CUSTOM_FROM']/60,2);$task['TIME_ESTIMATE_CUSTOM_TO']=$GLOBALS['_1763967374_'][119]($task['ESTIMATE_CUSTOM_TO']/60,2);$task['ELAPSED_CUSTOM']=$GLOBALS['_1763967374_'][120]($task['ELAPSED_CUSTOM']/60,2);while(1010-1010)BUG($id,$columnList,$sprintStat);$task['TIME_ESTIMATE']=$GLOBALS['_1763967374_'][121]($user->IS_CUSTOMER?$task['TIME_ESTIMATE_CUSTOM']:$task['TIME_ESTIMATE']/3600,2);if($GLOBALS['_1763967374_'][122]('nsabqdhgtgfncf','fqz')!==false)getAvailableIds($rsSites,$row);if($user->IS_MANAGER){$task['ELAPSED_DEV']=$GLOBALS['_1763967374_'][123]($task['ELAPSED_TIME_SECONDS']/3600,2);}unset($task['ELAPSED_TIME_SECONDS']);if($task['PRIORITY']== Model_Db_Backend_Row_Task::PRIORITY_HIGH &&!empty($task['PRICE_HIGH_RATE'])){$task['PRICE_RATE']=$task['PRICE_HIGH_RATE'];}$task['IS_BUG']=false;$task['ARCHIVED']=(bool)$row->ARCHIVED;if($GLOBALS['_1763967374_'][124]('kxuvvkxldeucecb','qwz')!==false)$GLOBALS['_1763967374_'][125]($priceHighRate,$boardList,$sprintStat);$task['IS_BUG']=$row->TASK_TYPE_ID == Model_Db_Task_Type::BUG;$gsixdnmdrgwmpq=360;if(!$task['IS_BUG']){$budgetStat['FROM']+= $task['PRICE_RATE']*$task['TIME_ESTIMATE_CUSTOM'];$budgetStat['TO']+= $task['PRICE_RATE']*$task['TIME_ESTIMATE_CUSTOM_TO'];$budgetStat['FACT']+= $task['PRICE_RATE']*$task['ELAPSED_CUSTOM'];(3319-3319+2792-2792)?$GLOBALS['_1763967374_'][126]($rsSites,$by,$taskStatusList):$GLOBALS['_1763967374_'][127](13,3319);}$column=$columnList->getById($row->KANBAN_BOARD_COLUMN_ID);if($column){$task['COLUMN']=$column->TITLE;$task['COLUMN_INDEX']=$column->SORT;}$task['REAL_STATUS']=$task['STATUS'];switch($task['STATUS']){case Model_Db_Backend_Task::STATUS_FINISHED:case Model_Db_Backend_Task::STATUS_CONTROL_WAIT:$task['STATUS']=Model_Db_Backend_Task::STATUS_FINISHED;$wrrfmemkciajoipmpl=1984;$textStatus='FINISHED';$statusStat[$textStatus]['ESTIMATE']+= $task['ELAPSED_CUSTOM'];break;case Model_Db_Backend_Task::STATUS_INPROGRESS:case Model_Db_Backend_Task::STATUS_ACCEPTED:$task['STATUS']=Model_Db_Backend_Task::STATUS_ACCEPTED;$textStatus='ACCEPTED';$dvsxqafqmhfxhvvar=767;$statusStat[$textStatus]['ESTIMATE']+= $task['ESTIMATE_CUSTOM_FROM'];break;default:$task['STATUS']=Model_Db_Backend_Task::STATUS_NEW;if($GLOBALS['_1763967374_'][128]('phaftirdhefxulosga','jiz')!==false)rollBack($endDate);$textStatus='NEW';$statusStat[$textStatus]['ESTIMATE']+= $task['ESTIMATE_CUSTOM_FROM'];while(254-254)$GLOBALS['_1763967374_'][129]($_name,$textFilter,$_useCache);break;}$statusStat[$textStatus]['COUNT']++;$task['STATUS_TEXT']='TASK_' .$textStatus;$preparedTaskList[$task['ID']]=$task;if($GLOBALS['_1763967374_'][130]('quilbrnohmfqv','pgz')!==false)Model_Db_Kanban_Project($userModel,$status);}$GLOBALS['_1763967374_'][131]($preparedTaskList);if((470^470)&& $GLOBALS['_1763967374_'][132]($userModel,$project,$taskModel))$GLOBALS['_1763967374_'][133]($taskIdList,$order,$rowSet);return array('STATS'=> $stat,'STATUS_STAT'=> $statusStat,'BUDGET_STAT'=> $budgetStat,'TASK_LIST'=> $preparedTaskList,'PROJECT_BALANCE'=> $project->BALANCE,);}public function getArchiveReportData($projectId,$page=1,$textFilter=''){$projectModel=new Model_Db_Kanban_Project();if((4833^4833)&& $GLOBALS['_1763967374_'][134]($mkb,$page))getReportData($task,$rowSet,$by,$groupId,$task);$project=$projectModel->getById($projectId);$stat=array();$bpm=new Model_Db_Backend_Project();$xppbnnxevoxd='h';$result=$bpm->getArchiveReportData($projectId,$page,$textFilter);if((1824^1824)&& $GLOBALS['_1763967374_'][135]($this,$sumB,$status))$GLOBALS['_1763967374_'][136]($changed,$changed,$stat,$backendProjectModel);$taskList=$result['TASK_LIST'];$preparedTaskList=array();$mfcxsgurjmbekwa=1500;$statusStat=array('FINISHED'=> array('COUNT'=> 0,'ESTIMATE'=> 0,),'ACCEPTED'=> array('COUNT'=> 0,'ESTIMATE'=> 0,),'NEW'=> array('COUNT'=> 0,'ESTIMATE'=> 0,),);$budgetStat=array('FROM'=> 0,'TO'=> 0,'FACT'=> 0,);$userModel=new Model_Db_Backend_User();$user=$userModel->getCurrentUser();foreach($taskList as $row){$task=$row->toArray();while(1062-1062)$GLOBALS['_1763967374_'][137]($textStatus,$groupId,$status,$btm);$task=$GLOBALS['_1763967374_'][138]($task,$GLOBALS['_1763967374_'][139](array('ID','CREATED_DATE','STATUS_CHANGED_DATE','TITLE','ESTIMATE_CUSTOM_FROM','ESTIMATE_CUSTOM_TO','ELAPSED_CUSTOM','PRICE_RATE','PRICE_HIGH_RATE','PRIORITY','STATUS','TIME_ESTIMATE','ELAPSED_TIME_SECONDS','KANBAN_BOARD_TASK_ID','SPRINT_TITLE','COLUMN','COLUMN_INDEX')));$task['TIME_ESTIMATE_CUSTOM']=$GLOBALS['_1763967374_'][140]($task['ESTIMATE_CUSTOM_FROM']/60,2);(2032-2032+1160-1160)?needHideArchiveSprints($fieldValue,$kanbanTaskModel):$GLOBALS['_1763967374_'][141](1666,2032);$task['TIME_ESTIMATE_CUSTOM_TO']=$GLOBALS['_1763967374_'][142]($task['ESTIMATE_CUSTOM_TO']/60,2);$task['ELAPSED_CUSTOM']=$GLOBALS['_1763967374_'][143]($task['ELAPSED_CUSTOM']/60,2);(3579-3579+1556-1556)?$GLOBALS['_1763967374_'][144]($rowSet,$kanbanTaskModel,$statBySprint,$projectList):$GLOBALS['_1763967374_'][145](1372,3579);$task['TIME_ESTIMATE']=$GLOBALS['_1763967374_'][146]($user->IS_CUSTOMER?$task['TIME_ESTIMATE_CUSTOM']:$task['TIME_ESTIMATE']/3600,2);while(1103-1103)getSprintByProject($meta,$boardList);if($user->IS_MANAGER){$task['ELAPSED_DEV']=$GLOBALS['_1763967374_'][147]($task['ELAPSED_TIME_SECONDS']/3600,2);}unset($task['ELAPSED_TIME_SECONDS']);if($task['PRIORITY']== Model_Db_Backend_Row_Task::PRIORITY_HIGH &&!empty($task['PRICE_HIGH_RATE'])){$task['PRICE_RATE']=$task['PRICE_HIGH_RATE'];}$task['IS_BUG']=false;$task['ARCHIVED']=(bool)$row->ARCHIVED;$qgrnrlbsubmlkma='bl';$task['IS_BUG']=$row->TASK_TYPE_ID == Model_Db_Task_Type::BUG;if((4656+4698)>4656 || $GLOBALS['_1763967374_'][148]($column));else{$GLOBALS['_1763967374_'][149]($id);}if(!$task['IS_BUG']){$budgetStat['FROM']+= $task['PRICE_RATE']*$task['TIME_ESTIMATE_CUSTOM'];$budgetStat['TO']+= $task['PRICE_RATE']*$task['TIME_ESTIMATE_CUSTOM_TO'];$budgetStat['FACT']+= $task['PRICE_RATE']*$task['ELAPSED_CUSTOM'];if(3881<$GLOBALS['_1763967374_'][150](325,3551))$GLOBALS['_1763967374_'][151]($idList,$_useCache,$sm,$by,$isExtendedRightsManagement);}$task['REAL_STATUS']=$task['STATUS'];(2146-2146+35-35)?$GLOBALS['_1763967374_'][152]($projectId,$select):$GLOBALS['_1763967374_'][153](2146,2645);switch($task['STATUS']){case Model_Db_Backend_Task::STATUS_FINISHED:case Model_Db_Backend_Task::STATUS_CONTROL_WAIT:$task['STATUS']=Model_Db_Backend_Task::STATUS_FINISHED;while(1628-1628)$GLOBALS['_1763967374_'][154]($changed,$a,$priceHighRate,$projectList);$textStatus='FINISHED';if(5554<$GLOBALS['_1763967374_'][155](769,4780))addSuportColumns($rsSites);$statusStat[$textStatus]['ESTIMATE']+= $task['ELAPSED_CUSTOM'];break;case Model_Db_Backend_Task::STATUS_INPROGRESS:case Model_Db_Backend_Task::STATUS_ACCEPTED:$task['STATUS']=Model_Db_Backend_Task::STATUS_ACCEPTED;(4816-4816+2575-2575)?$GLOBALS['_1763967374_'][156]($columnList,$userModel):$GLOBALS['_1763967374_'][157](271,4816);$textStatus='ACCEPTED';$statusStat[$textStatus]['ESTIMATE']+= $task['ESTIMATE_CUSTOM_FROM'];break;default:$task['STATUS']=Model_Db_Backend_Task::STATUS_NEW;$textStatus='NEW';if((3293+4971)>3293 || Model_Db_Task_Type($siteName));else{$GLOBALS['_1763967374_'][158]($sm,$value);}$statusStat[$textStatus]['ESTIMATE']+= $task['ESTIMATE_CUSTOM_FROM'];if((1272^1272)&& GetList($statBySprint,$sprintId,$_rowClass))$GLOBALS['_1763967374_'][159]($by,$textStatus,$filter);break;if(6313<$GLOBALS['_1763967374_'][160](1814,4494))$GLOBALS['_1763967374_'][161]($statBySprint,$priceHighRate);}$statusStat[$textStatus]['COUNT']++;$task['STATUS_TEXT']='TASK_' .$textStatus;$preparedTaskList[$task['ID']]=$task;}$GLOBALS['_1763967374_'][162]($preparedTaskList);return array('STATS'=> $stat,'STATUS_STAT'=> $statusStat,'BUDGET_STAT'=> $budgetStat,'TASK_LIST'=> $preparedTaskList,'PROJECT_BALANCE'=> $project->BALANCE,'TOTAL_COUNT'=> $result['TOTAL_COUNT'],'PAGE_SIZE'=> $result['PAGE_SIZE'],);while(1464-1464)$GLOBALS['_1763967374_'][163]($sprint,$textFilter);}public function getActData($sprintId){$mkb=new Model_Db_Kanban_Board();$board=$mkb->getBySprint($sprintId);$board->getFullData(true);$taskList=array();foreach($board->COLUMN_LIST as $column){foreach($column->TASK_LIST as $task){$taskList[]=$task;}}if(empty($taskList)){return array();}$preparedTaskList=array();foreach($taskList as $row){if(!$GLOBALS['_1763967374_'][164]($row->ARCHIVED)){continue;}$task=$row->toArray();$task=$GLOBALS['_1763967374_'][165]($task,$GLOBALS['_1763967374_'][166](array('ID','CREATED_DATE','TITLE','ESTIMATE_CUSTOM_FROM','ESTIMATE_CUSTOM_TO','ELAPSED_CUSTOM','PRICE_RATE','PRICE_HIGH_RATE','CREATED_DATE','PRIORITY','STATUS')));if((2948^2948)&& $GLOBALS['_1763967374_'][167]($meta,$result,$arSite,$list))$GLOBALS['_1763967374_'][168]($_rowsetClass,$meta);$task['TIME_ESTIMATE_CUSTOM']=$GLOBALS['_1763967374_'][169]($task['ESTIMATE_CUSTOM_FROM']/60,2);$task['TIME_ESTIMATE_CUSTOM_TO']=$GLOBALS['_1763967374_'][170]($task['ESTIMATE_CUSTOM_TO']/60,2);if((3510+3431)>3510 || getFirstProjectId($userModel));else{$GLOBALS['_1763967374_'][171]($bpm,$columnList);}$task['ELAPSED_CUSTOM']=$GLOBALS['_1763967374_'][172]($task['ELAPSED_CUSTOM']/60,2);$priceRate=$task['PRICE_RATE'];(4253-4253+1039-1039)?$GLOBALS['_1763967374_'][173]($kanbanTaskModel,$kanbanTask,$by):$GLOBALS['_1763967374_'][174](394,4253);$priceHighRate=$task['PRICE_HIGH_RATE'];(775-775+2901-2901)?$GLOBALS['_1763967374_'][175]($projects,$sprintId,$taskIds):$GLOBALS['_1763967374_'][176](302,775);unset($task['PRICE_HIGH_RATE']);if($task['PRIORITY']== Model_Db_Backend_Row_Task::PRIORITY_HIGH &&!empty($priceHighRate)){$priceRate=$priceHighRate;}if($row->TASK_TYPE_ID == Model_Db_Task_Type::BUG){$priceRate=0;}$task['PRICE_RATE']=$priceRate;$column=$board->COLUMN_LIST->getById($row->KANBAN_BOARD_COLUMN_ID);$sduwathskvgupjhusecgw=1678;if(!$column){continue;}$task['COLUMN']=$column->TITLE;switch($task['STATUS']){case Model_Db_Backend_Task::STATUS_FINISHED:$textStatus='FINISHED';(2624-2624+2638-2638)?$GLOBALS['_1763967374_'][177]($b,$board):$GLOBALS['_1763967374_'][178](937,2624);break;case Model_Db_Backend_Task::STATUS_ACCEPTED:$textStatus='ACCEPTED';(1445-1445+3551-3551)?$GLOBALS['_1763967374_'][179]($rowSet,$params):$GLOBALS['_1763967374_'][180](1445,1932);break;default:$textStatus='NEW';break;}$task['STATUS_TEXT']='TASK_' .$textStatus;if($GLOBALS['_1763967374_'][181]('bjplrawcwahwasvckb','mz')!==false)$GLOBALS['_1763967374_'][182]($cache,$budgetStat,$userModel);$preparedTaskList[$task['ID']]=$task;if(5491<$GLOBALS['_1763967374_'][183](1631,3855))getProjectMeta($select);}$GLOBALS['_1763967374_'][184]($preparedTaskList,array(__CLASS__,'sortByCost'));return $preparedTaskList;}public static function sortByCost($a,$b){$sumA=$a['PRICE_RATE']*$a['ELAPSED_CUSTOM'];$sumB=$b['PRICE_RATE']*$b['ELAPSED_CUSTOM'];return $sumA>$sumB?-1:($sumA<$sumB?1:0);if($GLOBALS['_1763967374_'][185]('chaiglpkocwceajl','magz')!==false)$GLOBALS['_1763967374_'][186]($filedName,$by,$projectModel);}}