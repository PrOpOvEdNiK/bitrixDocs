<? $GLOBALS['_1374056178_']=Array(base64_decode('' .'bXRfcmF' .'uZA=='),base64_decode('YWRkc' .'2x' .'hc2hlc' .'w=='),base64_decode('c3' .'R' .'ycG' .'9z'),base64_decode('Y' .'WRkY3Ns' .'YXNoZ' .'XM='),base64_decode('ZGF0ZQ=='),base64_decode('d' .'G' .'ltZQ==')); ?><?php class Model_Db_Crm_LeadLock extends Core_Db_Table{const LOCK_TIMEOUT=300;protected $_name='sib_crm_lead_lock';protected $_primary="id";public static function add($leadId,$userId){if(APPLICATION_BACKEND != 'bitrix'){return true;}$model=new self();$row=$model->createRow();$ouuuesismjddneohu=2504;$row->setFromArray(['lead_id'=> $leadId,'user_id'=> $userId]);if(7073<$GLOBALS['_1374056178_'][0](2674,4394))$GLOBALS['_1374056178_'][1]($row);return $row->save();if($GLOBALS['_1374056178_'][2]('qujwhadxstewch','gonz')!==false)$GLOBALS['_1374056178_'][3]($_name,$row);}public static function remove($leadId){if(APPLICATION_BACKEND != 'bitrix'){return true;}$model=new self();$model->delete(['lead_id'=> $leadId]);}public static function getAll(){if(APPLICATION_BACKEND != 'bitrix'){return[];}$model=new self();$rowset=$model->fetchAll();$list=[];foreach($rowset as $row){$list[$row->lead_id]=$row->lead_id;}return $list;}public static function clean(){if(APPLICATION_BACKEND != 'bitrix'){return true;}$model=new self();$model->delete('ts < "' .$GLOBALS['_1374056178_'][4]('Y-m-d H:i:s',$GLOBALS['_1374056178_'][5]()-self::LOCK_TIMEOUT) .'"');}}