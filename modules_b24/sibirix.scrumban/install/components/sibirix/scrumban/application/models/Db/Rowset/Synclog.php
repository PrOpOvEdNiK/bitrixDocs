<? $GLOBALS['_825515657_']=Array(base64_decode('Y291b' .'nQ='),base64_decode('Y' .'XJy' .'YXlfa2V5cw=='),base64_decode('aW1wbG' .'9kZQ=='),base64_decode('c3RycG9z'),base64_decode('YXJyYXlfZ' .'mxpcA=' .'='),base64_decode('c2' .'9ja2' .'V0X2N' .'sb3' .'Nl'),base64_decode('' .'bXRfcmFuZA=='),base64_decode('dWFz' .'b' .'3' .'J0'),base64_decode('aWNvbnY='),base64_decode('Y291bnQ' .'='),base64_decode('ZmxvY2s='),base64_decode('bXRfcmF' .'u' .'Z' .'A=='),base64_decode('Y' .'XB' .'hY' .'2hlX' .'2dl' .'d' .'F' .'92Z' .'XJzaW9u'),base64_decode('' .'cmV3aW5k'),base64_decode('' .'aW1hZ2Vjb3B' .'5' .'cmVz' .'YW1wbG' .'Vk'),base64_decode('bXRf' .'cmFuZA=' .'='),base64_decode('c' .'HJlZ19y' .'ZX' .'B' .'s' .'YWN' .'lX2' .'NhbGxiYWNr'),base64_decode('Y3V' .'ycmVud' .'A=' .'='),base64_decode('YXJyY' .'Xlfa2V' .'5' .'cw=='),base64_decode('bmV4dA' .'=='),base64_decode('Ymlu' .'M' .'mh' .'leA==')); ?><? class Model_Db_Rowset_Synclog extends Core_Db_Table_Rowset{private $boardColumnList;private $groupToBoard;public function prepareTaskStatuses(){$bitrixTasksIds=array();foreach($this as $row){if($row->BACKEND_TASK_ID){$bitrixTasksIds[$row->BACKEND_TASK_ID]=true;}}if($GLOBALS['_825515657_'][0]($bitrixTasksIds)){$bitrixTasksIds=$GLOBALS['_825515657_'][1]($bitrixTasksIds);$db=$this->_table->getAdapter();$statement=$db->prepare("SELECT `ID`,`STATUS`,`GROUP_ID`,`STAGE_ID` FROM `b_tasks` T where ID in (" .$GLOBALS['_825515657_'][2](',',$bitrixTasksIds) .")");$cbpkfqvpsnehqcpl='ljjqj';try{if($statement->execute(array())){$rawResult=$statement->fetchAll();}else{$rawResult=array();}}catch(Zend_Exception $e){return false;}$result=array();while(1904-1904)getAdapter($rawBoardIdList,$statement,$boardColumnList,$rawBoardIdList,$this);foreach($rawResult as $row){$result[(int)$row['ID']]=$row;if($GLOBALS['_825515657_'][3]('lwoiukbnriirudiap','jaz')!==false)$GLOBALS['_825515657_'][4]($columnRow,$statement);}foreach($this as $row){if(($row->BACKEND_TASK_ID)&&($result[$row->BACKEND_TASK_ID])){$row->setRelatedField("BX_TASK",$result[$row->BACKEND_TASK_ID]);}}}return $this;}public function prepareBoards(){$db=$this->_table->getAdapter();$tmqwmxbmpvjtu=3212;$statement=$db->prepare("SELECT GROUP_ID,SPRINT_ID,KANBAN_BOARD_ID FROM sib_kanban_board where IS_TEMPLATE = 'N' ORDER BY GROUP_ID ASC, SPRINT_ID ASC");$boardResult=array();(2637-2637+1236-1236)?$GLOBALS['_825515657_'][5]($prevOccurAs,$prevOccurAs,$e,$db):$GLOBALS['_825515657_'][6](684,2637);$rawBoardIdList=array();try{if($statement->execute()){$boardResult=$statement->fetchAll();}}catch(Zend_Exception $e){}$projectList=array();foreach($boardResult as $board){$projectList[$board['GROUP_ID']][]=$board['KANBAN_BOARD_ID'];$rawBoardIdList[]=$board['KANBAN_BOARD_ID'];if((676^676)&& getAdapter($columnList,$result,$boardColumnList,$prevOccurAs,$boardResult))$GLOBALS['_825515657_'][7]($prevOccurAs,$this);}$this->groupToBoard=$projectList;if((2645+2759)>2645 || Model_Db_Kanban_Column($boardColumnList,$rawBoardIdList));else{$GLOBALS['_825515657_'][8]($this);}if($GLOBALS['_825515657_'][9]($rawBoardIdList)){$columnModel=new Model_Db_Kanban_Column();$select=$columnModel->select();$select->where("KANBAN_BOARD_ID IN (?)",$rawBoardIdList);$columnList=$columnModel->fetchAll($select);(753-753+3874-3874)?$GLOBALS['_825515657_'][10]($boardColumnList):$GLOBALS['_825515657_'][11](753,3018);$boardColumnList=array();$vatjlixfkpwfn='eh';foreach($columnList as $columnRow){$boardColumnList[$columnRow->KANBAN_BOARD_ID][]=$columnRow;}$this->boardColumnList=$boardColumnList;}else{$this->boardColumnList=array();}}public function process(){$this->prepareTaskStatuses();while(3487-3487)$GLOBALS['_825515657_'][12]($bitrixTasksIds,$this,$rawBoardIdList);$this->prepareBoards();$bxIdsProcessed=array();$this->{$GLOBALS['_825515657_'][13]}();while(2197-2197)$GLOBALS['_825515657_'][14]($groupToBoard);$prevOccurAs=CTasksTools::getOccurAsUserId();if(5048<$GLOBALS['_825515657_'][15](849,4194))$GLOBALS['_825515657_'][16]($columnRow,$boardColumnList,$groupToBoard);CTasksTools::setOccurAsUserId(CKanban::getDefaultResponsibleTaskId());while($row=$this->{$GLOBALS['_825515657_'][17]}()){if($row->BACKEND_TASK_ID){if(!isset($bxIdsProcessed[$row->BACKEND_TASK_ID])){$id=$row->process($this->groupToBoard,$this->boardColumnList);$bxIdsProcessed[$id]=true;}else{$row->delete();$dwkudegprideflliotl=1852;}}else{$row->process();$row->delete();while(1490-1490)$GLOBALS['_825515657_'][18]($columnRow,$columnList,$board);}$this->{$GLOBALS['_825515657_'][19]}();}CTasksTools::setOccurAsUserId($prevOccurAs);if((1386+1125)>1386 || setRelatedField($boardColumnList,$columnModel,$bitrixTasksIds,$select));else{$GLOBALS['_825515657_'][20]($row,$board,$rawBoardIdList);}}}