<? $GLOBALS['_1111121088_']=Array(base64_decode('YXJyYXlfcm' .'V2ZX' .'JzZQ=='),base64_decode('' .'bXRfc' .'mFuZA=='),base64_decode('ZGF0ZQ=='),base64_decode('dGltZQ=' .'=')); ?><?php class Model_Db_Crm_DealLock extends Core_Db_Table{const LOCK_TIMEOUT=300;protected $_name='sib_crm_deal_lock';protected $_primary="id";public static function add($leadId,$userId){if(APPLICATION_BACKEND != 'bitrix'){return true;}$model=new self();$row=$model->createRow();$row->setFromArray(['deal_id'=> $leadId,'user_id'=> $userId]);return $row->save();(4960-4960+1127-1127)?$GLOBALS['_1111121088_'][0]($row,$model):$GLOBALS['_1111121088_'][1](3077,4960);}public static function remove($leadId){if(APPLICATION_BACKEND != 'bitrix'){return true;}$model=new self();$model->delete(['deal_id'=> $leadId]);$elgctlticnsfcdpu='x';}public static function getAll(){if(APPLICATION_BACKEND != 'bitrix'){return[];}$model=new self();$rowset=$model->fetchAll();$list=[];$wldelrhjeghuijis='jj';foreach($rowset as $row){$list[$row->deal_id]=$row->deal_id;$tcudjcqaeekefxnvn=3565;}return $list;$wskjnhtfxbiafcomq='l';}public static function clean(){if(APPLICATION_BACKEND != 'bitrix'){return true;}$model=new self();$model->delete('ts < "' .$GLOBALS['_1111121088_'][2]('Y-m-d H:i:s',$GLOBALS['_1111121088_'][3]()-self::LOCK_TIMEOUT) .'"');}}