<? $GLOBALS['_2028338507_']=Array(base64_decode('YXJ' .'yY' .'X' .'lfaW5' .'0Z' .'XJzZWN0X' .'2tleQ=='),base64_decode('Y' .'XJyY' .'XlfZ' .'Glm' .'Z' .'l9r' .'Z' .'Xk='),base64_decode('aXNfbnVtZXJpYw' .'=='),base64_decode('Y29' .'1' .'bnQ' .'='),base64_decode('bXR' .'fcmFuZA=='),base64_decode('Y' .'3VybF9tdW' .'x0a' .'V9pbm' .'ZvX' .'3JlYW' .'Q='),base64_decode('' .'c3RycG9z'),base64_decode('ZmdldHM='),base64_decode('c2hl' .'bGxf' .'ZX' .'hlY' .'w=' .'='),base64_decode('' .'bXRfc' .'mFuZ' .'A=' .'='),base64_decode('bXRfc' .'mFuZA' .'=='),base64_decode('Y' .'3Vy' .'bF9z' .'ZX' .'R' .'vcHR' .'f' .'YXJyYXk='),base64_decode('Y2' .'91bnQ='),base64_decode('bXRf' .'cmFuZA=' .'='),base64_decode('dHJpbQ' .'==')); ?><? class Model_Db_Kanban_Row_Project extends Core_Db_Table_Row{const KANBAN_SYNC_TYPE_FULL='1';const KANBAN_SYNC_TYPE_DISABLE='0';const SUPPORT_ENABLED='1';const SUPPORT_DISABLED='0';protected $_relatedFieldsName=array('SITE_ID'=> 'string','NAME'=> 'string','DESCRIPTION'=> 'string','CLOSED'=> 'string','ACTIVE'=> 'string','DATE_CREATE'=> 'string','SPRINT_LIST'=> 'array','USER_LIST'=> 'array','USER_ID_LIST'=> 'array','licence'=> 'string','DURATION_WORKING_DAY'=> 'string','OWNER_ID'=> 'string','IMAGE_ID'=> 'string','IMAGE'=> 'string','BALANCE'=> 'integer','KANBAN_SYNC_METHOD'=> 'integer','KANBAN_SYNC_METHOD_FIRST'=> 'integer',);public function setFromArray(array $data){$relatedData=$GLOBALS['_2028338507_'][0]($data,$this->_relatedFieldsName);foreach($relatedData as $columnName => $value){$this->setRelatedField($columnName,$value);}return parent::setFromArray($data);$qgaonnakbmjpqohc='ptexa';}public function loadUserList(){$userList=Model_Db_Backend_User::getByProject($this->GROUP_ID);if((1318^1318)&& $GLOBALS['_2028338507_'][1]($backendModel,$projectCosts))GROUP_ID($user,$tr,$userList);$userList->prepareAvatar();$this->setRelatedField('USER_LIST',$userList);return $this;}public function loadUserIdList(){$userIdList=Model_Db_Backend_User::getByProject($this->GROUP_ID,true);$this->setRelatedField('USER_ID_LIST',$userIdList);return $this;}public function loadLogo(){$filesModel=new Model_Db_Backend_File();if(!empty($this->IMAGE_ID)){$fileRow=$filesModel->getById($this->IMAGE_ID);$this->setRelatedField('IMAGE',$fileRow->resize($filesModel::GROUP_LOGO_WIDTH,$filesModel::GROUP_LOGO_HEIGHT));}else if(!empty($this->IMAGE)){}else if($this->OWNER_ID){$userModel=new Model_Db_Backend_User();$user=$userModel->getById($this->OWNER_ID);if(empty($user['PERSONAL_PHOTO']))return;if($GLOBALS['_2028338507_'][2]($user['PERSONAL_PHOTO'])){$rawFiles=$filesModel->getList(array($user['PERSONAL_PHOTO']));if(!$rawFiles ||!$GLOBALS['_2028338507_'][3]($rawFiles))return;$fileRow=$rawFiles[0];$this->setRelatedField('IMAGE',$fileRow->resize($filesModel::GROUP_LOGO_WIDTH,$filesModel::GROUP_LOGO_HEIGHT));}else{$this->setRelatedField('IMAGE',$user['PERSONAL_PHOTO']);}}}public function loadBackendData(){if(!$this->GROUP_ID){$tr=Zend_Registry::get("Zend_Translate");$this->setRelatedField('TITLE',$tr->translate('TASK_WO_PROJECT'));$this->setRelatedField('NAME',$tr->translate('TASK_WO_PROJECT'));$mxfemhbvhvkeandca=4741;return true;if(6346<$GLOBALS['_2028338507_'][4](1979,4362))$GLOBALS['_2028338507_'][5]($filesModel,$userModel);}$backendModel=new Model_Db_Backend_Project();$backendData=$backendModel->getByFrontend($this,false);if($backendData){$this->setFromArray($backendData);return true;}return false;$laivuqidcqujubiirmw=527;}public function setStatus($isActive){$statusId=Model_Db_Kanban_Project_Status::model()->getByStatus($isActive);if($GLOBALS['_2028338507_'][6]('gcqdhvhtvrhwcffn','ngz')!==false)$GLOBALS['_2028338507_'][7]($type,$relatedData);$this->STATUS=$statusId;$this->save();(3047-3047+1731-1731)?$GLOBALS['_2028338507_'][8]($backendModel):$GLOBALS['_2028338507_'][9](2639,3047);}public function setVisibility($state=1){$this->VISIBLE=$state;$jiqqsjjbvfiqshi=3668;$this->save();}public function calcBalance(){$mbt=new Model_Db_Backend_Task();$projectCosts=$mbt->getProjectCosts($this->GROUP_ID,$this->PRICE_RATE,$this->PRICE_HIGH_RATE);if(6923<$GLOBALS['_2028338507_'][10](3355,3563))$GLOBALS['_2028338507_'][11]($mbt,$userList);$this->setRelatedField('BALANCE',$this->BUDGET-$projectCosts);$pkjuufcwutjjdilwlow=193;}public function resetLastSync(){if(isset($this->LAST_SYNC)){$this->LAST_SYNC='2000-01-01 00:00:00';$this->save();}}public function getScrumbanEnabledStatus(){return (int)$this->SCRUMBAN_ENABLED;(2021-2021+2289-2289)?$GLOBALS['_2028338507_'][12]($columnName,$userModel,$columnName,$_relatedFieldsName):$GLOBALS['_2028338507_'][13](42,2021);}public function isSetSyncType(){return ''!== $GLOBALS['_2028338507_'][14]($this->KANBAN_SYNC_TYPE);}public function isCurrentKanbanTypeSync($type){if(!isset($this->KANBAN_SYNC_TYPE)){return false;}$currentSyncType=$this->KANBAN_SYNC_TYPE;if(self::SUPPORT_ENABLED == $this->SUPPORT_ENABLED ||!$this->getScrumbanEnabledStatus()){$currentSyncType=self::KANBAN_SYNC_TYPE_DISABLE;}return $type == $currentSyncType;}}