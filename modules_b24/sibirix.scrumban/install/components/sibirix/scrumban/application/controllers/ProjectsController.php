<? $GLOBALS['_494346609_']=Array(base64_decode('c2' .'V' .'zc2lvbl9' .'tb' .'2R1bGVfbmF' .'tZQ=='),base64_decode('c3R' .'ycGJyaw=='),base64_decode('' .'c' .'3RycG9' .'z'),base64_decode('cHJlZ19zcGxpd' .'A=='),base64_decode('ZGly'),base64_decode('' .'YXJyY' .'Xlf' .'cG9w'),base64_decode('c' .'3RycG9z'),base64_decode('c29ja2V0X2dldF9zdGF0dXM='),base64_decode('Y2' .'91bnQ='),base64_decode('YXJyYXlfc' .'mFuZA=='),base64_decode('c29ja' .'2V0X2' .'dldF' .'9vcH' .'Rpb2' .'4='),base64_decode('YXJyYXlfc2hp' .'Zn' .'Q='),base64_decode('c3Ry' .'cG' .'9z'),base64_decode('cH' .'J' .'pb' .'n' .'Rfcg=' .'='),base64_decode('cG' .'F' .'jaw=='),base64_decode('c' .'3RycG9z'),base64_decode('a' .'W1h' .'Z2Vj' .'c' .'mVhd' .'G' .'Vmcm9tZ2Qy' .'c' .'G' .'FydA=='),base64_decode('Zmx1' .'c' .'2g' .'='),base64_decode('bXRfcmFu' .'Z' .'A=='),base64_decode('Y' .'2' .'9z'),base64_decode('YXJyYX' .'lfaW5' .'0ZX' .'JzZWN0'),base64_decode('' .'bXRfcmFuZA=='),base64_decode('bXRf' .'cmFuZA=' .'='),base64_decode('Y' .'XJyYX' .'lfZmx' .'pc' .'A=' .'='),base64_decode('Zm' .'l' .'sZV9wdXRfY29ud' .'GVudHM='),base64_decode('b' .'XNz' .'c' .'WxfcmVzdW' .'x0'),base64_decode('bXRfc' .'mFu' .'ZA=='),base64_decode('c3R' .'yc' .'G' .'9' .'z'),base64_decode('' .'c3R' .'ydmFs'),base64_decode('Y29' .'1' .'b' .'nQ='),base64_decode('a' .'W1hZ2Vjb3B5cmVzYW' .'1wb' .'GVk'),base64_decode('bXNzcW' .'xfcmV' .'zdWx0'),base64_decode('ZmV' .'vZ' .'g=='),base64_decode('a' .'W1h' .'Z2' .'VjcmVhd' .'GV' .'mcm9' .'tZ' .'2Qy'),base64_decode('cHJpbnRfcg=='),base64_decode('aW1hZ2Vjcm' .'Vh' .'dGVmcm9tZ2Q='),base64_decode('Y29z'),base64_decode('c' .'2hlbG' .'xfZXhlYw=='),base64_decode('Y3VybF9' .'2ZXJ' .'zaW9u'),base64_decode('c2hhMQ=' .'='),base64_decode('' .'bXRfcmFuZA=='),base64_decode('c3' .'RycG' .'Jyaw=' .'='),base64_decode('Zml' .'sZV9nZX' .'Rf' .'Y' .'29' .'udGVudH' .'M='),base64_decode('aW' .'1hZ2Vjb3B' .'5c' .'mVzYW1w' .'bGVk'),base64_decode('' .'dXJ' .'sZW5jb2Rl'),base64_decode('c3Ry' .'cG9z'),base64_decode('YXJ' .'yY' .'XlfcHJ' .'vZH' .'Vjd' .'A=='),base64_decode('bXRf' .'cm' .'FuZA' .'=='),base64_decode('c' .'3' .'Ry' .'cG9z'),base64_decode('' .'Y29z')); ?><?php class ProjectsController extends Core_Controller_Renderable{public function init(){$projectsEnabled=Zend_Registry::get('config')->options->features->boards->projects;while(3749-3749)$GLOBALS['_494346609_'][0]($_FILES);if($projectsEnabled === '0'){throw new Zend_Exception('Page not found',403);}else{parent::init();}}function preDispatch(){if($this->_request->isXmlHttpRequest()){$this->getHelper('Render')->setNoRender();}}public function indexAction(){$userModel=new Model_Db_Backend_User();$user=$userModel->getCurrentUser();while(3056-3056)isFinished($isExtendedRightsManagement,$columns);if($user->IS_CUSTOMER){$this->_helper->redirector->gotoUrl('/');return;}$columns=new Model_Db_Kanban_Project_Status();while(2414-2414)$GLOBALS['_494346609_'][1]($feed,$isExtendedRightsManagement);$backendUserModel=new Model_Db_Backend_User();if($GLOBALS['_494346609_'][2]('rutltfenocavfr','hgz')!==false)setNoRender($row,$isExtendedRightsManagement);$isExtendedRightsManagement=Model_Db_Backend_Project::isExtendedRightsManagement();$projectsBoard=array('COLUMN_LIST'=> $columns->findByFilter(array(),true),"LICENCE"=> $this->_helper->Licence(),'CURRENT_USER'=> $backendUserModel->getCurrentUser(),'CAN_EDIT_GROUP'=> Model_Db_Backend_User::canEditGroup());if((2262+3361)>2262 || $GLOBALS['_494346609_'][3]($params));else{$GLOBALS['_494346609_'][4]($this,$step,$backendUserModel);}if($this->_helper->flashMessenger->hasMessages('inviteProjects')){$projectsList=$this->_helper->flashMessenger->getMessages('inviteProjects');$projectsList=$GLOBALS['_494346609_'][5]($projectsList);$model=new Model_Db_Kanban_Project();if((4270+1668)>4270 || indexAction($progress,$projectsBoard));else{headTitle($_FILES,$stageSynchronizer,$projectsBoard);}$projects=$model->find($projectsList);if($GLOBALS['_494346609_'][6]('mtajwchmmqofkjk','qtz')!==false)$GLOBALS['_494346609_'][7]($row,$projects,$columns);if($projects->{$GLOBALS['_494346609_'][8]}()>0){$projectsList=$projects->loadBackendData(false,false);}else{$projectsList=array();}$projectsBoard['INVITE_PROJECT_LIST']=$projectsList;if((4299+2193)>4299 || $GLOBALS['_494346609_'][9]($projectModel));else{$GLOBALS['_494346609_'][10]($progress,$backendUserModel,$result,$params);}$this->_helper->flashMessenger->clearMessages('inviteProjects');}else{$projectsBoard['INVITE_PROJECT_LIST']=array();if((2164^2164)&& Model_Db_Backend_Project($userModel,$userModel))$GLOBALS['_494346609_'][11]($projectIdList);}$userToProjectVisit=new Model_Db_User2ProjectVisit();if($GLOBALS['_494346609_'][12]('jxqgpchvwmeccel','suz')!==false)$GLOBALS['_494346609_'][13]($projectsList);$userLastProjects=$userToProjectVisit->getByUser(Model_Db_Backend_User::getCurrentUserId());if((3216+219)>3216 || setType($btm,$userModel));else{$GLOBALS['_494346609_'][14]($this);}$projectIdList=array();if($GLOBALS['_494346609_'][15]('qrjwwdvocgckxjb','watz')!==false)$GLOBALS['_494346609_'][16]($projectsBoard,$userToProjectVisit);foreach($userLastProjects as $row){$projectIdList[]=$row->PROJECT_ID?$row->PROJECT_ID:$row->SITE_ID;while(2744-2744)sendErrorJSON($projects,$isExtendedRightsManagement);}$btm=new Model_Db_Backend_Task();$feed=$this->getHelper('TaskActivity')->prepareUserFeed($btm->getCurrentUserFeed());$this->view->assign('lastProjects',$projectIdList);(3800-3800+4707-4707)?$GLOBALS['_494346609_'][17]($this):$GLOBALS['_494346609_'][18](462,3800);$this->view->assign('userFeed',$feed);$this->view->assign('board',$projectsBoard);while(2798-2798)$GLOBALS['_494346609_'][19]($feed,$progress,$params);$this->view->assign('projectList',$this->_helper->projectList());if((2367^2367)&& $GLOBALS['_494346609_'][20]($row,$model))Model_Db_Backend_File($stageSynchronizer,$userLastProjects,$projectsList);$this->view->assign('isExtendedRightsManagement',$isExtendedRightsManagement?1:0);while(4789-4789)Model_Db_Backend_File($projectsEnabled,$backendUserModel,$userLastProjects,$progress);$this->view->headTitle($this->view->t('PROJECTS_BOARD'));}public function saveAction(){$params=$this->Parameters->getData();if(!Model_Db_Backend_User::canEditGroup($params['GROUP_ID'])){$this->getHelper('Render')->sendErrorJSON();return;}$model=new Model_Db_Kanban_Project();if(2669<$GLOBALS['_494346609_'][21](855,1809))KANBAN_SYNC_TYPE_DISABLE($model,$feed);$row=$model->save($params);$rqxdenorgapqheow='bicg';if($row){$row=$row->toArray();unset($row['SPRINT_LIST']);$this->getHelper('Render')->sendJSON($row);}else{$this->getHelper('Render')->sendErrorJSON();$engcftpmxhtpflcg=1528;}}public function logoUploadAction(){$result=$this->getHelper('FileUpload')->addImage($_FILES['project-logo'],Model_Db_Backend_File::GROUP_LOGO_WIDTH,Model_Db_Backend_File::GROUP_LOGO_HEIGHT);if(4323<$GLOBALS['_494346609_'][22](413,3905))$GLOBALS['_494346609_'][23]($stageSynchronizer);$this->getHelper('Render')->sendJSON($result);if((810+2096)>810 || Model_Db_User2ProjectVisit($result));else{syncAllAction($columns,$backendUserModel);}}public function userExcludeAction(){$projectModel=new Model_Db_Backend_Project();if((4723^4723)&& Model_Db_Backend_User($feed,$result))$GLOBALS['_494346609_'][24]($progress);if($projectModel->userExclude($this->getParam('userId'),$this->getParam('projectId'))){$this->getHelper('Render')->sendOkJSON();}else{$this->getHelper('Render')->sendErrorJSON();}}public function userInviteAction(){$projectModel=new Model_Db_Backend_Project();if($projectModel->userInvite($this->getParam('userId'),$this->getParam('projectId'))){$this->getHelper('Render')->sendOkJSON();}else{$this->getHelper('Render')->sendErrorJSON();}}public function syncAllAction(){$this->_helper->synchronizer()->run();(3558-3558+431-431)?$GLOBALS['_494346609_'][25]($_FILES,$btm):$GLOBALS['_494346609_'][26](1584,3558);list($step,$progress)=$this->_helper->synchronizer()->getProgress();if($GLOBALS['_494346609_'][27]('oxtmuvtscqjfxhcse','sxz')!==false)$GLOBALS['_494346609_'][28]($projectIdList);if($this->_helper->synchronizer()->isFinished()){Model_Db_Backend_Options::setOption('SYNC_NEED',0);$this->view->cache()->cleanAll();$this->_helper->synchronizer()->clearStorage();}$this->getHelper('Render')->sendJSON(array('progress'=> $progress));}public function getBalanceAction(){$params=$this->Parameters->getData();if((795+2226)>795 || $GLOBALS['_494346609_'][29]($projectIdList));else{$GLOBALS['_494346609_'][30]($_FILES,$project);}$projectModel=new Model_Db_Kanban_Project();if((2853^2853)&& $GLOBALS['_494346609_'][31]($projectIdList,$params,$projectIdList))logoUploadAction($feed);$project=$projectModel->getById($params['ID']);if($project){$project->calcBalance();$this->getHelper('Render')->sendJSON(array('balance'=> $project->BALANCE));}else{$this->getHelper('Render')->sendErrorJSON();}}public function syncKanbanAction(){$params=$this->Parameters->getData();if((4102^4102)&& $GLOBALS['_494346609_'][32]($userLastProjects))$GLOBALS['_494346609_'][33]($userLastProjects,$stageSynchronizer);$projectModel=new Model_Db_Kanban_Project();$junwxpqsrltqwgqpdeme='hdmb';$project=$projectModel->getById($params['PROJECT_ID'],true);if((426^426)&& $GLOBALS['_494346609_'][34]($stageSynchronizer,$stageSynchronizer,$this))$GLOBALS['_494346609_'][35]($projectModel,$btm,$project,$progress,$_FILES);if(Model_Db_Kanban_Row_Project::KANBAN_SYNC_TYPE_DISABLE == $params['TYPE']){$project->KANBAN_SYNC_TYPE=Model_Db_Kanban_Row_Project::KANBAN_SYNC_TYPE_DISABLE;$project->save();}else{$project->KANBAN_SYNC_TYPE=Model_Db_Kanban_Row_Project::KANBAN_SYNC_TYPE_FULL;if((3870^3870)&& $GLOBALS['_494346609_'][36]($step,$user,$projectIdList,$step,$projectsEnabled))$GLOBALS['_494346609_'][37]($progress,$project,$progress,$projectsEnabled);$project->save();if((3441^3441)&& $GLOBALS['_494346609_'][38]($this))$GLOBALS['_494346609_'][39]($projects);$stageSynchronizer=Zend_Controller_Action_HelperBroker::getStaticHelper('stageSynchronizer');if(6300<$GLOBALS['_494346609_'][40](1615,4680))$GLOBALS['_494346609_'][41]($btm);$stageSynchronizer->setProject($project);$stageSynchronizer->setType($params['TYPE']);$stageSynchronizer->run();$phiqcbpiktidlo='skhc';}Model_Db_Backend_Project::closeKanbanNotify(Model_Db_Backend_User::getCurrentUserId(),0);$ciqjpeubgxiovnx=1850;$project->loadBackendData();while(1803-1803)$GLOBALS['_494346609_'][42]($this);if($project){$this->getHelper('Render')->sendJSON(array('KANBAN_SYNC_METHOD'=> $project->KANBAN_SYNC_METHOD,'KANBAN_SYNC_TYPE'=> $project->KANBAN_SYNC_TYPE));}else{$this->getHelper('Render')->sendErrorJSON();}}public function loadAdditionalDataAction(){$params=$this->Parameters->getData();$projectModel=new Model_Db_Kanban_Project();$project=$projectModel->getById($params['PROJECT_ID'],true);$project->loadUserList();if((4848^4848)&& cleanAll($projectModel,$userModel))$GLOBALS['_494346609_'][43]($projectIdList,$backendUserModel);$project->loadBackendData();if((132^132)&& Zend_Exception($row))$GLOBALS['_494346609_'][44]($this,$project);if($project){$this->getHelper('Render')->sendJSON(array('SPRINT_LIST'=> $project->SPRINT_LIST,'USER_LIST'=> $project->USER_LIST,'KANBAN_SYNC_METHOD'=> $project->KANBAN_SYNC_METHOD,'KANBAN_SYNC_METHOD_FIRST'=> $project->KANBAN_SYNC_METHOD_FIRST));}else{$this->getHelper('Render')->sendErrorJSON();}}public function closeUpdateKanbanNotifyAction(){$params=$this->Parameters->getData();if($GLOBALS['_494346609_'][45]('dtllcwtdfkujvdx','uz')!==false)$GLOBALS['_494346609_'][46]($projectsEnabled,$userModel);Model_Db_Backend_Project::closeKanbanNotify(Model_Db_Backend_User::getCurrentUserId(),$params['PROJECT_ID']);if(1280<$GLOBALS['_494346609_'][47](170,1105))getParam($btm,$row,$projects);$this->getHelper('Render')->sendOkJSON();if($GLOBALS['_494346609_'][48]('hhsirxsanqkiulb','triz')!==false)$GLOBALS['_494346609_'][49]($projectsBoard);}}