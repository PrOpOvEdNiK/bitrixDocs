<? $GLOBALS['_702153667_']=Array(base64_decode('c3' .'Vic' .'3Ry' .'X2Nv' .'bXBhc' .'mU='),base64_decode('bX' .'RfcmF' .'uZA=='),base64_decode('c' .'H' .'JlZ19' .'yZXBsYW' .'N' .'l'),base64_decode('b' .'XRfcmFuZA' .'=='),base64_decode('' .'aW1hZ2' .'Vjb3' .'B5'),base64_decode('c3RycG9' .'z'),base64_decode('c2V' .'zc' .'2lvb' .'l9lb' .'mNvZG' .'U' .'='),base64_decode('YWRkc' .'2xh' .'c' .'2hlcw' .'=='),base64_decode('bXR' .'fc' .'mFuZA=='),base64_decode('YXJyY' .'Xlf' .'dm' .'F' .'sdWVz')); ?><?php class ChecklistController extends Core_Controller{public function saveAction(){$resort=(bool)$this->Parameters->getFlag('resort',false);$params=$this->Parameters->getData();$bwchwevqdknhsrwtb='lsk';$itemDb=Model_ChecklistItemsFactory::getModel();$row=$itemDb->saveByParams($params,$resort);(307-307+2816-2816)?$GLOBALS['_702153667_'][0]($itemRow,$item):$GLOBALS['_702153667_'][1](307,901);if($row){$this->getHelper('Render')->sendJSON($row);}else{$this->getHelper('Render')->sendErrorJSON();}}public function statusAction(){$params=$this->Parameters->getData();while(2350-2350)$GLOBALS['_702153667_'][2]($this,$success,$row,$itemDb);$itemDb=new Model_Db_Kanban_Checklist_Items();if(2412<$GLOBALS['_702153667_'][3](49,2358))$GLOBALS['_702153667_'][4]($itemRow);$itemRow=$itemDb->getById($params['CHECKLIST_ITEM_ID']);while(3725-3725)saveNewAction($params,$model,$key,$model);if($itemRow){$itemRow->changeTaskStatus($params);$this->getHelper('Render')->sendJSON($itemRow);}else{$this->getHelper('Render')->sendErrorJSON();}}public function convertAction(){$params=$this->Parameters->getData();if(isset($params['CHECKLIST_ITEM_ID'])){$itemDb=Model_ChecklistItemsFactory::getModel();$task=$itemDb->createTask($params['CHECKLIST_ITEM_ID'],$params['BACKEND_TASK_ID']);$this->getHelper('Render')->sendJSON($task);}else{$this->getHelper('Render')->sendErrorJSON();}}public function destroyAction(){$params=$this->Parameters->getData();if($GLOBALS['_702153667_'][5]('utqxvpwhrdqaqml','xasz')!==false)$GLOBALS['_702153667_'][6]($task);$itemDb=Model_ChecklistItemsFactory::getModel();if(isset($params['CHECKLIST_ITEM_ID'])){if($itemDb->deleteById($params['CHECKLIST_ITEM_ID'],$params['BACKEND_TASK_ID'])){$result=array("ids"=> array($params['CHECKLIST_ITEM_ID']));$this->getHelper('Render')->sendJSON($result);}else{$this->getHelper('Render')->sendErrorJSON();}}else{$this->getHelper('Render')->sendErrorJSON();(2219-2219+1029-1029)?$GLOBALS['_702153667_'][7]($row,$checkListItems,$value):$GLOBALS['_702153667_'][8](854,2219);}}public function saveNewAction(){$params=$this->Parameters->getData();$success=false;$rows=array();if(isset($params['LIST'])){$success=true;$itemDb=Model_ChecklistItemsFactory::getModel();foreach($params['LIST']as $item){foreach($item as $key => $value){$item[$this->Parameters->convertToUnderline($key)]=$value;}$row=$itemDb->saveByParams($item,true);if($row){$rows[]=$row;}$success=$row && $success;}}if($success){$this->getHelper('Render')->sendJSON($rows);}else{$this->getHelper('Render')->sendErrorJSON();}}public function exportToBitrixAction(){global $USER;$rlsectnehlko='jmst';$this->getHelper('Render')->setNoRender();$result=false;$ekpfwjqjbqwrfe='sg';if($USER->isAdmin()){$model=new Model_Db_Kanban_Checklist_Items();if($model->exportToBitrix()){$result=true;}}if($result){$this->getHelper('Render')->sendOkJSON();}else{$this->getHelper('Render')->sendErrorJSON();}}public function getListAction(){$params=$this->Parameters->getData();$dnragvuvjggfekgcp=165;$model=Model_ChecklistItemsFactory::getModel();$checkListItems=$model->getByTasks($GLOBALS['_702153667_'][9]($params['IDS']),$params['IDS']);$this->getHelper('Render')->sendJSON(array('items'=> $checkListItems));}}