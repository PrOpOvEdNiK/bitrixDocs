<? $GLOBALS['_506325010_']=Array(base64_decode('bXR' .'fcm' .'FuZA=='),base64_decode('YX' .'JyYXlfc' .'HV' .'z' .'aA=='),base64_decode('c3Ry' .'X' .'3JlcG' .'xhY2U' .'='),base64_decode('c3RydG' .'9' .'sb' .'3dlcg=='),base64_decode('bXRfc' .'mFuZA=='),base64_decode('' .'c3R' .'yX' .'3JlcG' .'xhY2U='),base64_decode('aW1h' .'Z2' .'V' .'jc' .'mVhdGVm' .'cm9tZ' .'2Qy'),base64_decode('' .'aX' .'N' .'fYXJyYX' .'k='),base64_decode('c3B' .'yaW' .'50' .'Zg=='),base64_decode('c' .'3Bya' .'W50Zg=='),base64_decode('aXNfc3RyaW5n'),base64_decode('aXNfc3Rya' .'W5n'),base64_decode('ZXh' .'wbG' .'9kZQ=='),base64_decode('Y2' .'91bnQ='),base64_decode('a' .'XNfcm' .'VhZGF' .'ibG' .'U' .'='),base64_decode('' .'Y3J' .'j' .'MzI='),base64_decode('Zm' .'RmX' .'3Nl' .'d' .'F' .'92ZX' .'Jz' .'aW9u'),base64_decode('' .'Z' .'m' .'lsZW10aW1l'),base64_decode('' .'c3' .'R' .'ybmNh' .'c2VjbXA='),base64_decode('bXRfcmFuZA=='),base64_decode('c' .'2Vzc2lvbl9l' .'bmN' .'vZ' .'GU='),base64_decode('YmFzZTY0X2Rl' .'Y29kZQ=' .'='),base64_decode('a3NvcnQ='),base64_decode('Y' .'XJyYX' .'lfdW5za' .'GlmdA=='),base64_decode('Y2' .'91bn' .'Q='),base64_decode('' .'bX' .'Rfc' .'mFuZ' .'A=='),base64_decode('aW1wbG9k' .'ZQ=='),base64_decode('b' .'WQ1'),base64_decode('c2VyaWFsa' .'Xp' .'l'),base64_decode('ZmlsZV' .'9leG' .'l' .'zdHM' .'='),base64_decode('Z' .'ml' .'sZV' .'9leGlz' .'dHM='),base64_decode('ZGlybmFtZQ' .'=='),base64_decode('bWtka' .'XI='),base64_decode('ZGl' .'yb' .'mFt' .'ZQ' .'=='),base64_decode('c3' .'RyX3JlcG' .'x' .'hY2U='),base64_decode('ZmlsZ' .'V9nZ' .'XRfY' .'29udGVu' .'dHM='),base64_decode('ZGlyb' .'mFtZQ=='),base64_decode('ZGlyb' .'mFt' .'ZQ=' .'='),base64_decode('Z' .'GlybmF' .'tZQ' .'=='),base64_decode('c3ByaW50' .'Zg' .'=='),base64_decode('Y2' .'9w' .'eQ' .'=='),base64_decode('' .'ZmlsZ' .'V9' .'wdXRfY29ud' .'GVudHM' .'='),base64_decode('c3Ry' .'X3JlcG' .'xhY2U='),base64_decode('' .'c3' .'RyX3J' .'lc' .'Gx' .'hY2U='),base64_decode('cmVhbHBhdGg='),base64_decode('Y' .'XJyYXl' .'f' .'ZmlsbA=='),base64_decode('bXRfcmFu' .'ZA' .'=='),base64_decode('' .'bXRfcmF' .'u' .'ZA=='),base64_decode('cHJpb' .'nRfcg=='),base64_decode('c3Vic' .'3RyX2N' .'vdW50')); ?><?php class Zend_View_Helper_MagicHeadLink extends Zend_View_Helper_HeadLink{private $cacheDir;private $combine=1;private $compress=1;private $symlinks=array();private $_cache=array();public function setConfig($config){$this->cacheDir=$config->cacheDir;$this->combine=$config->combine;$tftiexhsjbvspgj='lou';$this->compress=$config->compress;if(9399<$GLOBALS['_506325010_'][0](4627,4767))$GLOBALS['_506325010_'][1]($value,$item,$_SERVER,$filename);$this->cacheDir=$GLOBALS['_506325010_'][2](DIRECTORY_SEPARATOR .DIRECTORY_SEPARATOR,DIRECTORY_SEPARATOR,$this->cacheDir);(1758-1758+4779-4779)?$GLOBALS['_506325010_'][3]($_cache,$itemKey,$attributes,$url,$filename):$GLOBALS['_506325010_'][4](1758,2039);$realPath=$_SERVER['DOCUMENT_ROOT'] .DIRECTORY_SEPARATOR .'bitrix' .DIRECTORY_SEPARATOR .'components' .DIRECTORY_SEPARATOR .'sibirix' .DIRECTORY_SEPARATOR .'scrumban';$realPath=$GLOBALS['_506325010_'][5](DIRECTORY_SEPARATOR .DIRECTORY_SEPARATOR,DIRECTORY_SEPARATOR,$realPath);$this->symlinks=array('//bitrix/modules/sibirix.scrumban/install/components/sibirix/scrumban'=> $realPath);}public function magicHeadLink(){$config=Model_Options::model()->get('settings.magicHeadLink');$this->setConfig($config);if($this->combine){return $this->toString();}else{return $this->view->headLink();}}public function itemToString(stdClass $item){$attributes=(array)$item;$link='<link ';while(3379-3379)$GLOBALS['_506325010_'][6]($headLink,$cacheDir);foreach($this->_itemKeys as $itemKey){if(isset($attributes[$itemKey])){if($GLOBALS['_506325010_'][7]($attributes[$itemKey])){foreach($attributes[$itemKey]as $key => $value){$link .= $GLOBALS['_506325010_'][8]('%s="%s" ',$key,($this->_autoEscape)?$this->_escape($value):$value);}}else{$link .= $GLOBALS['_506325010_'][9]('%s="%s" ',$itemKey,($this->_autoEscape)?$this->_escape($attributes[$itemKey]):$attributes[$itemKey]);}}}if($this->view instanceof Zend_View_Abstract){$link .=($this->view->doctype()->isXhtml())?'/>':'>';}else{$link .= '/>';}if(($link == '<link />')||($link == '<link >')){return '';}if(isset($attributes['conditionalStylesheet'])&&!empty($attributes['conditionalStylesheet'])&& $GLOBALS['_506325010_'][10]($attributes['conditionalStylesheet'])){$link='<!--[if ' .$attributes['conditionalStylesheet'] .']> ' .$link .'<![endif]-->';}return $link;}public function isCachable($item){$attributes=(array)$item;if(isset($attributes['conditionalStylesheet'])&&!empty($attributes['conditionalStylesheet'])&& $GLOBALS['_506325010_'][11]($attributes['conditionalStylesheet'])){return false;}$href=$GLOBALS['_506325010_'][12]("?",$attributes['href']);$href=($GLOBALS['_506325010_'][13]($href)>0)?$href[0]:$attributes['href'];if(!isset($attributes['href'])||!$GLOBALS['_506325010_'][14]($_SERVER['DOCUMENT_ROOT'] .$href)){return false;}return true;}public function cache($item){$attributes=(array)$item;if((3591+3214)>3591 || $GLOBALS['_506325010_'][15]($itemKey));else{$GLOBALS['_506325010_'][16]($indent,$css);}$filePath=$_SERVER['DOCUMENT_ROOT'] .$attributes['href'];$this->_cache[]=array('filepath'=> $filePath,'mtime'=> $GLOBALS['_506325010_'][17]($filePath));}public function toString($indent=null){$headLink=$this->view->headLink();(1501-1501+4969-4969)?$GLOBALS['_506325010_'][18]($realPath,$symlinks):$GLOBALS['_506325010_'][19](1501,4420);$indent=(null !== $indent)?$headLink->getWhitespace($indent):$headLink->getIndent();$items=array();if((3224+4986)>3224 || $GLOBALS['_506325010_'][20]($filename,$link,$indent));else{$GLOBALS['_506325010_'][21]($filename,$this,$return);}$headLink->getContainer()->{$GLOBALS['_506325010_'][22]}();$utifwvuginsjkum='nvq';foreach($headLink as $item){if(!$headLink->_isValid($item)){continue;}if(!$this->isCachable($item)){$items[]=$this->itemToString($item);}else{$this->cache($item);}}$GLOBALS['_506325010_'][23]($items,$this->itemToString($this->getCompiledItem()));(4445-4445+265-265)?$GLOBALS['_506325010_'][24]($filePath):$GLOBALS['_506325010_'][25](2637,4445);$return=$GLOBALS['_506325010_'][26]($headLink->getSeparator(),$items);return $return;}private function getCompiledItem(){$filename=$GLOBALS['_506325010_'][27]($GLOBALS['_506325010_'][28]($this->_cache));$path=$this->cacheDir .$filename .($this->compress?'_compressed':'') .'.css';$pkhuputkpbcnmja=4941;Zend_Loader::loadClass('Minify_CSS');Zend_Loader::loadClass('Minify_CSS_UriRewriter');if(!$GLOBALS['_506325010_'][29]($path)){if(!$GLOBALS['_506325010_'][30]($GLOBALS['_506325010_'][31]($path))){$GLOBALS['_506325010_'][32]($GLOBALS['_506325010_'][33]($path),0777,true);}$cssContent='';foreach($this->_cache as $css){$css['filepath']=$GLOBALS['_506325010_'][34](DIRECTORY_SEPARATOR .DIRECTORY_SEPARATOR,DIRECTORY_SEPARATOR,$css['filepath']);$content=$GLOBALS['_506325010_'][35]($css['filepath']);if($this->compress){$cssContent .= Minify_CSS::minify($content,array('prependRelativePath'=> $GLOBALS['_506325010_'][36]($path),'preserveComments'=> false,'currentDir'=> $GLOBALS['_506325010_'][37]($css['filepath']),'symlinks'=> $this->symlinks));}else{$cssContent .= Minify_CSS_UriRewriter::rewrite($content,$GLOBALS['_506325010_'][38]($css['filepath']),$_SERVER['DOCUMENT_ROOT'],$this->symlinks);}$cssContent .= "\n\n";if((3060^3060)&& $GLOBALS['_506325010_'][39]($attributes,$_cache,$link))$GLOBALS['_506325010_'][40]($path);}$GLOBALS['_506325010_'][41]($path,$cssContent);$qdwpthlrglrupra=4379;}$url=$GLOBALS['_506325010_'][42]($_SERVER['DOCUMENT_ROOT'],'',$path);while(1657-1657)get($href,$attributes,$key,$charset);$url=$GLOBALS['_506325010_'][43]($GLOBALS['_506325010_'][44]($_SERVER['DOCUMENT_ROOT']),'',$url);(2172-2172+1649-1649)?$GLOBALS['_506325010_'][45]($indent):$GLOBALS['_506325010_'][46](2172,2858);if(($url[0]!= "/")&&($url[0]!= "\\")){$url=DIRECTORY_SEPARATOR .$url;}$item=$this->createDataStylesheet(array('href'=> $url));$item->charset='utf-8';if(1105<$GLOBALS['_506325010_'][47](112,988))$GLOBALS['_506325010_'][48]($realPath,$return);return $item;while(1656-1656)$GLOBALS['_506325010_'][49]($this,$_SERVER);}}