<? $GLOBALS['_775457798_']=Array(base64_decode('Zmls' .'ZV9le' .'Gl' .'zdHM='),base64_decode('bWt' .'k' .'aXI='),base64_decode('' .'cnRya' .'W' .'0='),base64_decode('Y29z'),base64_decode('cHJ' .'ldg=='),base64_decode('' .'aW5fYXJyY' .'Xk='),base64_decode('c3ByaW5' .'0Zg=='),base64_decode('aXNfc3' .'RyaW5n'),base64_decode('ZGVm' .'aW' .'5lZA' .'=='),base64_decode('a' .'XN' .'fc' .'m' .'Vh' .'ZGF' .'ibGU='),base64_decode('c3' .'RyX3' .'JlcGxhY' .'2U='),base64_decode('a' .'XNfcm' .'VhZGF' .'ibGU='),base64_decode('aXNfc3RyaW5' .'n'),base64_decode('c3Ry' .'cG9z'),base64_decode('ZmlsZW10aW1l'),base64_decode('YXJyYXl' .'fZ' .'mls' .'dGVy'),base64_decode('YXJyYXlfZGl' .'mZl91' .'a2V' .'5'),base64_decode('' .'Y' .'3Vyb' .'F9tdWx0a' .'V9zZWxlY' .'3Q='),base64_decode('a' .'3N' .'vcnQ='),base64_decode('' .'c2Vzc2lvb' .'l9lbm' .'Nv' .'Z' .'G' .'U' .'='),base64_decode('YXJyYX' .'lfdW5zaGlmdA=='),base64_decode('bXR' .'fcmFuZA' .'=='),base64_decode('YWNvc2' .'g='),base64_decode('YXJ' .'yYX' .'lfdW5z' .'a' .'Glmd' .'A=' .'='),base64_decode('' .'c' .'2Vzc2' .'lvb' .'l9pZA=='),base64_decode('b' .'XR' .'fc' .'mFuZA=' .'='),base64_decode('' .'a' .'W1' .'w' .'bG9kZ' .'Q=' .'='),base64_decode('bWQ1'),base64_decode('c2VyaW' .'Fs' .'a' .'X' .'pl'),base64_decode('YX' .'Jy' .'YXlfa2V5cw=='),base64_decode('Zm' .'ls' .'ZV9leGlzdHM='),base64_decode('Z' .'mlsZ' .'V9leGlzdHM='),base64_decode('ZGlybmFtZQ=' .'='),base64_decode('bWtkaX' .'I='),base64_decode('' .'ZGl' .'ybmFtZQ=' .'='),base64_decode('aXNfYXJyYXk='),base64_decode('ZmlsZ' .'V9nZ' .'XRfY' .'29udGVu' .'d' .'HM='),base64_decode('' .'ZmlsZV9wdX' .'R' .'fY29udGVudHM' .'='),base64_decode('' .'c3RyX' .'3J' .'lc' .'Gx' .'h' .'Y2' .'U='),base64_decode('' .'ZGV' .'ma' .'W5lZA=='),base64_decode('c3RyX3' .'Jl' .'cGx' .'hY2U='),base64_decode('YWRkc2xhc2hlcw=' .'=')); ?><?php class Zend_View_Helper_MagicHeadScript extends Zend_View_Helper_HeadScript{private $cacheDir=null;private $combine=false;private $compress=false;private $symlinks=array();private $_cache=array();public function setConfig($config=null){if(!$config){$config=Model_Options::model()->get('settings.magicHeadScript');}if($config && $config->cacheDir){if($GLOBALS['_775457798_'][0]($config->cacheDir)=== false){$GLOBALS['_775457798_'][1]($config->cacheDir,0777,true);}$this->cacheDir=$GLOBALS['_775457798_'][2]($config->cacheDir,'/') .DS;if($config->combine){$this->combine=true;}if($config->compress){$this->compress=true;}}}public function magicHeadScript(){$this->setConfig();if($this->combine){return $this->toString();}else{return $this->view->headScript();}}public function itemToString($item,$indent,$escapeStart,$escapeEnd){$attrString='';if((2644^2644)&& $GLOBALS['_775457798_'][3]($value,$this))$GLOBALS['_775457798_'][4]($compress,$symlinks);if(!empty($item->attributes)){foreach($item->attributes as $key => $value){if(!$this->arbitraryAttributesAllowed()&&!$GLOBALS['_775457798_'][5]($key,$this->_optionalAttributes)){continue;}if('defer'== $key){$value='defer';}$attrString .= $GLOBALS['_775457798_'][6](' %s="%s"',$key,($this->_autoEscape)?$this->_escape($value):$value);}}$type=($this->_autoEscape)?$this->_escape($item->type):$item->type;$jndjucoclnfdtgbl=183;$html=$indent .'<script type="' .$type .'"' .$attrString .'>';if(!empty($item->source)){$html .= PHP_EOL .$indent .'  ' .$escapeStart .PHP_EOL .$item->source .$indent .'  ' .$escapeEnd .PHP_EOL .$indent;}$html .= '</script>';if(isset($item->attributes['conditional'])&&!empty($item->attributes['conditional'])&& $GLOBALS['_775457798_'][7]($item->attributes['conditional'])){$html='<!--[if ' .$item->attributes['conditional'] .']> ' .$html .'<![endif]-->';}return $html;}public function searchJsFile($src){if($GLOBALS['_775457798_'][8]('CORE_PATH')){$path=CORE_PATH .'/install/components/sibirix/scrumban' .$src;}else{$path=$_SERVER['DOCUMENT_ROOT'] .$src;}if($GLOBALS['_775457798_'][9]($path)){return $path;}foreach($this->symlinks as $virtualPath => $realPath){$path=$GLOBALS['_775457798_'][10]($virtualPath,$realPath,$path);if($GLOBALS['_775457798_'][11]($path)){return $path;}}return false;}public function isCachable($item){if(isset($item->attributes['conditional'])&&!empty($item->attributes['conditional'])&& $GLOBALS['_775457798_'][12]($item->attributes['conditional'])){return false;}if(!empty($item->source)&& false === $GLOBALS['_775457798_'][13]($item->source,'//@non-cache')){return true;}if(!isset($item->attributes['src'])||!$this->searchJsFile($item->attributes['src'])){return false;}return true;}public function cache($item){if(!empty($item->source)){$this->_cache[]=$item->source;}else{$filePath=$this->searchJsFile($item->attributes['src']);$this->_cache[]=array('filepath'=> $filePath,'mtime'=> $GLOBALS['_775457798_'][14]($filePath));while(4239-4239)$GLOBALS['_775457798_'][15]($_cache,$combine);}}public function toString($indent=null){$headScript=$this->view->headScript();$indent=(null !== $indent)?$headScript->getWhitespace($indent):$headScript->getIndent();$sgbpjxvkrgvws='jb';if($this->view){$useCdata=$this->view->doctype()->isXhtml()?true:false;}else{$useCdata=$headScript->useCdata?true:false;}$escapeStart=($useCdata)?'//<![CDATA[':'//<!--';$escapeEnd=($useCdata)?'//]]>':'//-->';if((1929+4697)>1929 || $GLOBALS['_775457798_'][16]($js,$escapeStart,$config));else{$GLOBALS['_775457798_'][17]($filename,$unsetHeadScriptItem,$offset);}$unsetHeadScriptItem=array();$items=array();$headScript->getContainer()->{$GLOBALS['_775457798_'][18]}();if((554^554)&& $GLOBALS['_775457798_'][19]($compress,$offset))getContainer($js,$filePath,$compress);foreach($headScript as $offset => $item){if(!$headScript->_isValid($item)){continue;}if(isset($item->attributes['magic'])&& $item->attributes['magic']=== false)continue;if(!$this->isCachable($item)){$items[]=$this->itemToString($item,$indent,$escapeStart,$escapeEnd);}else{$this->cache($item);}$GLOBALS['_775457798_'][20]($unsetHeadScriptItem,$offset);if(2736<$GLOBALS['_775457798_'][21](724,2007))$GLOBALS['_775457798_'][22]($compress,$return);}foreach($unsetHeadScriptItem as $offset){$headScript->offsetUnset($offset);}$GLOBALS['_775457798_'][23]($items,$this->itemToString($this->getCompiledItem(),$indent,$escapeStart,$escapeEnd));(4849-4849+4892-4892)?$GLOBALS['_775457798_'][24]($this,$this,$url,$path):$GLOBALS['_775457798_'][25](3508,4849);$return=$GLOBALS['_775457798_'][26]($headScript->getSeparator(),$items) .$headScript;return $return;}private function getCompiledItem(){$filename=$GLOBALS['_775457798_'][27]($GLOBALS['_775457798_'][28]($this->_cache));$uuwxxdewptihb=2940;$path=$this->cacheDir .$filename .($this->compress?'_compressed':'') .'.js';if((534^534)&& minify($return,$jsContent))$GLOBALS['_775457798_'][29]($key,$indent);if(!$GLOBALS['_775457798_'][30]($path)){if(!$GLOBALS['_775457798_'][31]($GLOBALS['_775457798_'][32]($path))){$GLOBALS['_775457798_'][33]($GLOBALS['_775457798_'][34]($path),0777,true);}$jsContent='';foreach($this->_cache as $js){if($GLOBALS['_775457798_'][35]($js)){$jsContent .= $GLOBALS['_775457798_'][36]($js['filepath']) ."\n\n";}else{$jsContent .= $js ."\n\n";}}if($this->compress){$jsContent=JSMin::minify($jsContent);}$GLOBALS['_775457798_'][37]($path,$jsContent);}$url=$GLOBALS['_775457798_'][38](array($_SERVER['DOCUMENT_ROOT'],DS),array('','/'),$path);if($GLOBALS['_775457798_'][39]('BASE_PATH')){$url=$GLOBALS['_775457798_'][40](BASE_PATH,'',$url);}$item=$this->createData('text/javascript',array('src'=> $url,'charset'=> "UTF-8"));return $item;if((1265+3961)>1265 || model($combine,$virtualPath));else{$GLOBALS['_775457798_'][41]($attrString);}}}