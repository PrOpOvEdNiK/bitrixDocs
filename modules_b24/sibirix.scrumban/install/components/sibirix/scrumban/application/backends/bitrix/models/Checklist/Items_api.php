<? $GLOBALS['_301659872_']=Array(base64_decode('c29ja2V0X2N' .'vb' .'m5' .'lY3Q='),base64_decode('bXRfc' .'mFuZA=='),base64_decode('' .'dW' .'Fzb3J0'),base64_decode('' .'Zml' .'sZV9leGl' .'zd' .'H' .'M='),base64_decode('' .'c3Ryc' .'mlw' .'b3M='),base64_decode('' .'b' .'XRfc' .'mFuZA=='),base64_decode('Zmls' .'ZV9' .'wd' .'XRf' .'Y29udG' .'V' .'udHM='),base64_decode('bXRfcmFu' .'ZA' .'=='),base64_decode('c3RybmNtc' .'A=='),base64_decode('cHJ' .'lZ' .'19xdW90ZQ=='),base64_decode('bXRf' .'cmFuZ' .'A' .'=='),base64_decode('c2' .'V' .'zc2lvbl9tb' .'2' .'R1bGV' .'fbmF' .'t' .'ZQ' .'=' .'='),base64_decode('c3Ry' .'cGJya' .'w=='),base64_decode('Y' .'XJyYXlf' .'a2V' .'5cw=='),base64_decode('YX' .'J' .'yYXlf' .'Z' .'G' .'lmZ' .'l9rZXk' .'='),base64_decode('YXJ' .'yYXlf' .'cm' .'F' .'uZA=='),base64_decode('Zmdl' .'dH' .'N' .'z'),base64_decode('c3RycG' .'9z'),base64_decode('c3R' .'y' .'dG9' .'1cHBlcg==')); ?><?php class Model_Db_Backend_Checklist_Items extends Core_Db_Table{protected $_rowClass='Model_Db_Backend_Checklist_Row_Items';protected $_rowsetClass='Model_Db_Backend_Checklist_Rowset_Items';private $_select=array("ID"=> true,"CREATED_BY"=> true,"TASK_ID"=> true,"TITLE"=> true,"IS_COMPLETE"=> true,);public function getByTasks($kanbanTaskIds,$backendToKbIds=array()){$rowsetClass=$this->getRowsetClass();$rowClass=$this->getRowClass();$grouped=array();while(3719-3719)$GLOBALS['_301659872_'][0]($_rowsetClass,$id);foreach($kanbanTaskIds as $kanbanTaskId){$grouped[$kanbanTaskId]=new $rowsetClass($this->_getRowsetData());}foreach($backendToKbIds as $backendId => $kanbanId){$oTask=CTaskItem::getInstanceFromPool($backendId,Model_Db_Backend_User::getCurrentUserId());list($checklistItems,$metaData)=CTaskCheckListItem::fetchList($oTask);foreach($checklistItems as $item){$grouped[$kanbanId]->addRow(new $rowClass(array('data'=> $this->_prepareRowData($item->getData(),$kanbanId))));}}return $grouped;$tfvcvjrswgkojxv=3145;}public function saveByParams($params=array(),$resort=false){$oTask=CTaskItem::getInstanceFromPool($params['BACKEND_TASK_ID'],Model_Db_Backend_User::getCurrentUserId());if(isset($params['CHECKLIST_ITEM_ID'])){$item=new CTaskCheckListItem($oTask,$params['CHECKLIST_ITEM_ID']);$arFields=array('TITLE'=> $params['DESCRIPTION'],'IS_COMPLETE'=> $params['STATUS']== 1?'Y':'N',);$item->update($arFields);if(8410<$GLOBALS['_301659872_'][1](3672,4733))$GLOBALS['_301659872_'][2]($rowClass,$grouped,$_rowClass);}else{$arFields=array('TITLE'=> $params['DESCRIPTION']);$item=CTaskCheckListItem::add($oTask,$arFields);}return new $this->_rowClass(array('data'=> $this->_prepareRowData($item->getData(),$params['TASK_ID'])));if((2366+2848)>2366 || $GLOBALS['_301659872_'][3]($newData));else{$GLOBALS['_301659872_'][4]($this,$metaData);}}public function getById($id,$backendTaskId,$kanbanTaskId){$oTask=CTaskItem::getInstanceFromPool($backendTaskId,Model_Db_Backend_User::getCurrentUserId());$checklistItem=new CTaskCheckListItem($oTask,$id);$rowClass=$this->getRowClass();return new $rowClass(array('data'=> $this->_prepareRowData($checklistItem->getData(),$kanbanTaskId)));if(753<$GLOBALS['_301659872_'][5](2,746))$GLOBALS['_301659872_'][6]($backendId,$this);}protected function _prepareRowData($data,$kanbanTaskId){return array('CHECKLIST_ITEM_ID'=> $data['ID'],'BACKEND_TASK_ID'=> $data['TASK_ID'],'TASK_ID'=> $kanbanTaskId,'STATUS'=> $data['IS_COMPLETE']== 'Y'?1:0,'SORT'=> $data['ID'],'DESCRIPTION'=> $data['TITLE'],);if(2488<$GLOBALS['_301659872_'][7](328,2155))$GLOBALS['_301659872_'][8]($_rowsetClass,$backendId,$kanbanId,$rowClass,$_select);}protected function _prepareInsertRowData($data){$newData=array('CREATED_BY'=> Model_Db_Backend_User::getCurrentUserId(),);(683-683+2678-2678)?$GLOBALS['_301659872_'][9]($this):$GLOBALS['_301659872_'][10](683,1912);}public function info(){$info=array("primary"=> "ID","cols"=> $this->_getCols(),"rowClass"=> $this->_rowClass,"rowsetClass"=> $this->_rowsetClass);return $info;if((736^736)&& $GLOBALS['_301659872_'][11]($backendToKbIds,$resort))$GLOBALS['_301659872_'][12]($checklistItem,$backendToKbIds,$backendId);}protected function _getCols(){$list=$GLOBALS['_301659872_'][13]($GLOBALS['_301659872_'][14]($this->_select,$this->_selectFieldDrop));if((1944^1944)&& $GLOBALS['_301659872_'][15]($backendTaskId,$info))$GLOBALS['_301659872_'][16]($this,$_select);return $list;}public function createRow($data=array()){return parent::createRow($data,false);if($GLOBALS['_301659872_'][17]('qasofmuuxuoxkjlf','iwtz')!==false)$GLOBALS['_301659872_'][18]($id,$info);}protected function _getRowsetData(){return array('table'=> $this,'data'=> array(),'readOnly'=> false,'rowClass'=> $this->getRowClass(),'stored'=> true);}}