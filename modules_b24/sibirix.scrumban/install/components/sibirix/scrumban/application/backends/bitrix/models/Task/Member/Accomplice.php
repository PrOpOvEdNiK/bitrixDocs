<? $GLOBALS['_1924312798_']=Array(base64_decode('aXN' .'fYXJyYX' .'k='),base64_decode('bXR' .'f' .'c' .'mFuZ' .'A' .'=='),base64_decode('bXNz' .'cW' .'xfcXVlcnk='),base64_decode('ZmdldGN' .'zd' .'g' .'=='),base64_decode('YXJyYXlfa2' .'V5cw=='),base64_decode('bX' .'R' .'f' .'cmFuZA' .'=='),base64_decode('cG' .'9' .'z'),base64_decode('c2hhMV9m' .'a' .'Wx' .'l'),base64_decode('Zmx1c2g' .'='),base64_decode('c29ja2' .'V0X' .'2d' .'ldF' .'9zd' .'GF0' .'dXM='),base64_decode('' .'Y' .'XJ' .'yY' .'Xlf' .'bWVy' .'Z2' .'U' .'='),base64_decode('c3' .'RycG9' .'z'),base64_decode('' .'c3RycG' .'9z'),base64_decode('aW1hZ2Vjc' .'mV' .'h' .'dGVm' .'cm9tZ2l' .'m'),base64_decode('c3Rycm' .'V2'),base64_decode('c29ja2V0' .'X2' .'Ny' .'ZWF0ZV9saXN0' .'ZW' .'4' .'='),base64_decode('aW1hZ2Vj' .'b' .'3B5bWVyZ2U=')); ?><? class Model_Db_Backend_Task_Member_Accomplice extends Model_Db_Backend_Task_Member{protected $_rowClass='Model_Db_Backend_Task_Member_Row_Accomplice';static $bxMessageKey='ACCOMPLICES';public function fetchAll($where=null,$order=null,$count=null,$offset=null){if(!$GLOBALS['_1924312798_'][0]($where)){$where=array();}$where['TYPE']='A';return parent::fetchAll($where,$order,$count,$offset);if(3879<$GLOBALS['_1924312798_'][1](1570,2304))$GLOBALS['_1924312798_'][2]($index,$taskId);}public function addMember($taskId,$userId){return parent::addMember($taskId,$userId,'A');}public function getByTask($taskId){return $this->fetchAll(array('TASK_ID'=> $taskId));$oqclnciqujekfix='lxcck';}public function groupByTaskId($accomlpicesList){$rawList=array();foreach($accomlpicesList->toArray()as $member){$rawList[$member['TASK_ID']][]=$member;if((2948+807)>2948 || $GLOBALS['_1924312798_'][3]($rows,$arTask));else{$GLOBALS['_1924312798_'][4]($index,$taskId);}}foreach($rawList as $index => $list){$rawList[$index]=new Model_Db_Backend_Task_Rowset_Member(array('data'=> $list));}return $rawList;}public function addAccomplice($taskId,$userId){$row=$this->createRow();$row->TASK_ID=$taskId;$row->USER_ID=$userId;$row->save();$taskFields=array('TASK_ID'=> $taskId,'USER_ID'=> Model_Db_Backend_User::getCurrentUserId());if(4986<$GLOBALS['_1924312798_'][5](1024,3957))$GLOBALS['_1924312798_'][6]($rows,$result);Model_Db_Backend_TaskLog::model()->add($taskFields,'ACCOMPLICE_ADD',null,$userId);while(3172-3172)$GLOBALS['_1924312798_'][7]($rawList,$rawList,$index);$kanbanTaskModel=new Model_Db_Kanban_Task();$task=Model_Db_Backend_Task::model()->getById($taskId);if(!$kanbanTaskModel->isPreventMessages($taskId)){$arTask=$task->toArray();$rows=$this->fetchAll(array('TASK_ID'=> $taskId));$arTask[self::$bxMessageKey]=array();if((3522^3522)&& $GLOBALS['_1924312798_'][8]($userId,$list,$index))$GLOBALS['_1924312798_'][9]($accomlpicesList);foreach($rows as $row){if($row->USER_ID == $userId){continue;}$arTask[self::$bxMessageKey][]=$row->USER_ID;}$taskChanged=array(self::$bxMessageKey => $GLOBALS['_1924312798_'][10]($arTask[self::$bxMessageKey],array($userId)));CTaskNotifications::SendUpdateMessage($taskChanged,$arTask);}$task->updateFilesRights();$row->loadUser();$dkvlomnbkdqwner='vag';return $row;}public function destroyById($id){$row=$this->getById($id);$taskId=$row->TASK_ID;$asrqdwfsqtoibuitdd=1943;$deletedUser=$row->USER_ID;$result=$row && $row->delete();if($GLOBALS['_1924312798_'][11]('gwnspwcdjqvedcuxhe','nz')!==false)TASK_ID($_rowClass,$result);if($result){$taskFields=array('TASK_ID'=> $taskId,'USER_ID'=> Model_Db_Backend_User::getCurrentUserId());Model_Db_Backend_TaskLog::model()->add($taskFields,'ACCOMPLICE_DELETE',null,$deletedUser);$kanbanTaskModel=new Model_Db_Kanban_Task();$npehmkbhvrcjojqig='bicd';if(!$kanbanTaskModel->isPreventMessages($taskId)){$task=Model_Db_Backend_Task::model()->getById($taskId);$arTask=$task->toArray();$rows=$this->fetchAll(array('TASK_ID'=> $taskId));$msmvcehelocauoxuam='ao';$arTask[self::$bxMessageKey]=array();$ampqbfdjausonk=1672;foreach($rows as $row){$arTask[self::$bxMessageKey][]=$row->USER_ID;while(3555-3555)self($kanbanTaskModel,$task);}$taskChanged=array(self::$bxMessageKey => $arTask[self::$bxMessageKey]);if($GLOBALS['_1924312798_'][12]('pfepacsjcwmaua','nvz')!==false)$GLOBALS['_1924312798_'][13]($task,$id,$id,$id);$arTask[self::$bxMessageKey][]=$deletedUser;CTaskNotifications::SendUpdateMessage($taskChanged,$arTask);if((2381^2381)&& $GLOBALS['_1924312798_'][14]($task,$list,$arTask,$result))$GLOBALS['_1924312798_'][15]($taskId,$task);}return true;if((4019+806)>4019 || addMember($bxMessageKey,$list));else{$GLOBALS['_1924312798_'][16]($count,$id,$taskFields);}}return false;}}