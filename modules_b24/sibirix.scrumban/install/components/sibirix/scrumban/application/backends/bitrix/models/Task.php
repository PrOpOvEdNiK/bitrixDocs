<? $GLOBALS['_828071098_']=Array(base64_decode('Zmx1' .'c2g='),base64_decode('Y' .'291' .'bnQ='),base64_decode('Y29' .'1b' .'n' .'Q' .'='),base64_decode('' .'bXRfcmFu' .'ZA=='),base64_decode('c3RycG9' .'z'),base64_decode('bX' .'Rfcm' .'Fu' .'ZA=='),base64_decode('c3RycG9' .'z'),base64_decode('Zmdl' .'dGM='),base64_decode('' .'bXR' .'fcm' .'FuZA=='),base64_decode('YXJ' .'yYXlfa' .'2V5' .'X2V4a' .'X' .'N0cw=='),base64_decode('c3RycG' .'9z'),base64_decode('b' .'2Jf' .'Y2xlYW4='),base64_decode('c2' .'9' .'ja2V0X2Ny' .'ZWF0ZV9' .'s' .'a' .'X' .'N0ZW' .'4='),base64_decode('bX' .'RfcmFuZA' .'=='),base64_decode('a' .'m9pbg' .'=='),base64_decode('' .'ZW5k'),base64_decode('aXNfYXJyY' .'Xk='),base64_decode('a' .'XNfYXJy' .'YXk='),base64_decode('Y3VycmV' .'udA=='),base64_decode('a' .'XNfYXJyY' .'Xk' .'='),base64_decode('Zm' .'xvb3I='),base64_decode('' .'ZmZsdXNo'),base64_decode('ZmlsZ' .'V9leGlzdHM' .'='),base64_decode('YXJyY' .'XlfdW5pc' .'XVl'),base64_decode('bX' .'RfcmF' .'uZA=='),base64_decode('aW1hZ2Vjcm' .'Vhd' .'GVmcm9tcG5n'),base64_decode('b' .'XRfcmFuZA=='),base64_decode('b' .'X' .'R' .'f' .'cmF' .'uZA=='),base64_decode('' .'a2V5'),base64_decode('' .'Z' .'m' .'lsZWF0a' .'W1l'),base64_decode('Y' .'WJz'),base64_decode('' .'cHJlZ' .'19tYXRjaF9hbGw='),base64_decode('' .'aW1wb' .'G9kZQ=='),base64_decode('aXNfYXJyYXk='),base64_decode('a' .'W1wb' .'G9kZ' .'Q' .'=' .'='),base64_decode('c3R' .'yc' .'G9z'),base64_decode('Y2xhc3N' .'fZX' .'h' .'pc3Rz'),base64_decode('Y29' .'1bnQ='),base64_decode('ZmlsZ' .'V9leGlzdHM='),base64_decode('Y3' .'V' .'ycm' .'VudA=='),base64_decode('YXJy' .'YX' .'lfc' .'mF' .'u' .'ZA=='),base64_decode('YXJyYXlfc2VhcmNo'),base64_decode('bX' .'RfcmFuZA' .'=' .'='),base64_decode('YXJyY' .'X' .'l' .'fa2' .'V5cw=='),base64_decode('YXJyYXlfZGlmZl' .'9rZXk='),base64_decode('' .'YW' .'Rkc2xh' .'c2hlcw=' .'='),base64_decode('c3RycG9z'),base64_decode('c2Vzc2l' .'vbl9tb2R1b' .'GVf' .'bmF' .'tZQ=='),base64_decode('YXJyYXlfZGlmZl9rZ' .'X' .'k' .'='),base64_decode('YX' .'J' .'y' .'YX' .'lfaW50ZXJzZ' .'WN0' .'X2t' .'l' .'eQ=='),base64_decode('YX' .'Jy' .'YXlf' .'a' .'W50' .'ZX' .'JzZWN0X2tleQ=='),base64_decode('c3' .'RycG9z'),base64_decode('ZW5k'),base64_decode('Y2' .'x' .'hc3NfZXhpc3Rz'),base64_decode('ZGF0ZQ=='),base64_decode('c3RydG90aW1l'),base64_decode('ZGF' .'0' .'ZQ=='),base64_decode('c3RydG90aW1l'),base64_decode('Z' .'G' .'F0ZQ=' .'='),base64_decode('c' .'3' .'Ry' .'dG9' .'0' .'a' .'W1l'),base64_decode('ZGF0' .'ZQ=='),base64_decode('c3Ryd' .'G' .'90aW1l'),base64_decode('c3Ryc' .'G9z'),base64_decode('YX' .'JyYXlfZmlsbA=='),base64_decode('bX' .'Rfcm' .'F' .'uZ' .'A=='),base64_decode('ZmdldHNz'),base64_decode('' .'YXJyYXlfZGlmZl' .'91' .'a2V5'),base64_decode('' .'c' .'3Ry' .'c' .'G9' .'z'),base64_decode('c3RyX3JlcG' .'x' .'h' .'Y' .'2U' .'='),base64_decode('c3RyX3Jlc' .'Gxh' .'Y2U='),base64_decode('' .'aX' .'Nfb2JqZWN' .'0'),base64_decode('b' .'XRfcmF' .'uZ' .'A' .'=='),base64_decode('aW' .'50d' .'mFs'),base64_decode('c3RydG9' .'0' .'aW1l'),base64_decode('' .'c' .'3R' .'yd' .'G90aW1' .'l'),base64_decode('c3' .'RydG90aW1' .'l'),base64_decode('' .'c' .'3R' .'ydG90aW' .'1' .'l'),base64_decode('c3Ryd' .'G90aW1l'),base64_decode('c3Ryd' .'G90a' .'W' .'1l'),base64_decode('aXNfYXJyYXk='),base64_decode('Y291bn' .'Q='),base64_decode('YXJyYXlfdmFsdWVz'),base64_decode('' .'c3RydHI='),base64_decode('' .'bXRfcmF' .'uZ' .'A=='),base64_decode('b' .'XR' .'fc' .'mFuZA=='),base64_decode('c3R' .'ycG9z'),base64_decode('' .'YX' .'JyYXlfdm' .'FsdWVz'),base64_decode('d' .'HJpbQ=='),base64_decode('' .'d' .'HJ' .'pb' .'Q=='),base64_decode('bXRfcmFuZA' .'=' .'='),base64_decode('c2V' .'zc2lvbl9n' .'ZXRfY29' .'va2' .'llX3BhcmFt' .'c' .'w=' .'='),base64_decode('c3' .'R' .'y' .'cHRpb' .'WU='),base64_decode('c' .'m9' .'1' .'b' .'mQ='),base64_decode('bXRfc' .'m' .'FuZ' .'A=='),base64_decode('bXR' .'f' .'cm' .'F' .'uZ' .'A=' .'='),base64_decode('' .'dWNma' .'XJzdA=' .'='),base64_decode('Y3J' .'j' .'MzI='),base64_decode('bXRfcmFuZ' .'A=='),base64_decode('c3RycG9z'),base64_decode('b' .'XRfcmFuZ' .'A=='),base64_decode('c' .'HJlZ19y' .'Z' .'XBsYW' .'Nl'),base64_decode('aW1hZ2VjcmVhdGVmcm9tZ2Qy'),base64_decode('c3RycG' .'9z'),base64_decode('Y' .'WRk' .'Y3N' .'sYXNoZX' .'M='),base64_decode('am' .'9pbg=='),base64_decode('' .'b' .'XRfcmFuZA=='),base64_decode('cHJlZ1' .'9y' .'ZXB' .'sYW' .'Nl'),base64_decode('bXRfcmFuZA=' .'='),base64_decode('bXRfcmFuZ' .'A=='),base64_decode('YX' .'JyY' .'Xlfc' .'3BsaWNl'),base64_decode('' .'aW1hZ2V' .'jcmVhdGVmcm9tZ2lm'),base64_decode('bX' .'Rfc' .'mFu' .'ZA=='),base64_decode('c3R' .'ycG9z'),base64_decode('c2VyaWF' .'saXpl'),base64_decode('bX' .'RfcmFuZA=='),base64_decode('c' .'HJlZ19y' .'ZXBsYW' .'Nl'),base64_decode('aW50' .'dmFs'),base64_decode('aW' .'50dmFs'),base64_decode('c3Ry' .'X3Jl' .'cGxhY2' .'U='),base64_decode('c' .'3Ry' .'X' .'3J' .'lcG' .'xhY2U' .'='),base64_decode('' .'c3RyX3Jl' .'cGx' .'hY2U='),base64_decode('bXRfcm' .'FuZA=' .'='),base64_decode('dGltZ' .'Q=='),base64_decode('c3RycG9z'),base64_decode('c3Ryc' .'G9z'),base64_decode('YWJz'),base64_decode('YXJyY' .'Xl' .'faW50ZXJzZWN0X2tl' .'eQ=='),base64_decode('bXRfcmFuZA' .'=='),base64_decode('YX' .'JyYX' .'lfa2V5cw=='),base64_decode('' .'Ym' .'F' .'zZT' .'Y0X2RlY29' .'kZQ=='),base64_decode('b' .'XRfc' .'mFuZA=='),base64_decode('' .'c29' .'ja2V' .'0X2Nsb3Nl'),base64_decode('c3RydG91cHBlcg=='),base64_decode('YXJy' .'YXlfcmVkdWNl'),base64_decode('bX' .'RfcmFuZ' .'A=='),base64_decode('dXJsZGVjb2Rl'),base64_decode('YXJyYX' .'lf' .'cHJvZHV' .'jdA=='),base64_decode('YXJ' .'yYXlfaW50ZX' .'JzZWN0' .'X2' .'tleQ' .'=='),base64_decode('cH' .'Jldg=='),base64_decode('bXR' .'fc' .'mF' .'u' .'ZA=='),base64_decode('' .'aW1wbG' .'9kZQ' .'=='),base64_decode('c' .'3Vic3RyX3JlcG' .'xhY2U='),base64_decode('bX' .'RfcmFuZ' .'A=='),base64_decode('YXJyYXl' .'fc' .'2VhcmNo'),base64_decode('dWNm' .'aXJz' .'dA' .'=='),base64_decode('c3Ryc' .'3' .'Ry'),base64_decode('b' .'XRfcmFu' .'ZA=='),base64_decode('YXJyYXlf' .'c2' .'V' .'hcm' .'No'),base64_decode('b' .'XRfcmFuZ' .'A' .'=='),base64_decode('c3Ry' .'cmV2'),base64_decode('Y291bnQ='),base64_decode('' .'aW1wbG9kZQ' .'=='),base64_decode('' .'ZGF0ZQ=' .'='),base64_decode('aW1wb' .'G9kZ' .'Q=='),base64_decode('YWRkc2xhc2hlcw=='),base64_decode('' .'bXRfcmFuZA' .'=='),base64_decode('c2V' .'zc2lv' .'bl' .'9uYW1l'),base64_decode('b' .'XR' .'fcm' .'FuZA=='),base64_decode('' .'am9pbg=='),base64_decode('c2hhM' .'Q=='),base64_decode('' .'c' .'3R' .'y' .'c' .'G9' .'z'),base64_decode('Y' .'3V' .'ybF9tdWx' .'0aV' .'9le' .'GVj'),base64_decode('b' .'XRfcmFuZA' .'=='),base64_decode('YX' .'JyYXl' .'fcG' .'9w'),base64_decode('cG9w' .'ZW4' .'='),base64_decode('aW1hZ' .'2Vjc' .'mVhdG' .'Vmcm' .'9' .'tanBl' .'Z' .'w=='),base64_decode('YX' .'JyYX' .'l' .'f' .'c3Vt'),base64_decode('c3RycG' .'9z'),base64_decode('cHJ' .'ldg=='),base64_decode('c' .'3' .'RydG90aW1l'),base64_decode('bXR' .'fc' .'mFuZA=='),base64_decode('bXRfcmFuZA' .'=' .'='),base64_decode('ZGF0' .'ZQ' .'=='),base64_decode('c3Ry' .'d' .'G90aW1l'),base64_decode('c' .'3Ryd' .'G9' .'0aW1l'),base64_decode('YXJyYXl' .'fa2V5X' .'2V' .'4aXN' .'0cw=' .'='),base64_decode('YXJyYXl' .'fa2V5X2V4aXN0cw=' .'='),base64_decode('' .'c3RydG90aW1' .'l'),base64_decode('aW50d' .'m' .'Fs'),base64_decode('bXRfcmFuZA=='),base64_decode('dGlt' .'ZQ=='),base64_decode('YXJyYXlfa2V5' .'X2V' .'4aXN0cw=='),base64_decode('c3Ryd' .'G90aW1l'),base64_decode('YX' .'JyYXlfa2V5X2V4' .'a' .'XN' .'0cw=='),base64_decode('aW50' .'dmFs'),base64_decode('' .'a3N' .'vcnQ' .'='),base64_decode('aW5fYXJyY' .'X' .'k='),base64_decode('c3Rycmlwb3M='),base64_decode('ZGF0ZQ' .'=='),base64_decode('cm91bm' .'Q='),base64_decode('ZGF' .'0Z' .'Q=='),base64_decode('YX' .'JyYXlfcmFuZA=='),base64_decode('cm91' .'bmQ='),base64_decode('ZW5k'),base64_decode('a2V5'),base64_decode('cmVzZXQ='),base64_decode('Y2VpbA=='),base64_decode('c3Ry' .'c' .'G9z'),base64_decode('YmFzZTY0' .'X' .'2RlY2' .'9kZQ=='),base64_decode('ZG' .'F' .'0ZQ=' .'='),base64_decode('' .'c3RydG90' .'aW1l'),base64_decode('b' .'XR' .'fc' .'m' .'FuZA=='),base64_decode('aW5fYXJ' .'yYXk='),base64_decode('' .'ZGF0Z' .'Q=='),base64_decode('ZGF0' .'ZQ' .'=='),base64_decode('YX' .'JyY' .'XlfbWVyZ2' .'U='),base64_decode('aW' .'5fYXJ' .'yY' .'Xk='),base64_decode('ZGF' .'0ZQ=='),base64_decode('' .'c' .'3RydG' .'90aW1l'),base64_decode('c' .'m9' .'1bmQ='),base64_decode('aX' .'Nf' .'bmFu'),base64_decode('cm91bmQ' .'='),base64_decode('aXNf' .'bmF' .'u'),base64_decode('Z' .'GF0' .'ZQ' .'=='),base64_decode('c3RydG90aW1l'),base64_decode('aW5' .'fYXJyYXk='),base64_decode('Z' .'GF' .'0' .'ZQ=='),base64_decode('c3' .'R' .'ydG' .'90aW1' .'l'),base64_decode('cm91bmQ='),base64_decode('' .'cm' .'91bmQ='),base64_decode('ZG' .'F0' .'Z' .'Q' .'=='),base64_decode('' .'Z' .'GF0Z' .'Q=' .'='),base64_decode('' .'bXRfc' .'m' .'F' .'uZA' .'=='),base64_decode('c3RycG9z'),base64_decode('ZG' .'F' .'0' .'ZQ' .'=='),base64_decode('c3' .'Ry' .'dG' .'90a' .'W' .'1l'),base64_decode('' .'ZGF0Z' .'Q=' .'='),base64_decode('c3' .'R' .'y' .'dG90aW1' .'l'),base64_decode('Z' .'GF0ZQ' .'=='),base64_decode('c' .'3RydG90a' .'W1l'),base64_decode('ZGF0' .'ZQ=' .'='),base64_decode('c3RydG90a' .'W1' .'l'),base64_decode('Y' .'X' .'JyY' .'XlfbW' .'VyZ2U='),base64_decode('c3RydG9' .'0aW' .'1l'),base64_decode('' .'bX' .'RfcmFuZA=='),base64_decode('ZGF' .'0' .'ZQ=='),base64_decode('c3Ry' .'dG90aW' .'1l'),base64_decode('bXRfcmFuZA=='),base64_decode('c3' .'Ryd' .'G9' .'0a' .'W1l'),base64_decode('YX' .'J' .'yYXl' .'fa2V5' .'X' .'2' .'V4aXN0c' .'w=='),base64_decode('Y' .'X' .'JyY' .'Xlfa2' .'V5X2' .'V' .'4a' .'XN0c' .'w=='),base64_decode('' .'c3Ryd' .'G9' .'0aW1l'),base64_decode('c3Ry' .'dHI' .'='),base64_decode('' .'b' .'XRfc' .'mFuZA=='),base64_decode('c3Ry' .'d' .'G90' .'aW1l'),base64_decode('Z' .'GF0ZQ=='),base64_decode('c' .'3RydG9' .'1' .'cHBlcg=='),base64_decode('YXJyYXl' .'fa2' .'V5X2' .'V4' .'aXN0cw=' .'='),base64_decode('c3RydG' .'90' .'aW' .'1l'),base64_decode('YXJy' .'YXlf' .'a2V' .'5X2V' .'4' .'aX' .'N0cw' .'=='),base64_decode('a3Nv' .'cnQ='),base64_decode('b' .'XRf' .'cmFuZA=='),base64_decode('bX' .'R' .'fcmF' .'uZA=='),base64_decode('aW' .'1wbG9kZQ=='),base64_decode('bWtkaX' .'I' .'='),base64_decode('c3Ry' .'cG9z'),base64_decode('ZGF0Z' .'Q' .'=='),base64_decode('bXRfcmFuZA=' .'='),base64_decode('c2Vzc2lvbl9p' .'c19yZWdpc' .'3Rlcm' .'Vk'),base64_decode('c3RycG9z'),base64_decode('c3Vic3RyX3Jl' .'c' .'Gxh' .'Y2' .'U='),base64_decode('ZGF0' .'Z' .'Q' .'=' .'='),base64_decode('c3' .'RycG9z'),base64_decode('c3' .'RybmNtcA=='),base64_decode('c' .'29ja2V0' .'X2dldHBlZXJuYW1' .'l'),base64_decode('cm' .'9' .'1bmQ='),base64_decode('bXRfc' .'mFuZA=='),base64_decode('c3RycG' .'9' .'z'),base64_decode('Y2xhc3NfZXhpc3Rz'),base64_decode('YXJ' .'yYXlf' .'a2V' .'5X2V4aXN' .'0cw=='),base64_decode('c3RycGJy' .'aw=='),base64_decode('YXJyYXlfa2V5' .'X' .'2V' .'4aX' .'N0cw=='),base64_decode('YXJ' .'yYXlfa2V5X2V4aXN0cw=='),base64_decode('' .'a' .'W5fY' .'X' .'J' .'yY' .'Xk='),base64_decode('aW50dmF' .'s'),base64_decode('cm' .'91' .'bmQ' .'='),base64_decode('c3' .'RydG90a' .'W1l'),base64_decode('c3Ry' .'dG90aW1l'),base64_decode('' .'Z' .'GF0ZQ=='),base64_decode('ZG' .'F' .'0' .'ZQ=='),base64_decode('c3RycG9z'),base64_decode('Y' .'29weQ' .'=='),base64_decode('c3' .'RydG9' .'0aW1l'),base64_decode('YXJyYXlfa2V5X' .'2' .'V4' .'aXN0cw=='),base64_decode('YX' .'J' .'yYXlf' .'a' .'2' .'V5X2' .'V4' .'aXN0cw=='),base64_decode('c3R' .'yd' .'G9' .'0aW1l'),base64_decode('' .'c3' .'RycG9z'),base64_decode('' .'c3RydG90' .'aW1l'),base64_decode('YXJ' .'yYXl' .'fa2V5X2V4aXN0c' .'w=='),base64_decode('' .'c3Ry' .'dG90aW1l'),base64_decode('' .'YXJyYX' .'lfaW50' .'ZXJz' .'ZW' .'N0'),base64_decode('ZGF0Z' .'Q=='),base64_decode('ZGF0' .'ZQ' .'=' .'='),base64_decode('' .'ZGF0ZQ=='),base64_decode('ZG' .'F0ZQ=='),base64_decode('c3' .'RydG90' .'a' .'W1l'),base64_decode('Z' .'GF0Z' .'Q' .'=='),base64_decode('c' .'3Rycn' .'Bvcw=='),base64_decode('YXJ' .'y' .'YXlfa2V' .'5X2V4' .'aXN0cw=='),base64_decode('c3RydG9' .'0aW1l'),base64_decode('Y' .'XJyYX' .'lf' .'a2V5X2' .'V4' .'aXN0cw=='),base64_decode('a3Nv' .'c' .'nQ='),base64_decode('bXRfcmF' .'uZA=' .'='),base64_decode('bWtk' .'aX' .'I='),base64_decode('Zm' .'x1c2g' .'='),base64_decode('c3R' .'ycG9z'),base64_decode('c' .'HJlZ1' .'9yZXBsYWN' .'l'),base64_decode('Z' .'GF0ZQ' .'=='),base64_decode('bXRfcmFuZA=='),base64_decode('Z' .'GF0ZQ=='),base64_decode('ZGF0Z' .'Q=='),base64_decode('c3RycG9' .'z'),base64_decode('dXJsZW5jb2R' .'l'),base64_decode('ZW5' .'k'),base64_decode('c' .'3R' .'ycG9z'),base64_decode('bXRfcmFuZA=='),base64_decode('c3' .'RydG90a' .'W' .'1l'),base64_decode('' .'c3RydG90aW1l'),base64_decode('c3Ry' .'cG' .'9z'),base64_decode('Y2' .'VpbA=='),base64_decode('Z' .'GF0ZQ=' .'='),base64_decode('' .'ZGF0ZQ=='),base64_decode('c3RydG90aW1l'),base64_decode('YXJyYXlfa2V5' .'X2V4aXN' .'0cw' .'=='),base64_decode('' .'YXJyYXlfa2V' .'5X2V4aXN0c' .'w' .'=='),base64_decode('c3Ry' .'d' .'G' .'90aW1l'),base64_decode('bX' .'RfcmFuZA=='),base64_decode('Y3V' .'ybF9td' .'Wx0aV9pbml0'),base64_decode('ZGF' .'0Z' .'Q=='),base64_decode('Z' .'GF0ZQ=' .'='),base64_decode('ZGF0' .'ZQ=='),base64_decode('ZGF0ZQ=='),base64_decode('b' .'XRf' .'cm' .'F' .'uZA=='),base64_decode('c3RybmN' .'tcA=='),base64_decode('' .'c3R' .'ydG' .'90' .'a' .'W1l'),base64_decode('ZG' .'F0ZQ=' .'='),base64_decode('Y' .'X' .'Jy' .'YXlfa' .'2V5X2' .'V' .'4aXN0cw=='),base64_decode('' .'c' .'3Ry' .'dG' .'90' .'aW' .'1' .'l'),base64_decode('YXJy' .'YX' .'lf' .'a2V5X2V4aX' .'N0' .'cw=='),base64_decode('' .'a' .'3Nvc' .'n' .'Q='),base64_decode('c29' .'ja' .'2' .'V0X2' .'dldF9vcHRpb24' .'='),base64_decode('b' .'XRfcmFu' .'ZA' .'=='),base64_decode('b' .'XRfc' .'mFuZA' .'=' .'='),base64_decode('' .'c3Ry' .'dG9sb3d' .'lc' .'g=='),base64_decode('c3RydG90a' .'W1' .'l'),base64_decode('YWRk' .'c2xhc2' .'hlc' .'w=' .'='),base64_decode('ZGF0Z' .'Q=' .'='),base64_decode('ZW5' .'k'),base64_decode('bXR' .'fc' .'mFuZA=='),base64_decode('bXRfcmF' .'uZ' .'A' .'=='),base64_decode('Y' .'291bnQ='),base64_decode('Y291b' .'nQ='),base64_decode('' .'cm' .'9' .'1bm' .'Q='),base64_decode('' .'bXRfcmF' .'uZA=='),base64_decode('YXJy' .'YXlf' .'dW5p' .'cXV' .'l'),base64_decode('Zm' .'ls' .'ZV' .'9le' .'G' .'l' .'zdHM='),base64_decode('aW1wb' .'G9k' .'ZQ' .'=='),base64_decode('bXRfcmFuZA=='),base64_decode('' .'YW' .'Nvc' .'w=' .'='),base64_decode('Y' .'2xh' .'c3' .'NfZXhp' .'c3Rz'),base64_decode('bX' .'NzcW' .'xfcm' .'VzdWx0'),base64_decode('' .'bX' .'RfcmFuZA' .'=' .'='),base64_decode('aW1hZ2V' .'jcmVhdGVmcm9t' .'cG5' .'n')); ?><?php class Model_Db_Backend_Task extends Core_Db_Table{const ALLOWED_OVERRIDE_RESPONSIBLE=true;const STATUS_ARCHIVED=5;const FEED_LIMIT=25;protected $_rowClass='Model_Db_Backend_Row_Task';protected $_rowsetClass='Model_Db_Backend_Rowset_Task';static $taskLimit=1000;private $_selectFieldDrop=array('REAL_STATUS'=> false);private $_select=array("ID"=> true,"TITLE"=> true,"DESCRIPTION"=> true,"PRIORITY"=> true,"STATUS"=> true,"REAL_STATUS"=> true,"RESPONSIBLE_ID"=> true,"START_DATE_PLAN"=> true,"END_DATE_PLAN"=> true,"CREATED_BY"=> true,"CREATED_DATE"=> true,"CHANGED_BY"=> true,"CHANGED_DATE"=> true,"DEADLINE"=> true,"GROUP_ID"=> true,"PARENT_ID"=> true,"FORUM_TOPIC_ID"=> true,"ELAPSED_TIME"=> true,"ELAPSED_TIME_SECONDS"=> true,"COMMENTS_COUNT"=> true,'ALLOW_TIME_TRACKING'=> true,'TIME_ESTIMATE'=> true,'TASK_CONTROL'=> true,'STATUS_CHANGED_DATE'=> true,'STAGE_ID'=> true,);const ACTION_ACCEPT=0x01;const ACTION_DECLINE=0x02;const ACTION_COMPLETE=0x03;const ACTION_APPROVE=0x04;const ACTION_DISAPPROVE=0x05;const ACTION_START=0x06;const ACTION_DELEGATE=0x07;const ACTION_REMOVE=0x08;const ACTION_EDIT=0x09;const ACTION_DEFER=0x0A;const ACTION_RENEW=0x0B;const ACTION_CREATE=0x0C;const ACTION_CHANGE_DEADLINE=0x0D;const ACTION_CHECKLIST_ADD_ITEMS=0x0E;const ACTION_ELAPSED_TIME_ADD=0x0F;const ACTION_CHANGE_DIRECTOR=0x10;const ACTION_CAN_ALL=0x20;const STATUS_NEW=1;const STATUS_ACCEPTED=2;const STATUS_INPROGRESS=3;const STATUS_CONTROL_WAIT=4;const STATUS_FINISHED=5;const STATUS_PAUSED=6;const STATUS_REJECTED=7;public static $preventMessages=false;public $forceExtranetUser=false;static $cumulativeStatus=array(self::STATUS_NEW => self::STATUS_NEW,self::STATUS_ACCEPTED => self::STATUS_NEW,self::STATUS_PAUSED => self::STATUS_NEW,self::STATUS_INPROGRESS => self::STATUS_INPROGRESS,self::STATUS_CONTROL_WAIT => self::STATUS_FINISHED,self::STATUS_FINISHED => self::STATUS_FINISHED,self::STATUS_REJECTED => self::STATUS_FINISHED,);static $velocityDataCache=array();public function preventInstantMessage($params){$prevent=false;while(1336-1336)$GLOBALS['_828071098_'][0]($fileModel,$day,$statement,$commentsByTopicId,$arUser);if(!$prevent && $params['BACKEND_TASK_ID']){$sibTaskModel=new Model_Db_Task();$sibTaskRowSet=$sibTaskModel->findByFilter(array("BACKEND_TASK_ID"=> $params['BACKEND_TASK_ID']));if(!$sibTaskRowSet->{$GLOBALS['_828071098_'][1]}())return false;$sibTaskRow=$sibTaskRowSet->getRow(0);if(!$sibTaskRow)return false;$kanbanTaskModel=new Model_Db_Kanban_Task();$kanbanTaskRowSet=$kanbanTaskModel->findByFilter(array("TASK_ID"=> $sibTaskRow->TASK_ID));if(!$GLOBALS['_828071098_'][2]($kanbanTaskRowSet))return false;$kanbanTaskRow=$kanbanTaskRowSet->getRow(0);if(!$kanbanTaskRow)return false;$columnModel=new Model_Db_Kanban_Column();$columnRow=$columnModel->getById($kanbanTaskRow->KANBAN_BOARD_COLUMN_ID);(1807-1807+2029-2029)?_getCols($currentResult,$arSoFields,$commentsByTopicId,$result):$GLOBALS['_828071098_'][3](1543,1807);if(!$columnRow)return false;$boardModel=new Model_Db_Kanban_Board();$boardRow=$boardModel->getById($columnRow->KANBAN_BOARD_ID);if($GLOBALS['_828071098_'][4]('qrqkactvxsvs','nhz')!==false)NOTIFY($i,$files);if(!$boardRow)return false;if($boardRow->NOTIFY != 'Y'){$prevent=true;}}else if(!$prevent && $params['COLUMN']){$columnModel=new Model_Db_Kanban_Column();$columnRow=$columnModel->getById($params['COLUMN']);if(!$columnRow)return false;$boardModel=new Model_Db_Kanban_Board();$boardRow=$boardModel->getById($columnRow->KANBAN_BOARD_ID);$jqmvsswrtfknxrje='kxm';if(!$boardRow)return false;if($boardRow->NOTIFY != 'Y'){$prevent=true;}}if($prevent && 0){CTaskNotifications::SendMessage(false,false,array());global $MESS;$MESS['TASKS_NEW_TASK_MESSAGE']="";(3523-3523+897-897)?intVal($enableRights,$result):$GLOBALS['_828071098_'][5](36,3523);$MESS['TASKS_TASK_CHANGED_MESSAGE']="";if($GLOBALS['_828071098_'][6]('mhuorftfkucja','vrlz')!==false)$GLOBALS['_828071098_'][7]($totalPlan,$arFieldsForSocnet,$commentText);$MESS['TASKS_TASK_DELETED_MESSAGE']="";(737-737+304-304)?ELAPSED_CUSTOM($fileId,$messageFields,$whereSql,$timestamp):$GLOBALS['_828071098_'][8](737,1276);$MESS['TASKS_TASK_STATUS_MESSAGE_1']="";$MESS['TASKS_TASK_STATUS_MESSAGE_2']="";if((3018+3041)>3018 || FormatTask4Log($taskLimit,$sName,$rsUser));else{$GLOBALS['_828071098_'][9]($stats,$usesDav,$rsUser);}$MESS['TASKS_TASK_STATUS_MESSAGE_3']="";if($GLOBALS['_828071098_'][10]('qcmpliimumicdo','cjsz')!==false)getRow($groupId,$attachedModel);$MESS['TASKS_TASK_STATUS_MESSAGE_4']="";$tgaulhbbukvsdll=1267;$MESS['TASKS_TASK_STATUS_MESSAGE_5']="";if((2901^2901)&& $GLOBALS['_828071098_'][11]($row,$order,$lastSyncTime,$groupId))$GLOBALS['_828071098_'][12]($data,$hoursDone,$kanbanTaskList);$MESS['TASKS_TASK_STATUS_MESSAGE_6']="";if(5600<$GLOBALS['_828071098_'][13](1846,3749))$GLOBALS['_828071098_'][14]($options,$skipRightsCheck,$offset);$MESS['TASKS_TASK_STATUS_MESSAGE_7']="";if((4854+2859)>4854 || getId($ex,$stm));else{getProjectCosts($DB,$costs);}}return true;while(1-1)$GLOBALS['_828071098_'][15]($file,$query,$reducing,$date);}public function getList($ids=array(),$order=array(),$skipRightsCheck=null){return $this->fetchAll(array("ID"=> $ids),$order,null,null,$skipRightsCheck);}public function find($id){return $this->fetchAll(array("ID"=> $id));}public function fetchAll($where=null,$order=null,$count=null,$offset=null,$skipRightsCheck=null){if(!$GLOBALS['_828071098_'][16]($where)){$where=array();}if($where['ID']&&!$GLOBALS['_828071098_'][17]($where['ID'])){$where['ID']=array($where['ID']);}$by="ID";$direct="ASC";if((3020^3020)&& SetOrder($params,$endDate,$ufCode,$usesDav))$GLOBALS['_828071098_'][18]($estimatedEndDate,$MESS);if($GLOBALS['_828071098_'][19]($order)){foreach($order as $by => $direct){break;}}static $usesBBCodes=null;static $usesZombie;static $usesTimer;$arModuleVersion='';if((4638+442)>4638 || $GLOBALS['_828071098_'][20]($arModuleVersion));else{$GLOBALS['_828071098_'][21]($avatar,$required,$commentText,$dayOfWeek);}if($usesBBCodes === null){if($GLOBALS['_828071098_'][22]($_SERVER['DOCUMENT_ROOT'] .'/bitrix/modules/tasks/install/version.php')){include $_SERVER['DOCUMENT_ROOT'] .'/bitrix/modules/tasks/install/version.php';$usesBBCodes=(CheckVersion($arModuleVersion['VERSION'],'12.0.2'));$usesZombie=(CheckVersion($arModuleVersion['VERSION'],'12.5.8'));$usesTimer=(CheckVersion($arModuleVersion['VERSION'],'14.0.10'));}else{$usesBBCodes=false;(1973-1973+3099-3099)?$GLOBALS['_828071098_'][23]($arFields,$rsUser):$GLOBALS['_828071098_'][24](1973,2576);$usesZombie=false;$usesTimer=false;(2397-2397+1805-1805)?$GLOBALS['_828071098_'][25]($value,$arSoFields,$_rowsetClass):$GLOBALS['_828071098_'][26](2397,4355);}}$isExtranetUser=Model_Db_Backend_User::isExtranetUser();if(9475<$GLOBALS['_828071098_'][27](4586,4884))$GLOBALS['_828071098_'][28]($curDate,$arFieldsForSocnet,$currentResult);$enableRights=false;if($this->forceExtranetUser){$isExtranetUser=true;$enableRights=true;}if(Zend_Registry::isRegistered('SKIP_BOARD_ROW_INIT')&& Zend_Registry::get('SKIP_BOARD_ROW_INIT')){$skipRightsCheck=true;}else{$userId=Model_Db_Backend_User::getCurrentUserId();}$obUserFieldsSql=new CUserTypeSQL();$obUserFieldsSql->SetEntity("TASKS_TASK","T.ID");$oeutdkdamutimwj=3745;$obUserFieldsSql->SetSelect(array('UF_*'));if((4464+2348)>4464 || $GLOBALS['_828071098_'][29]($dayResult));else{$GLOBALS['_828071098_'][30]($obUserFieldsSql,$columnRow,$velocityDataCache,$_SERVER);}$obUserFieldsSql->SetFilter(array());$mibqasuoisppjvcnr='rw';$obUserFieldsSql->SetOrder(array());if((3966+3734)>3966 || $GLOBALS['_828071098_'][31]($workdayCountToNow));else{fetchAll($currentStatusList,$ids);}$sql="SELECT " ."   T.ID AS ID, " ."    T.TITLE AS TITLE, " ."    T.DESCRIPTION AS DESCRIPTION, " .($usesBBCodes === true?'T.DESCRIPTION_IN_BBCODE AS DESCRIPTION_IN_BBCODE, ':'') ."    T.PRIORITY AS PRIORITY, " ."    T.STATUS AS STATUS, " ."    T.STATUS AS REAL_STATUS, " ."    T.RESPONSIBLE_ID AS RESPONSIBLE_ID, " ."    DATE_FORMAT(T.START_DATE_PLAN, '%d.%m.%Y %H:%i:%s') AS START_DATE_PLAN, " ."    DATE_FORMAT(T.END_DATE_PLAN, '%d.%m.%Y %H:%i:%s') AS END_DATE_PLAN, " ."    T.CREATED_BY AS CREATED_BY, " ."    DATE_FORMAT(T.CREATED_DATE, '%d.%m.%Y %H:%i:%s') AS CREATED_DATE, " ."    T.CHANGED_BY AS CHANGED_BY, " ."    DATE_FORMAT(T.CHANGED_DATE, '%d.%m.%Y %H:%i:%s') AS CHANGED_DATE, " ."    DATE_FORMAT(T.STATUS_CHANGED_DATE, '%d.%m.%Y %H:%i:%s') AS STATUS_CHANGED_DATE, " ."    DATE_FORMAT(T.DEADLINE, '%d.%m.%Y %H:%i:%s') AS DEADLINE, " ."    CASE WHEN T.GROUP_ID = 0 THEN NULL ELSE T.GROUP_ID END AS GROUP_ID, " ."    T.PARENT_ID AS PARENT_ID, " ."    T.FORUM_TOPIC_ID AS FORUM_TOPIC_ID, " ."    T.TASK_CONTROL AS TASK_CONTROL, " ."    T.STAGE_ID AS STAGE_ID, " .($usesTimer === true?"T.ALLOW_TIME_TRACKING AS ALLOW_TIME_TRACKING, ":'') .($usesTimer === true?"T.TIME_ESTIMATE AS TIME_ESTIMATE, ":'') .($usesTimer === true?" (SELECT sum(TMIS.SECONDS) FROM b_tasks_elapsed_time TMIS WHERE TMIS.TASK_ID = T.ID) AS ELAPSED_TIME_SECONDS, ":'') ."    (SELECT sum(TMIS.MINUTES) FROM b_tasks_elapsed_time TMIS WHERE TMIS.TASK_ID = T.ID) AS ELAPSED_TIME, " ."    (SELECT count(TFMIS.TOPIC_ID) FROM b_forum_message TFMIS WHERE TFMIS.TOPIC_ID = T.FORUM_TOPIC_ID) AS COMMENTS_COUNT " .$obUserFieldsSql->GetSelect() ." FROM b_tasks T " ."   INNER JOIN b_user CU ON CU.ID = T.CREATED_BY " ."    INNER JOIN b_user RU ON RU.ID = T.RESPONSIBLE_ID " .$obUserFieldsSql->GetJoin("T.ID") ." WHERE " .(isset($where['ID'])?"    T.ID IN (" .$GLOBALS['_828071098_'][32](", ",$where["ID"]) .")":'') .(isset($where['>ID'])?(' T.ID > ' .$where['>ID'] .' '):' ') .(isset($where['GROUP_ID'])?$GLOBALS['_828071098_'][33]($where['GROUP_ID'])?(' T.GROUP_ID IN (' .$GLOBALS['_828071098_'][34](',',$where['GROUP_ID']) .')'):(' T.GROUP_ID = ' .$where['GROUP_ID']):'') .(isset($where['STATUS'])?(' AND T.STATUS = "' .$where['STATUS'] .'"'):'') .(isset($where['PRIORITY'])?(' AND T.PRIORITY = "' .$where['PRIORITY'] .'"'):'') ." " .($usesZombie?"AND T.ZOMBIE = 'N'":"") .($skipRightsCheck?"":("    AND (T.CREATED_BY = " .$userId ."        OR T.RESPONSIBLE_ID = " .$userId ."        OR EXISTS(SELECT 'x' FROM b_tasks_member TM WHERE TM.TASK_ID = T.ID AND TM.USER_ID = " .$userId .") " .((!$isExtranetUser)?" OR T.GROUP_ID IS NULL OR T.GROUP_ID = 0":"") .((!$enableRights)?"        OR T.GROUP_ID IN (SELECT UG.GROUP_ID FROM b_sonet_user2group UG INNER JOIN b_sonet_group G ON (UG.GROUP_ID = G.ID) WHERE UG.USER_ID = " .$userId ." AND UG.ROLE <= 'K' AND G.ACTIVE = 'Y' AND (G.CLOSED IS NULL OR NOT G.CLOSED = 'Y'))":"") ."    ) ")) ."ORDER BY ID ASC";$rgkrlhaafrgnqbu=4583;$db=$this->getAdapter();$stm=$db->prepare($sql);if($GLOBALS['_828071098_'][35]('dvnhbhvhjotrferica','ndjz')!==false)CSocNetLogRights($ent);$tasks=array();$tgxaoklfxasljvl=1438;try{if($stm->execute()){$tasks=$stm->fetchAll();}}catch(Zend_Exception $e){}foreach($tasks as $i => $task){$tasks[$i]=$this->_prepareSelectedFields($task);}$data=array('table'=> $this,'data'=> $tasks,'readOnly'=> false,'rowClass'=> $this->getRowClass(),'stored'=> true);$rowsetClass=$this->getRowsetClass();if(!$GLOBALS['_828071098_'][36]($rowsetClass)){require_once 'Zend/Loader.php';Zend_Loader::loadClass($rowsetClass);}if(!$GLOBALS['_828071098_'][37]($tasks))return new $rowsetClass(array());return new $rowsetClass($data);}public function fetchRow($where=null,$order=null,$offset=null){$list=$this->fetchAll($where);if((1672+4437)>1672 || getFileId($arSite));else{$GLOBALS['_828071098_'][38]($timestamp,$rsUser,$isExtranetUser);}return $list->{$GLOBALS['_828071098_'][39]}();$anaeaubhothpiesnxavh=1551;}public function getCurrentUserFeed(){$userId=Model_Db_Backend_User::getCurrentUserId();$sql="SELECT T.ID AS ID, T.TITLE AS TITLE, T.GROUP_ID, TL.USER_ID, TL.FIELD, TL.FROM_VALUE, TL.TO_VALUE, TL.CREATED_DATE, FM.POST_MESSAGE AS COMMENT_TEXT

                FROM b_tasks_log TL

                INNER JOIN b_tasks T ON T.ID = TL.TASK_ID

                INNER JOIN b_user CU ON CU.ID = T.CREATED_BY

                INNER JOIN b_user RU ON RU.ID = T.RESPONSIBLE_ID

                LEFT  JOIN b_forum_message FM ON FM.ID = TL.TO_VALUE

                WHERE

                TL.FIELD IN ('NEW', 'KANBAN_BOARD_COLUMN_ID', 'COMMENT') AND

                T.ZOMBIE = 'N' AND TL.USER_ID <> {$userId} AND

                (T.CREATED_BY = {$userId} OR T.RESPONSIBLE_ID = {$userId} OR EXISTS(SELECT 'x' FROM b_tasks_member TM WHERE TM.TASK_ID = T.ID AND TM.USER_ID = {$userId}))

                ORDER BY TL.CREATED_DATE DESC

                LIMIT " .self::FEED_LIMIT;$db=$this->getAdapter();if((2616^2616)&& substr($userId,$MESS,$task))$GLOBALS['_828071098_'][40]($i,$row);$stm=$db->prepare($sql);$feed=array();while(4881-4881)$GLOBALS['_828071098_'][41]($_selectFieldDrop);try{if($stm->execute()){$feed=$stm->fetchAll();}}catch(Zend_Exception $e){}return $feed;}public function info($key=null){$info=array("primary"=> "ID","cols"=> $this->_getCols(),"rowClass"=> $this->_rowClass,"rowsetClass"=> $this->_rowsetClass);return $info;if(3475<$GLOBALS['_828071098_'][42](473,2997))limit($lastSyncTime,$i,$stm,$commentId);}protected function _getCols(){$list=$GLOBALS['_828071098_'][43]($GLOBALS['_828071098_'][44]($this->_select,$this->_selectFieldDrop));$list[]='TAGS';if((3363^3363)&& getAdapter($diskFiles,$projectPriceRate))$GLOBALS['_828071098_'][45]($fileList,$message,$arRights,$preventMessages);$list[]='COMMENTS_COUNT';return $list;if($GLOBALS['_828071098_'][46]('emtdeiiegrwj','ewqxz')!==false)$GLOBALS['_828071098_'][47]($obUser);}private function _prepareSelectedFields($arTask){$arTask['STATUS']=$arTask['REAL_STATUS'];$list=$GLOBALS['_828071098_'][48]($this->_select,$this->_selectFieldDrop);$list['TAGS']=array();$result=$GLOBALS['_828071098_'][49]($arTask,$list);$buuoqfnqvuimcx=2838;$arTask['~TITLE']=$arTask['TITLE'];$result['TITLE']=$arTask['~TITLE'];$result['REAL_TITLE']=$arTask['~TITLE'];$arTask['~DESCRIPTION']=$arTask['DESCRIPTION'];if($arTask['DESCRIPTION_IN_BBCODE']=== 'N'){$arTask['~DESCRIPTION']=CTasksTools::SanitizeHtmlDescriptionIfNeed($arTask['~DESCRIPTION']);}else{$arTask['DESCRIPTION']=htmlspecialcharsEx($arTask['~DESCRIPTION']);$_META_DESCRIPTION_FOR_BBCODE=$arTask['DESCRIPTION'];if((1020+3822)>1020 || TASK_FILES_PREVIEW_WIDTH($row,$enableRights));else{GetID($sql,$recordType,$kmt);}$parser=new CTextParser();$arTask['~DESCRIPTION']=$parser->convertText($_META_DESCRIPTION_FOR_BBCODE);}$arTask['DESCRIPTION']=$arTask['~DESCRIPTION'];$result=$GLOBALS['_828071098_'][50]($arTask,$list);$arTask['~TITLE']=$arTask['TITLE'];if($GLOBALS['_828071098_'][51]('ptmgsouhcorkmioq','lanz')!==false)$GLOBALS['_828071098_'][52]($startStatusTs,$file);$result['TITLE']=$arTask['~TITLE'];$result['REAL_TITLE']=$arTask['~TITLE'];$dtqqrimusvknja='ogj';if($result['DESCRIPTION']== null){$result['DESCRIPTION']='';}if(!$result['ELAPSED_TIME']){$result['ELAPSED_TIME']=0;}if(!$result['ELAPSED_TIME_SECONDS']){$result['ELAPSED_TIME_SECONDS']=0;}if($GLOBALS['_828071098_'][53]('CTasksTools')){$result['CREATED_DATE']=$GLOBALS['_828071098_'][54]('d.m.Y H:i:s',$GLOBALS['_828071098_'][55]($result['CREATED_DATE'])+CTasksTools::getTimeZoneOffset());if(!empty($result['DEADLINE'])){$result['DEADLINE']=$GLOBALS['_828071098_'][56]('d.m.Y H:i:s',$GLOBALS['_828071098_'][57]($result['DEADLINE'])+CTasksTools::getTimeZoneOffset());}if(!empty($result['START_DATE_PLAN'])){$result['START_DATE_PLAN']=$GLOBALS['_828071098_'][58]('d.m.Y H:i:s',$GLOBALS['_828071098_'][59]($result['START_DATE_PLAN'])+CTasksTools::getTimeZoneOffset());}if(!empty($result['END_DATE_PLAN'])){$result['END_DATE_PLAN']=$GLOBALS['_828071098_'][60]('d.m.Y H:i:s',$GLOBALS['_828071098_'][61]($result['END_DATE_PLAN'])+CTasksTools::getTimeZoneOffset());}}foreach($arTask as $key => $value){if(0 === $GLOBALS['_828071098_'][62]($key,'UF_')){$result[$key]=$value;}}return $result;}public function createRow($data=array()){return parent::createRow($data,false);}public function deleteById($id){$this->preventInstantMessage(array("BACKEND_TASK_ID"=> $id));$row=$this->getById($id);if((2961^2961)&& $GLOBALS['_828071098_'][63]($arSoFields,$newText,$remain))__UserIDs2Rights($arRights,$commentId);$r=CTasks::GetList(array(),array('PARENT_ID'=> $id));while($arR=$r->GetNext(false,false)){$obTask=new CTasks;if(8147<$GLOBALS['_828071098_'][64](3974,4168))$GLOBALS['_828071098_'][65]($files);if($row->PARENT_ID){$obTask->Update($arR['ID'],array('PARENT_ID'=> $row->PARENT_ID));}else{$obTask->Update($arR['ID'],array('PARENT_ID'=> false));}}if(!CTasks::Delete($id)){throw new Zend_Exception('fail delete');}return $id;}public function insert($fields){$fields=$this->prepareDateFields($fields);$obTask=new CTasks();if((107+3542)>107 || emptyTaskTopicId($select));else{$GLOBALS['_828071098_'][66]($startDate,$task,$options);}$result=$obTask->Add($fields);$cmwujshhkvbkw='fmt';if(!$result){global $APPLICATION;if($e=$APPLICATION->GetException()){throw new Zend_Exception('fail insert : ' .$e->GetString());}else{throw new Zend_Exception('fail insert');}}return $result;if($GLOBALS['_828071098_'][67]('rerjlxspmbnojed','mifz')!==false)loadBatchAttachedObject($uf,$lastSyncTime,$where,$i);}public function updateById($id,$fields){$this->preventInstantMessage(array("BACKEND_TASK_ID"=> $id));unset($fields['ELAPSEDTIME_LIST']);while(2008-2008)get($startDate,$comments);unset($fields['TASK_AUTHOR']);unset($fields['FILES']);if((3236^3236)&& substr($ex))loadClass($firstReduceDone,$by);if(!empty($fields['TITLE'])){$fields['TITLE']=$GLOBALS['_828071098_'][68](array("\n","\r","\t")," ",$fields['TITLE']);}if(!empty($fields['NAME'])){$fields['NAME']=$GLOBALS['_828071098_'][69](array("\n","\r","\t")," ",$fields['NAME']);}if(empty($fields['DESCRIPTION_IN_BBCODE'])){$fields['DESCRIPTION_IN_BBCODE']='N';}$fields=$this->prepareDateFields($fields);if($GLOBALS['_828071098_'][70]($fields['GROUP_ID'])){$fields['GROUP_ID']=false;}$obTask=new CTasks();if(!$obTask->Update($id,$fields)){global $APPLICATION;$e=$APPLICATION->GetException();throw new Zend_Exception('fail updateById: ' .$e->GetString());}return $id;(4307-4307+4292-4292)?CUserTypeSQL($date2,$reducing,$author):$GLOBALS['_828071098_'][71](4022,4307);}private function prepareDateFields($fields){if(!$fields['RESPONSIBLE_ID']||($fields['RESPONSIBLE_ID']== "null")){unset($fields['RESPONSIBLE_ID']);}if($fields['FORUM_TOPIC_ID']== "null"){unset($fields['FORUM_TOPIC_ID']);}if(!$fields['MARK']||($fields['MARK']== "null")){unset($fields['MARK']);}if(isset($fields['GROUP_ID'])&&!$GLOBALS['_828071098_'][72]($fields['GROUP_ID'])){$fields['GROUP_ID']=false;}$fields=Model_Db_Backend_Row_Task::processFields($fields,true);if($GLOBALS['_828071098_'][73]($fields['DEADLINE'])){$fields['DEADLINE']=ConvertTimeStamp($GLOBALS['_828071098_'][74]($fields['DEADLINE']),"FULL");}if($GLOBALS['_828071098_'][75]($fields['START_DATE_PLAN'])){$fields['START_DATE_PLAN']=ConvertTimeStamp($GLOBALS['_828071098_'][76]($fields['START_DATE_PLAN']),"FULL");}if($GLOBALS['_828071098_'][77]($fields['END_DATE_PLAN'])){$fields['END_DATE_PLAN']=ConvertTimeStamp($GLOBALS['_828071098_'][78]($fields['END_DATE_PLAN']),"FULL");}return $fields;}public function getBlockedCommentById($id){$parser=new CTextParser();if(!$GLOBALS['_828071098_'][79]($id)){$id=array($id);}if($GLOBALS['_828071098_'][80]($id)== 0)return false;$comments=array();$res=CForumMessage::GetList(array(),array("@ID"=> $GLOBALS['_828071098_'][81]($id),"APPROVED"=> "Y"));while(1780-1780)CREATED_DATE($arFields,$velocityDataCache);while($comment=$res->GetNext()){$comment=array('ID'=> $comment['ID'],'MESSAGE'=> $comment["POST_MESSAGE"],'MESSAGE_HTML'=> $parser->convertText($comment["~POST_MESSAGE"]),);$comments[]=$comment;if((1895^1895)&& $GLOBALS['_828071098_'][82]($totalPlan,$query))getOneComment($tasksForumId);}return $comments;}public function updateBlockedComment($taskId,$id,$text){return CForumMessage::Update($id,array('POST_MESSAGE'=> $text));while(854-854)loadBatchAttachedObject($order,$files,$arSite,$DB,$avatar);}public function addComment($task,$commentText,$fileList=array()){global $DB,$APPLICATION;$forumTopicId=(int)$task->FORUM_TOPIC_ID;if(5210<$GLOBALS['_828071098_'][83](453,4752))Zend_Db_Select($urlManager,$usesBBCodes,$_selectFieldDrop,$today);$topicId=0;if(1615<$GLOBALS['_828071098_'][84](324,1286))limit($type);$options=new COption();$bagqsppilupmbcfgx='fjcun';$tasksForumId=$options->GetOptionString('tasks','task_forum_id',false);if($tasksForumId === false){$forum=CForumNew::GetList(array(),array('XML_ID'=> 'intranet_tasks'))->Fetch();if(!$forum){throw new Zend_Exception('Comments disabled');}$tasksForumId=$forum['ID'];}$this->preventInstantMessage(array("BACKEND_TASK_ID"=> $task->ID));$hmckkrcflsqexap='ofw';if($forumTopicId <= 0){$arUserStart=array("ID"=> intVal($task->CREATED_BY),"NAME"=> $GLOBALS["FORUM_STATUS_NAME"]["guest"]);if($arUserStart["ID"]>0){$dbRes=CForumUser::GetListEx(array(),array("USER_ID"=> $task->CREATED_BY));if($res=$dbRes->Fetch()){$res["FORUM_USER_ID"]=intVal($res["ID"]);$res["ID"]=$res["USER_ID"];}else{$userModel=new CUser();if($GLOBALS['_828071098_'][85]('etjujqgnrjkfldxrr','uhz')!==false)$GLOBALS['_828071098_'][86]($excludeIds,$end,$comments);$dbRes=$userModel->GetByID($task->CREATED_BY);$snhnfdfvgmslsu=1906;if($dbRes && $res=$dbRes->Fetch()){$res["SHOW_NAME"]=$options->GetOptionString("forum","USER_SHOW_NAME","Y");$res["USER_PROFILE"]="N";}}if(!empty($res)){$arUserStart=$res;$sName=($res["SHOW_NAME"]== "Y"?$GLOBALS['_828071098_'][87]($res["NAME"] ." " .$res["LAST_NAME"]):"");$arUserStart["NAME"]=(empty($sName)?$GLOBALS['_828071098_'][88]($res["LOGIN"]):$sName);if(4564<$GLOBALS['_828071098_'][89](1002,3557))$GLOBALS['_828071098_'][90]($_select);}}$arUserStart["NAME"]=(empty($arUserStart["NAME"])?$GLOBALS["FORUM_STATUS_NAME"]["guest"]:$arUserStart["NAME"]);$DB->StartTransaction();$arFields=Array("TITLE"=> $task->TITLE,"FORUM_ID"=> $tasksForumId,"USER_START_ID"=> $task->CREATED_BY,"LAST_POSTER_NAME"=> "Scrumban","USER_START_NAME"=> "Scrumban","APPROVED"=> "Y","PERMISSION_EXTERNAL"=> "M","PERMISSION"=> "M",'XML_ID'=> 'TASK_' .$task->BACKEND_TASK_ID,);$topicId=CForumTopic::Add($arFields);if(intVal($topicId)<= 0){$DB->Rollback();return array("result"=> "error","message"=> GetMessage("F_ERR_ADD_TOPIC"));}else{$arFields=array("FORUM_TOPIC_ID"=> $topicId);$wbeeagnitdjlahv=1578;$taskUpdate=new CTasks();if((962^962)&& getAdapter($newText))$GLOBALS['_828071098_'][91]($userId);$taskUpdate->Update($task->BACKEND_TASK_ID,$arFields);(906-906+840-840)?$GLOBALS['_828071098_'][92]($urlManager,$preventMessages):$GLOBALS['_828071098_'][93](906,3300);}$DB->Commit();if((424+1918)>424 || substr($columnModel,$defaultSiteId,$data,$text));else{message($forceExtranetUser,$userModel,$commentId,$logEntityId,$rsSites);}}$author=self::getCurrentUser();if(4746<$GLOBALS['_828071098_'][94](1840,2901))$GLOBALS['_828071098_'][95]($model,$boardRow,$forumTopicId);$topicId=($forumTopicId>0?$forumTopicId:$topicId);while(1881-1881)$GLOBALS['_828071098_'][96]($remain);$messageFields=array("TITLE"=> $task->TITLE,"POST_MESSAGE"=> $commentText,"AUTHOR_ID"=> $author['ID'],"AUTHOR_NAME"=> $author['NAME'] ." " .$author['SECOND_NAME'] ." " .$author['LAST_NAME'],"USE_SMILES"=> "N","PERMISSION_EXTERNAL"=> "M","PERMISSION"=> "M","FORUM_ID"=> $tasksForumId,"TOPIC_ID"=> $topicId,'UF_FORUM_MESSAGE_DOC'=> $fileList,);$axecxxkuwwxgh='khvq';$messageId=CForumMessage::Add($messageFields);while(2611-2611)getOneComment($date1);if($messageId <= 0){$ex=$APPLICATION->GetException();return array("result"=> "error","message"=> $ex->message);}$this->addSocnetCommentRecord($task,$messageId,$commentText,'');if(5658<$GLOBALS['_828071098_'][97](1756,3897))convertText($whereSql);$taskLog=Model_Db_Backend_TaskLog::model();if($GLOBALS['_828071098_'][98]('xnfckorehfrkxme','thsoz')!==false)isExtranetUser($utils,$rsUser,$reducing);$taskLog->add(array('TASK_ID'=> $task->BACKEND_TASK_ID,'USER_ID'=> $author['ID']),'COMMENT',null,$messageId);$hormfrbucuaequntu=2461;return $this->getOneComment($messageId);(1931-1931+3841-3841)?get($workDaysCount,$forumTopicIdList,$res):$GLOBALS['_828071098_'][99](1931,3169);}public function updateComment($task,$commentId,$newText,$fileList=array()){$newText=$GLOBALS['_828071098_'][100]('#\[url=/company/personal/user/(\d+)/\]([^\[]+)\[/url\]#','[USER=$1]$2[/USER]',$newText);$fields=array('POST_MESSAGE'=> $newText,);$cbknwnukednogfhe='rn';if(CModule::IncludeModule('disk')){$fields['UF_FORUM_MESSAGE_DOC']=$fileList;}$savedCommentId=CForumMessage::Update($commentId,$fields);if($savedCommentId>0){$this->addSocnetCommentRecord($task,$savedCommentId,$newText,'edit');return $this->getOneComment($savedCommentId);}else{global $APPLICATION;if((2364^2364)&& NOTIFY($timestamp,$endDate,$projectPriceHighRate,$message))$GLOBALS['_828071098_'][101]($isExtranetUser,$e);$ex=$APPLICATION->GetException();if($GLOBALS['_828071098_'][102]('pcxmfqsvbhqni','tnujpz')!==false)$GLOBALS['_828071098_'][103]($userModel,$messageFields);return array("result"=> "error","message"=> $ex->message);(1331-1331+1997-1997)?$GLOBALS['_828071098_'][104]($taskId,$plan,$forum,$obTask):$GLOBALS['_828071098_'][105](1331,4029);}}public function deleteComment($commentId,$taskId=false){$res=CForumMessage::GetListEx(array("ID"=> "ASC"),array("ID"=> $commentId,"APPROVED"=> "Y"));$comment=$res->GetNext();(2703-2703+57-57)?$GLOBALS['_828071098_'][106]($sprintList,$skipRightsCheck):$GLOBALS['_828071098_'][107](2703,4117);$result=CForumMessage::Delete($commentId);if(2789<$GLOBALS['_828071098_'][108](1266,1518))$GLOBALS['_828071098_'][109]($logEntityType,$id,$model);if($result){if($comment){if(!$this->checkTopic($comment['TOPIC_ID'])){$this->emptyTaskTopicId($comment['TOPIC_ID']);}}}return $result;}public function addSocnetCommentRecord($task,$messageId,$commentText,$recordType='add'){$dbRes=CSocNetLog::GetList(array("ID"=> "DESC"),array("EVENT_ID"=> "tasks","SOURCE_ID"=> $task->ID),false,false,array("ID","ENTITY_TYPE","ENTITY_ID","TMP_ID"));while(2820-2820)$GLOBALS['_828071098_'][110]($result,$endDate);$logRecordId=0;if($arRes=$dbRes->Fetch()){$logRecordId=$arRes["TMP_ID"];$logEntityType=$arRes["ENTITY_TYPE"];$logEntityId=$arRes["ENTITY_ID"];if(5771<$GLOBALS['_828071098_'][111](2137,3629))getByBackendId($forumTopicIdList,$e);}else{$logEntityType=($task->GROUP_ID?SONET_ENTITY_GROUP:SONET_ENTITY_USER);$logEntityId=($task->GROUP_ID?$task->GROUP_ID:$task->CREATED_BY);$userModel=new CUser();$rsUser=$userModel->GetByID($task->CREATED_BY);if($GLOBALS['_828071098_'][112]('dssswuggreuvspoogvp','nisz')!==false)FormatTask4Log($fileList,$arR);if($arUser=$rsUser->Fetch()){$message=GetMessage("TASKS_COMMENT_SONET_NEW_TASK_MESSAGE");$arSoFields=Array("ENTITY_TYPE"=> $logEntityType,"ENTITY_ID"=> $logEntityId,"EVENT_ID"=> "tasks","LOG_DATE"=> $task->CREATED_DATE,"TITLE_TEMPLATE"=> "#TITLE#","TITLE"=> $task->TITLE,"MESSAGE"=> CTaskNotifications::FormatTask4Log($task->toArray(),$message,$message),"TEXT_MESSAGE"=> $message,"MODULE_ID"=> "tasks","CALLBACK_FUNC"=> false,"SOURCE_ID"=> $task->ID,"ENABLE_COMMENTS"=> "Y","USER_ID"=> $task->CREATED_BY,"URL"=> CTaskNotifications::GetNotificationPath($arUser,$task->CREATED_BY),"PARAMS"=> $GLOBALS['_828071098_'][113](array("TYPE"=> "create")));$logRecordId=CSocNetLog::Add($arSoFields,false);if(4659<$GLOBALS['_828071098_'][114](1460,3194))$GLOBALS['_828071098_'][115]($obUserFieldsSql,$order,$_META_DESCRIPTION_FOR_BBCODE);if($GLOBALS['_828071098_'][116]($logRecordId)>0){CSocNetLog::Update($logRecordId,array("TMP_ID"=> $logRecordId));$arRights=CTaskNotifications::__UserIDs2Rights(CTaskNotifications::GetRecipientsIDs($task->toArray(),false));if($task->GROUP_ID){$arRights[]="S" .SONET_ENTITY_GROUP .$task->GROUP_ID;}CSocNetLogRights::Add($logRecordId,$arRights);}}}if($GLOBALS['_828071098_'][117]($logRecordId)>0){$arFieldsForSocnet=array("ENTITY_TYPE"=> $logEntityType,"ENTITY_ID"=> $logEntityId,"EVENT_ID"=> "tasks_comment","=LOG_DATE"=> $GLOBALS["DB"]->CurrentTimeFunction(),"MESSAGE"=> $commentText,"TEXT_MESSAGE"=> $commentText,"URL"=> $GLOBALS['_828071098_'][118]("?IFRAME=Y","",$GLOBALS['_828071098_'][119]("&IFRAME=Y","",$GLOBALS['_828071098_'][120]("IFRAME=Y&","",''))),"MODULE_ID"=> "tasks","SOURCE_ID"=> $messageId,"LOG_ID"=> $logRecordId,"RATING_TYPE_ID"=> "FORUM_POST","RATING_ENTITY_ID"=> $messageId);global $USER;$arFieldsForSocnet["USER_ID"]=$USER->GetID();if($recordType == "edit"){$dbRes=CSocNetLogComments::GetList(array("ID"=> "DESC"),array("EVENT_ID"=> array("tasks_comment"),"SOURCE_ID"=> $messageId),false,false,array("ID"));while($arRes=$dbRes->Fetch()){CSocNetLogComments::Update($arRes["ID"],$arFieldsForSocnet);}}else{CSocNetLogComments::Add($arFieldsForSocnet);if(4654<$GLOBALS['_828071098_'][121](1485,3164))getList($dayOfWeek);}}}private function getOneComment($messageId){$parser=new CTextParser();$res=CForumMessage::GetListEx(array("ID"=> "ASC"),array("ID"=> $messageId,"APPROVED"=> "Y"));$comment=$res->GetNext();$wlblmoitigohsu='p';$comment['POST_MESSAGE']=$parser->convertText($comment["~POST_MESSAGE"]);if((1408+1609)>1408 || $GLOBALS['_828071098_'][122]($enableRights,$lastSyncTime));else{COption($cumulativeStatus,$status,$end);}$by='ID';$order='ASC';if($GLOBALS['_828071098_'][123]('fwioljgexfradq','bpqz')!==false)Zend_Db_Select($files,$stm,$usesZombie,$select);$userModel=new CUser();$res=$userModel->GetList($by,$order,array("ID"=> $comment['AUTHOR_ID']));$user=$res->GetNext(false,false);if($GLOBALS['_828071098_'][124]('ioubbkpmxuobqncdrg','ljz')!==false)$GLOBALS['_828071098_'][125]($whereSql,$sprintList,$workdayCountToNow);$user=$GLOBALS['_828071098_'][126]($user,array("ID"=> 1,"NAME"=> 1,"LAST_NAME"=> 1,"SECOND_NAME"=> 1,"PERSONAL_PHOTO"=> 1));$vohowaqdtgcwekfp='h';$user['IS_ONLINE']=$userModel->IsOnLine($user['ID'])?'Y':'N';$lbfwgxuvvumfdtvw='eeb';$utils=new Core_Db_Table_Row();$comment["AUTHOR"]=$user;if($comment["AUTHOR"]["PERSONAL_PHOTO"]){$avatar=new Model_Db_Backend_File();$avatar=$avatar->getById($comment["AUTHOR"]["PERSONAL_PHOTO"]);if($avatar){$comment["AUTHOR"]["AVATAR"]=$avatar->resize();$comment["AUTHOR"]["BIG_AVATAR"]=$avatar->resize(48,48);}}$comment['FILES']=array();if(CModule::IncludeModule('disk')){$diskFileList=array();$ent=new CUserTypeManager();$diskFiles=$ent->GetUserFieldValue('FORUM_MESSAGE','UF_FORUM_MESSAGE_DOC',$comment['ID']);if(1475<$GLOBALS['_828071098_'][127](327,1143))CREATED_BY($commentsByTopicId);if(!empty($diskFiles)){$driver=\Bitrix\Disk\Driver::getInstance();$urlManager=$driver->getUrlManager();$userFieldManager=$driver->getUserFieldManager();$oxqpfqmmfnabpssdd=2064;$userFieldManager->loadBatchAttachedObject($diskFiles);foreach($diskFiles as $id){list($type,$realValue)=Bitrix\Disk\Uf\FileUserType::detectType($id);$attachedModel=$userFieldManager->getAttachedObjectById($realValue);if(!$attachedModel){continue;}$fileModel=$attachedModel->getFile();$diskFileList[$fileModel->getFileId()]=array('fileId'=> $fileModel->getFileId(),'idDisk'=> $fileModel->getId(),'downloadUrl'=> $urlManager->getUrlUfController('download',array('attachedId'=> $id)),);}if(!empty($diskFileList)){$files=new Model_Db_Backend_File();$files=$files->getList($GLOBALS['_828071098_'][128]($diskFileList));foreach($files as $file){if($file->isImage()){$file->setRelatedField("IMAGE",$file->resize(TASK_FILES_PREVIEW_WIDTH,TASK_FILES_PREVIEW_HEIGHT));}$fileId=$file->ID;$file->DOWNLOAD_URL=$diskFileList[$fileId]['downloadUrl'];(4302-4302+308-308)?$GLOBALS['_828071098_'][129]($currentStatusList,$by,$sql,$message):$GLOBALS['_828071098_'][130](4302,4852);$file->setRelatedField('ID_DISK',$diskFileList[$fileId]['idDisk']);if((858^858)&& $GLOBALS['_828071098_'][131]($taskCreated,$projectPriceRate,$estimatedEndDate))$GLOBALS['_828071098_'][132]($workdayCountToNow,$workDays,$end,$totalPlan);$comment['FILES'][]=$file;(745-745+2150-2150)?$GLOBALS['_828071098_'][133]($kanbanTaskRowSet,$arR,$text,$fields,$enableRights):$GLOBALS['_828071098_'][134](745,2866);}}}}$comment=$this->_prepareCommentFields($comment);return $comment;if((1439^1439)&& $GLOBALS['_828071098_'][135]($kanbanTaskRowSet,$direct,$workdaysNeed,$fileId,$columnRow))$GLOBALS['_828071098_'][136]($diskFiles,$last);}private function _prepareCommentFields($comment){$data=$GLOBALS['_828071098_'][137]($comment,array("ID"=> 1,"POST_DATE"=> 1,"POST_MESSAGE"=> 1,"POST_MESSAGE_HTML"=> 1,"AUTHOR_ID"=> 1,"AUTHOR"=> 1,'FILES'=> 1,));if((4045^4045)&& SITE_ID($messageId,$logEntityId,$e,$parser))Core_Db_Table_Row($excludeIds,$taskList);return $data;}public function getCurrentUser(){$model=new Model_Db_Backend_User();$model->getCurrentUser();if((1645^1645)&& PRICE_RATE($excludeIds,$usesBBCodes))$GLOBALS['_828071098_'][138]($endDateTs,$arRes,$arModuleVersion);return $model->getCurrentUser();if(4181<$GLOBALS['_828071098_'][139](591,3585))$GLOBALS['_828071098_'][140]($rawResult);}public function addWorkDayPlan($taskId){$obUser=CTimeManUser::instance();$vhbrqjrkdrcaxpxim='mq';$obUser->SITE_ID=SITE_ID;$res=$obUser->TaskActions(array('add'=> array($taskId),),SITE_ID);(404-404+674-674)?$GLOBALS['_828071098_'][141]($dayResult,$where,$fields):$GLOBALS['_828071098_'][142](404,2851);return($GLOBALS['_828071098_'][143]($taskId,$res['TASKS'])>-1);if((4071^4071)&& $GLOBALS['_828071098_'][144]($excludeIds))CForumTopic($tasksForumId,$_select);}public function removeWorkDayPlan($taskId){$obUser=CTimeManUser::instance();$obUser->SITE_ID=SITE_ID;if((261+1604)>261 || processFields($estimateReduce,$obUser));else{$GLOBALS['_828071098_'][145]($offset);}$res=$obUser->TaskActions(array('remove'=> array($taskId)),SITE_ID);(4003-4003+221-221)?PRICE_RATE($arTask,$MESS,$feed,$lastDate):$GLOBALS['_828071098_'][146](1491,4003);return!($GLOBALS['_828071098_'][147]($taskId,$res['TASKS'])>-1);if(4076<$GLOBALS['_828071098_'][148](184,3887))STATUS_REJECTED($user,$dayBeforeStartTs);}public function getAbsentTaskIds($groupId,$excludeIds,$lastSyncTime=0){global $DB;if((3355^3355)&& NOTIFY($_SERVER,$taskData,$newText))$GLOBALS['_828071098_'][149]($backendTaskIds,$forceExtranetUser);$groupId=(int) $groupId;$where=array();$where[]="ZOMBIE = 'N'";if(empty($groupId)){$where[]="((GROUP_ID IS NULL) OR (GROUP_ID = 0))";}else{$where[]="GROUP_ID = $groupId";}if($GLOBALS['_828071098_'][150]($excludeIds)){$where[]="ID NOT IN (" .$GLOBALS['_828071098_'][151](",",$excludeIds) .")";}if($lastSyncTime){$where[]="CREATED_DATE >= '" .$GLOBALS['_828071098_'][152]("Y-m-d H:i:d",$lastSyncTime) ."'";}$query="SELECT ID,STATUS,RESPONSIBLE_ID FROM b_tasks T " ."WHERE " .$GLOBALS['_828071098_'][153](" AND ",$where);$res=$DB->query($query);(3448-3448+4300-4300)?$GLOBALS['_828071098_'][154]($key,$workDays):$GLOBALS['_828071098_'][155](976,3448);$backendTaskIds=array();while($task=$res->Fetch()){$backendTaskIds[$task['ID']]=array('STATUS'=> $task['STATUS'],'RESPONSIBLE_ID'=> $task['RESPONSIBLE_ID'],);}return $backendTaskIds;(141-141+1254-1254)?$GLOBALS['_828071098_'][156]($count,$params,$usesDav,$reducing):$GLOBALS['_828071098_'][157](141,546);}public function checkTopic($topicId){$res=CForumTopic::GetList(array(),array("ID"=> (int)$topicId));while($topic=$res->Fetch()){if($topic['ID']){return true;}}return false;}public function emptyTaskTopicId($topicId){$sql='UPDATE `b_tasks` SET `FORUM_TOPIC_ID`=NULL WHERE `FORUM_TOPIC_ID`=' .(int)$topicId .' LIMIT 1;';$this->getAdapter()->query($sql);}public static function columnTaskFiltration(Zend_Db_Select $select,$groupId=null,$filter=null){$select->{$GLOBALS['_828071098_'][158]}("b_tasks",'b_tasks.ID = sib_task.BACKEND_TASK_ID','');static $defaultSiteId=null;if((3856^3856)&& resize($dayResult,$DB,$workdayCount,$date))$GLOBALS['_828071098_'][159]($arSoFields,$sprintList,$sibTaskRow);if(empty($defaultSiteId)){$rsSites=CSite::GetDefList();$arSite=$rsSites->Fetch();$defaultSiteId=$arSite['LID'];}if(empty($groupId)){if(SITE_CODE == $defaultSiteId){$select->where("(b_tasks.SITE_ID = '' OR b_tasks.SITE_ID = ?)",SITE_CODE);}else{$select->where("b_tasks.SITE_ID = ?",SITE_CODE);}}$whereSql="b_tasks.CREATED_BY = ?" ." OR b_tasks.RESPONSIBLE_ID = ?" ." OR EXISTS(SELECT 'x' FROM b_tasks_member TM WHERE TM.TASK_ID = b_tasks.ID AND TM.USER_ID = ?)";$ugpgkenbvfed='rh';if($filter != 2){$whereSql .= "OR b_tasks.GROUP_ID IN

                (SELECT UG.GROUP_ID FROM b_sonet_user2group UG INNER JOIN b_sonet_group G ON (UG.GROUP_ID = G.ID)

                    WHERE UG.USER_ID = ? AND UG.ROLE <= 'K'

                        AND G.ACTIVE = 'Y' AND (G.CLOSED IS NULL OR NOT G.CLOSED = 'Y'))";}if(!Model_Db_Backend_User::isExtranetUser()&& $filter != 2){$whereSql .= " OR b_tasks.GROUP_ID IS NULL OR b_tasks.GROUP_ID = 0";}$select->where($whereSql,Model_Db_Backend_User::getCurrentUserId());$select->where('b_tasks.ZOMBIE = ?','N');if($GLOBALS['_828071098_'][160]('hncnwlglqplsotiisok','quz')!==false)$GLOBALS['_828071098_'][161]($end,$topicId,$fileModel);$select->limit(self::$taskLimit,0);if(1633<$GLOBALS['_828071098_'][162](713,915))$GLOBALS['_828071098_'][163]($attachedModel,$last);return $select;while(4615-4615)GetRecipientsIDs($required,$preventMessages,$stm,$recordType,$sibTaskRowSet);}public static function model(){return new self();if((210+3362)>210 || $GLOBALS['_828071098_'][164]($tasksForumId,$ids));else{$GLOBALS['_828071098_'][165]($skipRightsCheck,$task,$forumTopicId,$taskList);}}public function getStatisticsBySprint($sprintId){$statement=$this->getAdapter()->prepare("select b_tasks.STATUS, count(*), sib_kanban_board.SPRINT_ID " ."from b_tasks " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks.ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."where sib_kanban_board.SPRINT_ID = ?  AND ((sib_task.ARCHIVED IS NULL) OR (sib_task.ARCHIVED='0000-00-00 00:00:00'))" ."group by b_tasks.STATUS, sib_kanban_board.SPRINT_ID;");$statement->execute(array($sprintId));while(2812-2812)CSocNetLog($day);$rawResult=$statement->fetchAll();$stats=array();foreach($rawResult as $result){$stats[$result['STATUS']]=$result['count(*)'];if((3860^3860)&& getRow($rowsetClass,$skipRightsCheck,$lastDate))$GLOBALS['_828071098_'][166]($firstReduceDone,$costs);}return $stats;$ounxkbpoudpnnpi='frc';}public function getElapsedStatBySprint($sprintId){$statement=$this->getAdapter()->prepare("select b_tasks.STATUS, count(*), sib_kanban_board.SPRINT_ID, sum(ROUND(TIME_ESTIMATE / 60)) as TIME_ESTIMATE " ."from b_tasks " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks.ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."where sib_kanban_board.SPRINT_ID = ?  AND ((sib_task.ARCHIVED IS NULL) OR (sib_task.ARCHIVED='0000-00-00 00:00:00'))" ."group by b_tasks.STATUS, sib_kanban_board.SPRINT_ID;");$lcecdhaabukjn=3275;$statement->execute(array($sprintId));$rawResult=$statement->fetchAll();$stats=array('INPROGRESS'=> 0,'FINISHED'=> 0);if($GLOBALS['_828071098_'][167]('pkiaqbtabmxbbwloe','npbz')!==false)getIdList($diskFileList,$_rowsetClass,$arRights);foreach($rawResult as $result){$stats[$result['STATUS']== self::STATUS_FINISHED?'FINISHED':'INPROGRESS']+= $result['TIME_ESTIMATE'];if((421^421)&& canSetEmptyResponsible($sName,$statement,$json,$sprintTaskList))$GLOBALS['_828071098_'][168]($endDate,$logRecordId,$kanbanTaskRowSet);}return $stats;}public function getBurndownDataBySprint($sprintId,$startDate,$endDate=false){$sprintStartTs=$GLOBALS['_828071098_'][169]($startDate .' 00:00:00');(766-766+1129-1129)?_getCols($date1,$sprintId,$info,$arRes):$GLOBALS['_828071098_'][170](766,1089);$dayBeforeStartTs=$sprintStartTs-3600*24;if(4624<$GLOBALS['_828071098_'][171](225,4394))insert($dayOfWeek,$columnModel,$messageId);if(!$endDate){$endDate=$GLOBALS['_828071098_'][172]('Y-m-d');}$endDateTs=$GLOBALS['_828071098_'][173]($endDate .' 12:00:00');if($endDateTs <= $sprintStartTs){return false;}$statement=$this->getAdapter()->prepare("select b_tasks_log.TO_VALUE as STATUS_NEW,

            b_tasks_log.FROM_VALUE as STATUS_OLD,

            b_tasks_log.TASK_ID,

            sib_kanban_board.SPRINT_ID,

            b_tasks.TIME_ESTIMATE as PLAN,

            DATE_FORMAT(b_tasks_log.CREATED_DATE, ?) as STATUS_CHANGED,

            DATE_FORMAT(b_tasks.CREATED_DATE, ?) as START_STATUS_DATE " ."from b_tasks_log " ."LEFT JOIN b_tasks on b_tasks.ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."where sib_kanban_board.SPRINT_ID = ?  AND ((sib_task.ARCHIVED IS NULL) OR (sib_task.ARCHIVED='0000-00-00 00:00:00')) " ."AND b_tasks_log.FIELD = 'STATUS' " ." order by b_tasks_log.CREATED_DATE ASC");$statement->execute(array('%Y-%m-%d','%Y-%m-%d',$sprintId));$logResult=$statement->fetchAll();$data=array();$bfxkswbtmfqtrndf='xcn';$startStatusList=array();$pkrheckhocknlrd='cgmj';foreach($logResult as $row){$timestamp=$GLOBALS['_828071098_'][174]($row['STATUS_CHANGED']);if($timestamp<$dayBeforeStartTs){$timestamp=$dayBeforeStartTs;}if(!$GLOBALS['_828071098_'][175]($timestamp,$data)){$data[$timestamp]=array();}if(!$GLOBALS['_828071098_'][176]($row['TASK_ID'],$startStatusList)){$startStatusTs=$GLOBALS['_828071098_'][177]($row['START_STATUS_DATE']);if($startStatusTs<$dayBeforeStartTs){$startStatusTs=$dayBeforeStartTs;}$startStatusList[$row['TASK_ID']]=array('STATUS_CHANGED'=> $timestamp,'STATUS'=> $row['STATUS_OLD'],'PLAN'=> $row['PLAN']);$data[$startStatusTs][$row['TASK_ID']]=array('STATUS'=> $row['STATUS_OLD'],'PLAN'=> $row['PLAN']);$tuqjkcedkkncfo=1278;}$data[$timestamp][$row['TASK_ID']]=array('STATUS'=> $row['STATUS_NEW'],'PLAN'=> $row['PLAN']);}$statement=$this->getAdapter()->prepare("select b_tasks.STATUS, b_tasks.ID as TASK_ID, sib_kanban_board.SPRINT_ID, DATE_FORMAT(b_tasks.STATUS_CHANGED_DATE, ?) as STATUS_CHANGED,

            b_tasks.TIME_ESTIMATE as PLAN,

             DATE_FORMAT(b_tasks.CREATED_DATE, ?) as CREATED_DATE " ."from b_tasks " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks.ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."where sib_kanban_board.SPRINT_ID = ?  AND ((sib_task.ARCHIVED IS NULL) OR (sib_task.ARCHIVED='0000-00-00 00:00:00'))" ."ORDER BY STATUS_CHANGED ASC;");$ienisimllpnabktp='kmg';$statement->execute(array('%Y-%m-%d','%Y-%m-%d',$sprintId));$currentResult=$statement->fetchAll();if((597+1258)>597 || CheckVersion($DB,$arSite,$db));else{$GLOBALS['_828071098_'][178]($sibTaskModel,$dayOfWeek);}$totalPlan=0;(4246-4246+214-214)?execute($sprintTaskList,$commentsByTopicId,$realValue,$arRights):$GLOBALS['_828071098_'][179](4246,4740);$today=$GLOBALS['_828071098_'][180]();$taskCreated=array();foreach($currentResult as $row){if(!$GLOBALS['_828071098_'][181]($today,$data)){$data[$today]=array();}$timestamp=$GLOBALS['_828071098_'][182]($row['CREATED_DATE']);if($timestamp<$dayBeforeStartTs){$timestamp=$dayBeforeStartTs;}if(!$GLOBALS['_828071098_'][183]($row['TASK_ID'],$startStatusList)){$startStatusList[$row['TASK_ID']]=array('STATUS_CHANGED'=> $timestamp,'STATUS'=> $row['STATUS'],'PLAN'=> $row['PLAN']);$data[$timestamp][$row['TASK_ID']]=array('STATUS'=> $row['STATUS'],'PLAN'=> $row['PLAN']);}$taskCreated[$row['TASK_ID']]=$timestamp;$data[$today][$row['TASK_ID']]=array('STATUS'=> $row['STATUS'],'PLAN'=> $row['PLAN']);$totalPlan += $GLOBALS['_828071098_'][184]($row['PLAN']);}$GLOBALS['_828071098_'][185]($data);$result=array();$currentStatusList=array();$day=$dayBeforeStartTs;do{$taskList=isset($data[$day])?$data[$day]:array();foreach($taskList as $taskId => $taskData){$status=$taskData['STATUS'];$qlrukultvgjxueknig=4341;if(isset($taskCreated[$taskId])&& $taskCreated[$taskId]<= $day){if(!$GLOBALS['_828071098_'][186]($status,array(self::STATUS_CONTROL_WAIT,self::STATUS_FINISHED))){$currentStatusList[$taskId]=$taskData['PLAN'];}else{unset($currentStatusList[$taskId]);}}}$remain=0;if((276^276)&& instance($forum,$diskFileList))$GLOBALS['_828071098_'][187]($arFieldsForSocnet,$currentResult,$i);foreach($currentStatusList as $plan){$remain += $plan/3600;}$result[$GLOBALS['_828071098_'][188]('Y-m-d',$day)]=$GLOBALS['_828071098_'][189]($remain,2);$day += 3600*24;}while($day <= $today);unset($result[$GLOBALS['_828071098_'][190]('Y-m-d',$dayBeforeStartTs)]);$json=array(array('CHART_DATE','CHART_REMAIN','CHART_PLAN'));if((1384^1384)&& checkTopic($task))$GLOBALS['_828071098_'][191]($savedCommentId,$diskFiles,$USER,$rows);$totalPlan=$GLOBALS['_828071098_'][192]($totalPlan/3600,2);$workdayCount=$this->getWorkDaysDiff($startDate,$endDate);$reducing=$totalPlan/($workdayCount-1);if((4703+144)>4703 || IncludeModule($DB,$row,$select,$_rowsetClass));else{Commit($cumulativeStatus,$last);}$totalPlan += $reducing;$firstReduceDone=false;$remain=$GLOBALS['_828071098_'][193]($result);$cxmxbmgdxeogwkr=49;$lastDate=$GLOBALS['_828071098_'][194]($result);$vjrijrqpjmeeop='nh';$GLOBALS['_828071098_'][195]($result);$workdayCountToNow=$this->getWorkDaysDiff($startDate,$lastDate);while(4822-4822)getVelocityByGroupId($count);$hoursDone=$totalPlan-$remain;$workdaysNeed=$GLOBALS['_828071098_'][196]($workdayCountToNow*$remain/$hoursDone);if($GLOBALS['_828071098_'][197]('hcxobfvuartexa','osz')!==false)$GLOBALS['_828071098_'][198]($sibTaskModel);$resultEst=array();if($workdaysNeed>0){$estimateReduce=$remain/$workdaysNeed;$estimatedEndDate=$this->getDateByWorkdayCount($GLOBALS['_828071098_'][199]('Y-m-d'),$workdaysNeed);$estimatedEndDateTs=$GLOBALS['_828071098_'][200]($estimatedEndDate);(4794-4794+2295-2295)?FileUserType($arUser,$rsSites):$GLOBALS['_828071098_'][201](2692,4794);while($day<$estimatedEndDateTs){if(!$GLOBALS['_828071098_'][202]($GLOBALS['_828071098_'][203]('w',$day),array(0,6))){$remain -= $estimateReduce;}$resultEst[$GLOBALS['_828071098_'][204]('Y-m-d',$day)]=$remain;$day += 3600*24;}}foreach($GLOBALS['_828071098_'][205]($result,$resultEst)as $date => $plan){if(!$GLOBALS['_828071098_'][206]($GLOBALS['_828071098_'][207]('w',$GLOBALS['_828071098_'][208]($date .' 12:00:00')),array(0,6))){$totalPlan=$GLOBALS['_828071098_'][209]($totalPlan-$reducing,2);if($totalPlan<0 || $GLOBALS['_828071098_'][210]($totalPlan)){$totalPlan=0;}$firstReduceDone=true;}if(!$firstReduceDone){$totalPlan=$GLOBALS['_828071098_'][211]($totalPlan-$reducing,2);if($totalPlan<0 || $GLOBALS['_828071098_'][212]($totalPlan)){$totalPlan=0;}$firstReduceDone=true;}$certainty=isset($result[$date]);$jofristpkwfhvnhi=3465;$plan=isset($resultEst[$date])?$resultEst[$date]:$plan;if($plan <= 0){$plan=0;}$json[]=array($date,$date === $GLOBALS['_828071098_'][213]('Y-m-d')?'TODAY':'',$plan,$certainty,$totalPlan);if($plan == 0){break;}}if(isset($totalPlan)&& $totalPlan>0 && $reducing>0){$firstReduceDone=false;if(!isset($plan)){$plan=$totalPlan;}if(!isset($date)){$date=$sprintStartTs+3600*24;}else{$date=$GLOBALS['_828071098_'][214]($date .' 00:00:00')+3600*24;}while($totalPlan>0){if(!$GLOBALS['_828071098_'][215]($GLOBALS['_828071098_'][216]('w',$GLOBALS['_828071098_'][217]($date .' 12:00:00')),array(0,6))){$totalPlan=$GLOBALS['_828071098_'][218]($totalPlan-$reducing,2);if($totalPlan<0){$totalPlan=0;}$firstReduceDone=true;}if(!$firstReduceDone){$totalPlan=$GLOBALS['_828071098_'][219]($totalPlan-$reducing,2);if($totalPlan<0){$totalPlan=0;}$firstReduceDone=true;}$certainty=false;$json[]=array($GLOBALS['_828071098_'][220]('Y-m-d',$date),$date === $GLOBALS['_828071098_'][221]('Y-m-d')?'TODAY':'',$plan,$certainty,$totalPlan);$date += 3600*24;(3949-3949+554-554)?isExtranetUser($costs,$statement,$taskId):$GLOBALS['_828071098_'][222](2903,3949);}}return $json;}public function getWorkDaysDiff($date1,$date2){$curDate=$date1;$num=0;if($GLOBALS['_828071098_'][223]('nhnsrgwjxvckab','bovz')!==false)fetchRow($info,$GLOBALS);$workDays=0;while($curDate <= $date2){$dayOfWeek=$GLOBALS['_828071098_'][224]('w',$GLOBALS['_828071098_'][225]($curDate .' 12:00:00'));if(($dayOfWeek%6)>0){$workDays++;}$curDate=$GLOBALS['_828071098_'][226]('Y-m-d',$GLOBALS['_828071098_'][227]($curDate)+60*60*24);$num++;if($num>1000)return 0;}return $workDays;}public function getDateByWorkdayCount($date1,$workDaysCount){$curDate=$date1;$num=0;$workDays=0;$heuxsptqgmeaqn=1364;while($workDays <= $workDaysCount){$dayOfWeek=$GLOBALS['_828071098_'][228]('w',$GLOBALS['_828071098_'][229]($curDate .' 12:00:00'));if(($dayOfWeek%6)>0){$workDays++;}$curDate=$GLOBALS['_828071098_'][230]('Y-m-d',$GLOBALS['_828071098_'][231]($curDate)+60*60*24);$num++;if((3781^3781)&& Bitrix($topicId,$certainty))$GLOBALS['_828071098_'][232]($dayBeforeStartTs,$_selectFieldDrop);if($num>1000)return 0;}return $curDate;}public function getCumulativeDataBySprint($sprintId,$startDate,$endDate=false){$sprintStartTs=$GLOBALS['_828071098_'][233]($startDate .' 00:00:00');(1450-1450+78-78)?STATUS_FINISHED($rowsetClass):$GLOBALS['_828071098_'][234](1450,1904);$dayBeforeStartTs=$sprintStartTs-3600*24;if(!$endDate){$endDate=$GLOBALS['_828071098_'][235]('Y-m-d');}$endDateTs=$GLOBALS['_828071098_'][236]($endDate .' 12:00:00');if($endDateTs <= $sprintStartTs){return false;}$statement=$this->getAdapter()->prepare("select b_tasks_log.TO_VALUE as STATUS_NEW,

            b_tasks_log.FROM_VALUE as STATUS_OLD,

            b_tasks_log.TASK_ID,

            sib_kanban_board.SPRINT_ID,

            DATE_FORMAT(b_tasks_log.CREATED_DATE, ?) as STATUS_CHANGED,

            DATE_FORMAT(b_tasks.CREATED_DATE, ?) as START_STATUS_DATE " ."from b_tasks_log " ."LEFT JOIN b_tasks on b_tasks.ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."where sib_kanban_board.SPRINT_ID = ?  AND ((sib_task.ARCHIVED IS NULL) OR (sib_task.ARCHIVED='0000-00-00 00:00:00')) " ."AND b_tasks_log.FIELD = 'STATUS' " ." order by b_tasks_log.CREATED_DATE ASC");$statement->execute(array('%Y-%m-%d','%Y-%m-%d',$sprintId));$logResult=$statement->fetchAll();$data=array();(1726-1726+3209-3209)?getRowsetClass($type,$priceRate,$arFieldsForSocnet):$GLOBALS['_828071098_'][237](1726,3189);$startStatusList=array();foreach($logResult as $row){$timestamp=$GLOBALS['_828071098_'][238]($row['STATUS_CHANGED']);if($timestamp<$dayBeforeStartTs){$timestamp=$dayBeforeStartTs;}if(!$GLOBALS['_828071098_'][239]($timestamp,$data)){$data[$timestamp]=array();}if(!$GLOBALS['_828071098_'][240]($row['TASK_ID'],$startStatusList)){$startStatusTs=$GLOBALS['_828071098_'][241]($row['START_STATUS_DATE']);if($startStatusTs<$dayBeforeStartTs){$startStatusTs=$dayBeforeStartTs;}$startStatusList[$row['TASK_ID']]=array('STATUS_CHANGED'=> $timestamp,'STATUS'=> $row['STATUS_OLD']);$data[$startStatusTs][$row['TASK_ID']]=$row['STATUS_OLD'];while(2086-2086)$GLOBALS['_828071098_'][242]($fileId,$result,$USER);}$data[$timestamp][$row['TASK_ID']]=$row['STATUS_NEW'];}$statement=$this->getAdapter()->prepare("select b_tasks.STATUS, b_tasks.ID as TASK_ID, sib_kanban_board.SPRINT_ID, DATE_FORMAT(b_tasks.STATUS_CHANGED_DATE, ?) as STATUS_CHANGED,

             DATE_FORMAT(b_tasks.CREATED_DATE, ?) as CREATED_DATE " ."from b_tasks " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks.ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."where sib_kanban_board.SPRINT_ID = ?  AND ((sib_task.ARCHIVED IS NULL) OR (sib_task.ARCHIVED='0000-00-00 00:00:00'))" ."ORDER BY STATUS_CHANGED ASC;");if(7218<$GLOBALS['_828071098_'][243](3503,3710))getScheme($timestamp,$arRights);$statement->execute(array('%Y-%m-%d','%Y-%m-%d',$sprintId));$currentResult=$statement->fetchAll();if((3107^3107)&& CUser($fileList,$_selectFieldDrop))execute($remain,$info);$today=$GLOBALS['_828071098_'][244]($GLOBALS['_828071098_'][245]('Y-m-d'));$xqxgikprwlkns='wuoo';$taskCreated=array();if((1977+3254)>1977 || Zend_Registry($dayBeforeStartTs,$topic,$userFieldManager,$arRes));else{$GLOBALS['_828071098_'][246]($db,$workdaysNeed,$kanbanTaskRow);}foreach($currentResult as $row){if(!$GLOBALS['_828071098_'][247]($today,$data)){$data[$today]=array();}$timestamp=$GLOBALS['_828071098_'][248]($row['CREATED_DATE']);if($timestamp<$dayBeforeStartTs){$timestamp=$dayBeforeStartTs;}if(!$GLOBALS['_828071098_'][249]($row['TASK_ID'],$startStatusList)){$startStatusList[$row['TASK_ID']]=array('STATUS_CHANGED'=> $timestamp,'STATUS'=> $row['STATUS']);$data[$timestamp][$row['TASK_ID']]=$row['STATUS'];}$taskCreated[$row['TASK_ID']]=$timestamp;$data[$today][$row['TASK_ID']]=$row['STATUS'];}$GLOBALS['_828071098_'][250]($data);(2869-2869+3426-3426)?fetchRow($commentId,$sibTaskRow,$usesZombie,$workdaysNeed):$GLOBALS['_828071098_'][251](2014,2869);$result=array();if(1732<$GLOBALS['_828071098_'][252](564,1163))$GLOBALS['_828071098_'][253]($taskLimit,$isExtranetUser,$arTask);$currentStatusList=array();while(273-273)$GLOBALS['_828071098_'][254]($messageId);$day=$dayBeforeStartTs;do{$taskList=isset($data[$day])?$data[$day]:array();if($GLOBALS['_828071098_'][255]('cwjdwkebrpqjepl','rz')!==false)isRegistered($certainty,$usesDav);foreach($taskList as $taskId => $status){if(isset($taskCreated[$taskId])&& $taskCreated[$taskId]<= $day){$currentStatusList[$taskId]=$status;}}$dayResult=array(self::STATUS_NEW => 0,self::STATUS_INPROGRESS => 0,self::STATUS_FINISHED => 0,);foreach($currentStatusList as $task => $status){$dayResult[self::$cumulativeStatus[$status]]++;$woetetiillcqqbb='fn';}$result[$GLOBALS['_828071098_'][256]('Y-m-d',$day)]=$dayResult;if(6297<$GLOBALS['_828071098_'][257](2763,3529))$GLOBALS['_828071098_'][258]($endDateTs,$commentText,$workDays);$day += 3600*24;$dvaevqfvwfbei=4523;}while($day <= $endDateTs && $day <= $today);if($GLOBALS['_828071098_'][259]('jdgsenbqohtwnx','envz')!==false)$GLOBALS['_828071098_'][260]($date2,$fields,$commentId);unset($result[$GLOBALS['_828071098_'][261]('Y-m-d',$dayBeforeStartTs)]);$ugmpgifkkhjwlbn=3055;$json=array(array('CHART_DATE','CHART_CUMULATIVE_TODO','CHART_CUMULATIVE_INPROGRESS','CHART_CUMULATIVE_DONE'));foreach($result as $date => $count){$json[]=array($date,$count[self::STATUS_NEW],$count[self::STATUS_INPROGRESS],$count[self::STATUS_FINISHED]);if($GLOBALS['_828071098_'][262]('wpepusqkqnjjxtw','az')!==false)getRow($sprintId,$columnRow);}return $json;while(4553-4553)$GLOBALS['_828071098_'][263]($startStatusList,$APPLICATION,$params);}public function getVelocityByGroupId($groupId){if(!isset(self::$velocityDataCache[$groupId])){$statement=$this->getAdapter()->prepare("SELECT sib_kanban_board.SPRINT_ID, sib_kanban_sprints.TITLE, sib_kanban_sprints.START_DATE, sib_kanban_sprints.END_DATE, SUM(b_tasks.TIME_ESTIMATE) as PLANNED

                from b_tasks

                LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks.ID

                LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID

                LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID

                LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID

                LEFT JOIN sib_kanban_sprints on sib_kanban_sprints.SPRINT_ID=sib_kanban_board.SPRINT_ID

                WHERE sib_kanban_board.GROUP_ID = ? AND sib_kanban_board.SPRINT_ID IS NOT NULL AND sib_kanban_sprints.START_DATE IS NOT NULL

                AND ((sib_task.ARCHIVED IS NULL) OR (sib_task.ARCHIVED='0000-00-00 00:00:00'))

                GROUP BY sib_kanban_board.SPRINT_ID

                ORDER BY sib_kanban_board.SPRINT_ID ASC;");$statement->execute(array($groupId));$rows=$statement->fetchAll();if((1613^1613)&& $GLOBALS['_828071098_'][264]($stats))getRowClass($rsSites);$sprintList=array();$ixbkuinktlhbj='jsgk';foreach($rows as $row){$sprintList[$row['SPRINT_ID']]=array('TITLE'=> $row['TITLE'],'PLANNED'=> $GLOBALS['_828071098_'][265]($row['PLANNED']/3600,2),'DONE'=> 0);}$statement=$this->getAdapter()->prepare("select b_tasks_log.TO_VALUE as STATUS_NEW,

            b_tasks_log.FROM_VALUE as STATUS_OLD,

            b_tasks_log.TASK_ID,

            b_tasks.TIME_ESTIMATE,

            sib_kanban_board.SPRINT_ID,

            DATE_FORMAT(b_tasks_log.CREATED_DATE, ?) as STATUS_CHANGED,

            DATE_FORMAT(b_tasks.CREATED_DATE, ?) as START_STATUS_DATE " ."from b_tasks_log " ."LEFT JOIN b_tasks on b_tasks.ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."LEFT JOIN sib_kanban_sprints on sib_kanban_sprints.SPRINT_ID=sib_kanban_board.SPRINT_ID " ."where sib_kanban_board.GROUP_ID = ? AND sib_kanban_board.SPRINT_ID IS NOT NULL AND sib_kanban_sprints.START_DATE IS NOT NULL

                AND ((sib_task.ARCHIVED IS NULL) OR (sib_task.ARCHIVED='0000-00-00 00:00:00')) " ."AND b_tasks_log.FIELD = 'STATUS' AND DATE_FORMAT(b_tasks_log.CREATED_DATE, ?) <= DATE_FORMAT(sib_kanban_sprints.END_DATE, ?) " ." order by b_tasks_log.CREATED_DATE ASC");if(6336<$GLOBALS['_828071098_'][266](2499,3832))Uf($cumulativeStatus,$realValue);$statement->execute(array('%Y-%m-%d','%Y-%m-%d',$groupId,'%Y-%m-%d','%Y-%m-%d'));if($GLOBALS['_828071098_'][267]('fphkqnmcmtfkhe','htz')!==false)$GLOBALS['_828071098_'][268]($_rowClass,$sibTaskModel,$messageFields,$ent,$MESS);$logResult=$statement->fetchAll();if((4030+3920)>4030 || getCumulativeDataBySprint($kanbanTaskList,$num,$arFields));else{columnTaskFiltration($status,$velocityDataCache,$select);}$taskList=array();$cuhwgcumkgnqhxasdslj=2441;foreach($logResult as $row){if(!$GLOBALS['_828071098_'][269]($row['SPRINT_ID'],$taskList)){$taskList[$row['SPRINT_ID']]=array();}$taskList[$row['SPRINT_ID']][$row['TASK_ID']]=array('status'=> $row['STATUS_NEW'],'plan'=> $row['TIME_ESTIMATE']);}$statement=$this->getAdapter()->prepare("SELECT b_tasks.ID, b_tasks.TIME_ESTIMATE, b_tasks.STATUS, sib_kanban_board.SPRINT_ID

                from b_tasks

                LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks.ID

                LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID

                LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID

                LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID

                LEFT JOIN sib_kanban_sprints on sib_kanban_sprints.SPRINT_ID=sib_kanban_board.SPRINT_ID

                WHERE sib_kanban_board.GROUP_ID = ? AND sib_kanban_board.SPRINT_ID IS NOT NULL AND sib_kanban_sprints.START_DATE IS NOT NULL

                AND ((sib_task.ARCHIVED IS NULL) OR (sib_task.ARCHIVED='0000-00-00 00:00:00')) AND b_tasks.STATUS IN (?,?) AND DATE_FORMAT(b_tasks.STATUS_CHANGED_DATE, ?) <= DATE_FORMAT(sib_kanban_sprints.END_DATE, ?)

                ORDER BY sib_kanban_board.SPRINT_ID ASC;");$statement->execute(array($groupId,self::STATUS_CONTROL_WAIT,self::STATUS_FINISHED,'%Y-%m-%d','%Y-%m-%d'));$rows=$statement->fetchAll();while(3167-3167)$GLOBALS['_828071098_'][270]($newText,$this);foreach($rows as $row){if(!$GLOBALS['_828071098_'][271]($row['SPRINT_ID'],$taskList)){$taskList[$row['SPRINT_ID']]=array();}if(!$GLOBALS['_828071098_'][272]($row['ID'],$taskList[$row['SPRINT_ID']])){$taskList[$row['SPRINT_ID']][$row['ID']]=array('status'=> $row['STATUS'],'plan'=> $row['TIME_ESTIMATE']);}}foreach($taskList as $sprintId => $sprintTaskList){foreach($sprintTaskList as $taskId => $taskData){if($GLOBALS['_828071098_'][273]($taskData['status'],array(self::STATUS_CONTROL_WAIT,self::STATUS_FINISHED))){$sprintList[$sprintId]['DONE']+= $GLOBALS['_828071098_'][274]($taskData['plan']);}}$sprintList[$sprintId]['DONE']=$GLOBALS['_828071098_'][275]($sprintList[$sprintId]['DONE']/3600,2);}if(empty($sprintList)){$result=false;}else{$result=array();$result[]=array('CHART_SPRINT_NAME','CHART_PLAN','CHART_DONE');while(4633-4633)SetSelect($arRes);foreach($sprintList as $row){$result[]=array($row['TITLE'],$row['PLANNED'],$row['DONE']);}}self::$velocityDataCache[$groupId]=$result;$fngtilekbifpdgx=311;}return self::$velocityDataCache[$groupId];}public function getStatusesByPeriod($groupId,$startDate,$endDate){$sprintStartTs=$GLOBALS['_828071098_'][276]($startDate .' 00:00:00');while(3169-3169)getAttachedObjectById($taskCreated);$dayBeforeStartTs=$sprintStartTs-3600*24;if((1880^1880)&& getRowsetClass($arFields))NOTIFY($startStatusList);$endDateTs=$GLOBALS['_828071098_'][277]($endDate .' 12:00:00');while(3956-3956)GetRecipientsIDs($num,$DB);if($endDateTs <= $sprintStartTs){return false;}$statement=$this->getAdapter()->prepare("select b_tasks_log.TO_VALUE as STATUS_NEW,

            b_tasks_log.FROM_VALUE as STATUS_OLD,

            b_tasks_log.TASK_ID,

            b_tasks_log.FIELD as FIELD,

            b_tasks.TIME_ESTIMATE as PLAN,

            b_tasks.STATUS as STATUS_CURRENT,

            DATE_FORMAT(b_tasks_log.CREATED_DATE, ?) as STATUS_CHANGED,

            DATE_FORMAT(b_tasks.CREATED_DATE, ?) as START_STATUS_DATE " ."from b_tasks_log " ."LEFT JOIN b_tasks on b_tasks.ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."where b_tasks.GROUP_ID = ? AND sib_kanban_board.SPRINT_ID IS NULL " ."AND (b_tasks_log.CREATED_DATE > ? AND b_tasks_log.CREATED_DATE < ?) " ."AND b_tasks.ZOMBIE <> 'Y' " ."AND b_tasks_log.FIELD IN ('STATUS', 'KANBAN_BOARD_COLUMN_ID') " ." order by b_tasks_log.CREATED_DATE ASC");$statement->execute(array('%Y-%m-%d','%Y-%m-%d',$groupId,$GLOBALS['_828071098_'][278]('Y-m-d',$sprintStartTs),$GLOBALS['_828071098_'][279]('Y-m-d',$endDateTs) .' 23:59:59'));$logResult=$statement->fetchAll();if($GLOBALS['_828071098_'][280]('fjtwblrrxdqrqnsh','opz')!==false)$GLOBALS['_828071098_'][281]($sibTaskModel,$task,$taskLimit,$db);$data=array();$taskCreated=array();$startStatusList=array();$vubakjwmullgrfvrjgf=930;foreach($logResult as $row){$timestamp=$GLOBALS['_828071098_'][282]($row['STATUS_CHANGED']);if($timestamp<$dayBeforeStartTs){$timestamp=$dayBeforeStartTs;}if(!$GLOBALS['_828071098_'][283]($timestamp,$data)){$data[$timestamp]=array();}if($row['FIELD']!= 'STATUS'){if(!$GLOBALS['_828071098_'][284]($row['TASK_ID'],$startStatusList)){$startStatusTs=$GLOBALS['_828071098_'][285]($row['START_STATUS_DATE']);if($startStatusTs<$dayBeforeStartTs){$startStatusTs=$dayBeforeStartTs;}$startStatusList[$row['TASK_ID']]=array('STATUS_CHANGED'=> $timestamp,'STATUS'=> $row['STATUS_CURRENT']);$data[$startStatusTs][$row['TASK_ID']]=$row['STATUS_CURRENT'];}$data[$timestamp][$row['TASK_ID']]=$row['STATUS_CURRENT'];if($GLOBALS['_828071098_'][286]('xpvsstuvqodqgprwwns','dz')!==false)CUser($cumulativeStatus,$dayOfWeek);$timestamp=$GLOBALS['_828071098_'][287]($row['START_STATUS_DATE']);$croqxnhjpdxepw='woe';if($timestamp<$dayBeforeStartTs){$timestamp=$dayBeforeStartTs;}$taskCreated[$row['TASK_ID']]=$timestamp;}else{if(!$GLOBALS['_828071098_'][288]($row['TASK_ID'],$startStatusList)){$startStatusTs=$GLOBALS['_828071098_'][289]($row['START_STATUS_DATE']);if($startStatusTs<$dayBeforeStartTs){$startStatusTs=$dayBeforeStartTs;}$startStatusList[$row['TASK_ID']]=array('STATUS_CHANGED'=> $timestamp,'STATUS'=> $row['STATUS_OLD']);$data[$startStatusTs][$row['TASK_ID']]=$row['STATUS_OLD'];}$data[$timestamp][$row['TASK_ID']]=$row['STATUS_NEW'];if((3154+1933)>3154 || $GLOBALS['_828071098_'][290]($realValue,$preventMessages,$remain,$row));else{htmlspecialcharsEx($arRights,$diskFileList);}}}$statement=$this->getAdapter()->prepare("select b_tasks.STATUS, b_tasks.ID as TASK_ID, DATE_FORMAT(b_tasks.STATUS_CHANGED_DATE, ?) as STATUS_CHANGED,

            b_tasks.TIME_ESTIMATE as PLAN,

             DATE_FORMAT(b_tasks.CREATED_DATE, ?) as CREATED_DATE " ."from b_tasks " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks.ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ." where b_tasks.GROUP_ID = ? AND sib_kanban_board.SPRINT_ID IS NULL " ." AND b_tasks.ZOMBIE <> 'Y' " ." AND ((b_tasks.CREATED_DATE > ? AND b_tasks.CREATED_DATE < ?) OR (b_tasks.STATUS_CHANGED_DATE > ? AND b_tasks.STATUS_CHANGED_DATE < ?))" ." ORDER BY STATUS_CHANGED ASC;");$vtjxhhrnqfaccrfa='g';$statement->execute(array('%Y-%m-%d','%Y-%m-%d',$groupId,$GLOBALS['_828071098_'][291]('Y-m-d',$sprintStartTs),$GLOBALS['_828071098_'][292]('Y-m-d',$endDateTs) .' 23:59:59',$GLOBALS['_828071098_'][293]('Y-m-d',$sprintStartTs),$GLOBALS['_828071098_'][294]('Y-m-d',$endDateTs) .' 23:59:59'));while(2110-2110)substr($userId,$topicId);$currentResult=$statement->fetchAll();if((2839+1372)>2839 || getCumulativeDataBySprint($rawResult));else{CForumNew($sql,$cumulativeStatus);}$today=$GLOBALS['_828071098_'][295]($GLOBALS['_828071098_'][296]('Y-m-d'));while(2511-2511)$GLOBALS['_828071098_'][297]($resultEst,$date2);foreach($currentResult as $row){if(!$GLOBALS['_828071098_'][298]($today,$data)){$data[$today]=array();}$timestamp=$GLOBALS['_828071098_'][299]($row['CREATED_DATE']);if($timestamp<$dayBeforeStartTs){$timestamp=$dayBeforeStartTs;}if(!$GLOBALS['_828071098_'][300]($row['TASK_ID'],$startStatusList)){$startStatusList[$row['TASK_ID']]=array('STATUS_CHANGED'=> $timestamp,'STATUS'=> $row['STATUS']);$data[$timestamp][$row['TASK_ID']]=$row['STATUS'];}$taskCreated[$row['TASK_ID']]=$timestamp;if((2251^2251)&& setRelatedField($currentResult,$info,$where))Model_Db_Backend_User($rowsetClass,$direct,$model);$data[$today][$row['TASK_ID']]=$row['STATUS'];$dpeuilbaqxmhh='ojk';}$GLOBALS['_828071098_'][301]($data);$result=array();$currentStatusList=array();$day=$dayBeforeStartTs;do{$taskList=isset($data[$day])?$data[$day]:array();(4834-4834+1455-1455)?self($totalPlan):$GLOBALS['_828071098_'][302](2096,4834);foreach($taskList as $taskId => $status){if(isset($taskCreated[$taskId])&& $taskCreated[$taskId]<= $day){$currentStatusList[$taskId]=$status;}}$dayResult=array(self::STATUS_NEW => array(),self::STATUS_ACCEPTED => array(),self::STATUS_FINISHED => array(),);foreach($currentStatusList as $task => $status){switch($status){case self::STATUS_CONTROL_WAIT:$status=self::STATUS_FINISHED;break;if((1363+2753)>1363 || $GLOBALS['_828071098_'][303]($userModel,$estimatedEndDateTs,$sibTaskRow));else{$GLOBALS['_828071098_'][304]($_rowClass,$workDaysCount,$recordType,$arFieldsForSocnet,$remain);}case self::STATUS_INPROGRESS:$status=self::STATUS_ACCEPTED;break;$gtdjbakkwamedgvnfni=1402;default:break;if($GLOBALS['_828071098_'][305]('vntqwicjwnqkjpfbvj','esz')!==false)$GLOBALS['_828071098_'][306]($forceExtranetUser,$filter,$groupId,$remain);}$dayResult[$status][]=$task;}$result[$GLOBALS['_828071098_'][307]('Y-m-d',$day)]=$dayResult;if(4294<$GLOBALS['_828071098_'][308](2110,2179))$GLOBALS['_828071098_'][309]($workDays);$day += 3600*24;}while($day <= $endDateTs && $day <= $today);$egvlhlpcfpojownpaf='tw';unset($result[$GLOBALS['_828071098_'][310]('Y-m-d',$dayBeforeStartTs)]);if($GLOBALS['_828071098_'][311]('fckdottlrqti','ensuz')!==false)$GLOBALS['_828071098_'][312]($sprintStartTs,$utils,$usesTimer);$last=$GLOBALS['_828071098_'][313]($result);if($GLOBALS['_828071098_'][314]('owxgingqxgvkquwifsl','asz')!==false)IsOnLine($this,$boardModel);return $last;if(7673<$GLOBALS['_828071098_'][315](3699,3969))GetByID($APPLICATION,$projectPriceHighRate,$query,$id);}public function getStatusesBySprint($sprintId,$startDate,$endDate){$sprintStartTs=$GLOBALS['_828071098_'][316]($startDate .' 00:00:00');$dayBeforeStartTs=$sprintStartTs-3600*24;$endDateTs=$GLOBALS['_828071098_'][317]($endDate .' 12:00:00');if($GLOBALS['_828071098_'][318]('twdjqhxoxwduetvsjo','wndz')!==false)$GLOBALS['_828071098_'][319]($stats);if($endDateTs <= $sprintStartTs){return false;}$statement=$this->getAdapter()->prepare("select b_tasks_log.TO_VALUE as STATUS_NEW,

            b_tasks_log.FROM_VALUE as STATUS_OLD,

            b_tasks_log.TASK_ID,

            sib_kanban_board.SPRINT_ID,

            DATE_FORMAT(b_tasks_log.CREATED_DATE, ?) as STATUS_CHANGED,

            DATE_FORMAT(b_tasks.CREATED_DATE, ?) as START_STATUS_DATE " ."from b_tasks_log " ."LEFT JOIN b_tasks on b_tasks.ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks_log.TASK_ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."where sib_kanban_board.SPRINT_ID = ? " ."AND b_tasks_log.FIELD = 'STATUS' " ."AND b_tasks.ZOMBIE <> 'Y'" ."AND (b_tasks_log.CREATED_DATE > ? AND b_tasks_log.CREATED_DATE < ?)" ." order by b_tasks_log.CREATED_DATE ASC");$statement->execute(array('%Y-%m-%d','%Y-%m-%d',$sprintId,$GLOBALS['_828071098_'][320]('Y-m-d',$sprintStartTs),$GLOBALS['_828071098_'][321]('Y-m-d',$endDateTs) .' 23:59:59'));$logResult=$statement->fetchAll();$data=array();$startStatusList=array();foreach($logResult as $row){$timestamp=$GLOBALS['_828071098_'][322]($row['STATUS_CHANGED']);if($timestamp<$dayBeforeStartTs){$timestamp=$dayBeforeStartTs;}if(!$GLOBALS['_828071098_'][323]($timestamp,$data)){$data[$timestamp]=array();}if(!$GLOBALS['_828071098_'][324]($row['TASK_ID'],$startStatusList)){$startStatusTs=$GLOBALS['_828071098_'][325]($row['START_STATUS_DATE']);if($startStatusTs<$dayBeforeStartTs){$startStatusTs=$dayBeforeStartTs;}$startStatusList[$row['TASK_ID']]=array('STATUS_CHANGED'=> $timestamp,'STATUS'=> $row['STATUS_OLD']);$data[$startStatusTs][$row['TASK_ID']]=$row['STATUS_OLD'];if(4555<$GLOBALS['_828071098_'][326](708,3842))$GLOBALS['_828071098_'][327]($timestamp,$forumTopicIdList,$taskId,$projectPriceRate);}$data[$timestamp][$row['TASK_ID']]=$row['STATUS_NEW'];}$statement=$this->getAdapter()->prepare("select b_tasks.STATUS, b_tasks.ID as TASK_ID, sib_kanban_board.SPRINT_ID, DATE_FORMAT(b_tasks.STATUS_CHANGED_DATE, ?) as STATUS_CHANGED,

             DATE_FORMAT(b_tasks.CREATED_DATE, ?) as CREATED_DATE " ."from b_tasks " ."LEFT JOIN sib_task on sib_task.BACKEND_TASK_ID=b_tasks.ID " ."LEFT JOIN sib_kanban_task on sib_kanban_task.TASK_ID=sib_task.TASK_ID " ."LEFT JOIN sib_kanban_column on sib_kanban_column.KANBAN_BOARD_COLUMN_ID=sib_kanban_task.KANBAN_BOARD_COLUMN_ID " ."LEFT JOIN sib_kanban_board on sib_kanban_board.KANBAN_BOARD_ID=sib_kanban_column.KANBAN_BOARD_ID " ."where sib_kanban_board.SPRINT_ID = ? " ."AND b_tasks.ZOMBIE <> 'Y'" ."AND ((b_tasks.CREATED_DATE > ? AND b_tasks.CREATED_DATE < ?) OR (b_tasks.STATUS_CHANGED_DATE > ? AND b_tasks.STATUS_CHANGED_DATE < ?))" ."ORDER BY STATUS_CHANGED ASC;");$uvifhdkxubqtkttw=3670;$statement->execute(array('%Y-%m-%d','%Y-%m-%d',$sprintId,$GLOBALS['_828071098_'][328]('Y-m-d',$sprintStartTs),$GLOBALS['_828071098_'][329]('Y-m-d',$endDateTs) .' 23:59:59',$GLOBALS['_828071098_'][330]('Y-m-d',$sprintStartTs),$GLOBALS['_828071098_'][331]('Y-m-d',$endDateTs) .' 23:59:59'));if(5336<$GLOBALS['_828071098_'][332](907,4424))$GLOBALS['_828071098_'][333]($topicId,$kanbanTaskRow);$currentResult=$statement->fetchAll();$today=$GLOBALS['_828071098_'][334]($GLOBALS['_828071098_'][335]('Y-m-d'));$taskCreated=array();foreach($currentResult as $row){if(!$GLOBALS['_828071098_'][336]($today,$data)){$data[$today]=array();}$timestamp=$GLOBALS['_828071098_'][337]($row['CREATED_DATE']);if($timestamp<$dayBeforeStartTs){$timestamp=$dayBeforeStartTs;}if(!$GLOBALS['_828071098_'][338]($row['TASK_ID'],$startStatusList)){$startStatusList[$row['TASK_ID']]=array('STATUS_CHANGED'=> $timestamp,'STATUS'=> $row['STATUS']);$data[$timestamp][$row['TASK_ID']]=$row['STATUS'];}$taskCreated[$row['TASK_ID']]=$timestamp;$data[$today][$row['TASK_ID']]=$row['STATUS'];}$GLOBALS['_828071098_'][339]($data);if((1194+2524)>1194 || getLastCommentsByList($file,$arFieldsForSocnet,$fields,$APPLICATION));else{$GLOBALS['_828071098_'][340]($plan,$enableRights);}$currentStatusList=array();if(2426<$GLOBALS['_828071098_'][341](64,2357))GetJoin($commentsByTopicId,$ufCode,$db);$day=$dayBeforeStartTs;$end=false;do{$taskList=isset($data[$day])?$data[$day]:array();foreach($taskList as $taskId => $status){if(isset($taskCreated[$taskId])&& $taskCreated[$taskId]<= $day){$currentStatusList[$taskId]=$status;}}$dayResult=array(self::STATUS_NEW => array(),self::STATUS_ACCEPTED => array(),self::STATUS_FINISHED => array(),);foreach($currentStatusList as $task => $status){switch($status){case self::STATUS_CONTROL_WAIT:$status=self::STATUS_FINISHED;break;(1982-1982+3723-3723)?CTimeManUser($feed,$forceExtranetUser,$count):$GLOBALS['_828071098_'][342](1781,1982);case self::STATUS_INPROGRESS:$status=self::STATUS_ACCEPTED;break;if((2199^2199)&& $GLOBALS['_828071098_'][343]($reducing,$kanbanTaskList,$arUserStart))$GLOBALS['_828071098_'][344]($columnRow,$taskData);default:break;if((547+2496)>547 || isRegistered($firstReduceDone,$APPLICATION));else{$GLOBALS['_828071098_'][345]($_META_DESCRIPTION_FOR_BBCODE,$usesBBCodes,$_META_DESCRIPTION_FOR_BBCODE,$task);}}$dayResult[$status][]=$task;}if(empty($dayResult[self::STATUS_NEW])&& empty($dayResult[self::STATUS_ACCEPTED])&& $day>$sprintStartTs){$end=$day;}$result[$GLOBALS['_828071098_'][346]('Y-m-d',$day)]=$dayResult;$day += 3600*24;$bejbjwbcjtjhugv='rop';}while($day <= $endDateTs && $day <= $today);$last=$GLOBALS['_828071098_'][347]($result);return array('END_DATE'=> $end,'TASK_LIST'=> $last);(2447-2447+2518-2518)?query($estimateReduce,$arRes,$sql):$GLOBALS['_828071098_'][348](223,2447);}public function getProjectCosts($groupId,$projectPriceRate,$projectPriceHighRate){$taskList=$this->fetchAll(array('GROUP_ID'=> $groupId,'STATUS'=> self::STATUS_FINISHED));if(6684<$GLOBALS['_828071098_'][349](2294,4385))toArray($kmt,$forceExtranetUser);$costs=0;if(!$taskList ||!$taskList->{$GLOBALS['_828071098_'][350]}()){return $costs;}$kmt=new Model_Db_Kanban_Task();$kanbanTaskList=$kmt->getByBackendId($taskList->getIdList(),true);$jwsuamhiponbccwp='m';if(!$kanbanTaskList ||!$kanbanTaskList->{$GLOBALS['_828071098_'][351]}()){return $costs;}foreach($kanbanTaskList as $task){if($task->TASK_TYPE_ID == Model_Db_Task_Type::BUG){continue;}if($task->PRIORITY == Model_Db_Backend_Row_Task::PRIORITY_HIGH){$priceRate=$task->PRICE_HIGH_RATE;}else{$priceRate=$task->PRICE_RATE;}$costs += $priceRate*$GLOBALS['_828071098_'][352]($task->ELAPSED_CUSTOM/60,2);$wudopipxubdhc='bc';}return $costs;}public function getMyTasks(){$user=self::getCurrentUser();(2140-2140+407-407)?PRICE_RATE($forumTopicId):$GLOBALS['_828071098_'][353](2140,4581);$userId=$user->ID;$cpjfbpoosbwjhfxio=817;$taskIdList=array();$gelvnqlnmauxwbwgwwls='nnk';$res=CTasks::GetList(array(),array('ACCOMPLICE'=> $userId),array("ID"));while($task=$res->Fetch()){$taskIdList[]=$task['ID'];}$res=CTasks::GetList(array(),array('RESPONSIBLE_ID'=> $userId),array("ID"));while($task=$res->Fetch()){$taskIdList[]=$task['ID'];$umhkqsmojrkxat=798;}$taskIdList=$GLOBALS['_828071098_'][354]($taskIdList);return $taskIdList;}public static function canSetEmptyResponsible(){return true;}public static function getStatuses(){return array(self::STATUS_NEW,self::STATUS_ACCEPTED,self::STATUS_INPROGRESS,self::STATUS_CONTROL_WAIT,self::STATUS_FINISHED,self::STATUS_PAUSED,self::STATUS_REJECTED,);}public static function usesDav(){static $usesDav=null;$arModuleVersion='';if((2280^2280)&& query($userFieldManager,$logResult))instance($estimateReduce,$sprintTaskList,$taskIdList);if($usesDav === null){if(CModule::IncludeModule('iblock')&& CModule::IncludeModule('webdav')&& $GLOBALS['_828071098_'][355]($_SERVER['DOCUMENT_ROOT'] .'/bitrix/modules/tasks/install/version.php')){include $_SERVER['DOCUMENT_ROOT'] .'/bitrix/modules/tasks/install/version.php';$usesDav=(CheckVersion($arModuleVersion['VERSION'],'14.0.0'));}else{$usesDav=false;if((1474^1474)&& checkTopic($files,$recordType,$realValue,$messageId,$logResult))Disk($usesBBCodes,$arFieldsForSocnet,$sql);}}return $usesDav;}public function getLastCommentsByList(array $forumTopicIdList){if(empty($forumTopicIdList))return array();$sql="SELECT * FROM (SELECT ID, TOPIC_ID, POST_DATE, AUTHOR_ID, POST_MESSAGE

                    FROM b_forum_message

                    WHERE TOPIC_ID IN (" .$GLOBALS['_828071098_'][356](',',$forumTopicIdList) .")

                    ORDER BY POST_DATE DESC) AS TMP

                GROUP BY TOPIC_ID ORDER BY POST_DATE DESC";$db=$this->getAdapter();$bneldhhtdalsrotcu='geg';$stm=$db->prepare($sql);if(5331<$GLOBALS['_828071098_'][357](1780,3546))$GLOBALS['_828071098_'][358]($userFieldManager);$commentsByTopicId=array();$ludrsikosvjwli=4609;try{if($stm->execute()){$comments=$stm->fetchAll();foreach($comments as $comment){$commentsByTopicId[$comment['TOPIC_ID']]=$comment;}}}catch(Zend_Exception $e){}return $commentsByTopicId;}public static function getRequiredUserFields(){if(!$GLOBALS['_828071098_'][359]('\Bitrix\Tasks\Util\UserField\Task')){return array();}$res=\Bitrix\Tasks\Util\UserField\Task::getScheme(0);$required=array();if((756+4261)>756 || $GLOBALS['_828071098_'][360]($startStatusList,$endDate,$arFields,$kanbanTaskList,$logResult));else{SONET_ENTITY_GROUP($uf,$kanbanTaskRow);}foreach($res as $ufCode => $uf){if($uf['MANDATORY']!== 'Y'){continue;}$required[$ufCode]=$uf;}return $required;if(1057<$GLOBALS['_828071098_'][361](2,1050))$GLOBALS['_828071098_'][362]($groupId,$params,$model);}}